  [1m[36mActiveRecord::SchemaMigration Load (9.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (5.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (10.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (8.0ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 12:53:23', '2016-12-30 12:53:23', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 12:53:23', '2016-12-30 12:53:23', 298486374)
  [1m[36mFixture Delete (8.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (7.1ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 12:53:23', '2016-12-30 12:53:23', 980190962)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 12:53:23', '2016-12-30 12:53:23', 298486374)[0m
  [1m[35mFixture Delete (23.4ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 12:53:23', '2016-12-30 12:53:23', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 12:53:23', '2016-12-30 12:53:23', 298486374)
  [1m[36mFixture Delete (15.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$ACpYXjxJUXu4hdFbXWb1oegHReWtWmc/f7Xd9ok7j51NMO.GD1XMC', '2016-12-30 12:53:23', '2016-12-30 12:53:23', 762146111)
  [1m[36m (15.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-30 20:53:23 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (25770.3ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 25882ms (Views: 25873.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-30 20:53:49 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (16.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 67ms (Views: 66.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-30 20:53:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-30 20:53:49 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (1.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 52ms (Views: 51.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$lLY9m1efCtmcDcu7HpF1X.7WilK36QHTFoaX2y91DifjGsjcT6u12"], ["created_at", "2016-12-30 12:53:50.158668"], ["updated_at", "2016-12-30 12:53:50.158668"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:00:19', '2016-12-30 13:00:19', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:00:19', '2016-12-30 13:00:19', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:00:19', '2016-12-30 13:00:19', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:00:19', '2016-12-30 13:00:19', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:00:19', '2016-12-30 13:00:19', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:00:19', '2016-12-30 13:00:19', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$8XhEwyfUq9GbjC9cDuzuKeMl7IFUjZjtl0z.gNQxkNXwqzWnpaJ..', '2016-12-30 13:00:19', '2016-12-30 13:00:19', 762146111)
  [1m[36m (15.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-30 21:00:19 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 859ms (Views: 837.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-30 21:00:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-30 21:00:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 94ms (Views: 85.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-30 21:00:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 59ms (Views: 62.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$qd5BoZ5okZKrBM1IX/SVFuUmNp3Y0xK7TcuDMARGwKXsKyD3LePxS"], ["created_at", "2016-12-30 13:00:21.400444"], ["updated_at", "2016-12-30 13:00:21.400444"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (15.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:04:46', '2016-12-30 13:04:46', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:04:46', '2016-12-30 13:04:46', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:04:46', '2016-12-30 13:04:46', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:04:46', '2016-12-30 13:04:46', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:04:46', '2016-12-30 13:04:46', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:04:46', '2016-12-30 13:04:46', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$H4OEv4ngHaUSoDJs2nD0i.EgRMzFYzup5sYaToUvKCMCPLaaKPKZO', '2016-12-30 13:04:46', '2016-12-30 13:04:46', 762146111)
  [1m[36m (15.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2016-12-30 21:04:46 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (312.6ms)
  Rendered users/new.html.erb within layouts/application (312.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1006ms (Views: 993.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:34:31', '2016-12-30 13:34:31', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:34:31', '2016-12-30 13:34:31', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:34:31', '2016-12-30 13:34:31', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:34:31', '2016-12-30 13:34:31', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:34:31', '2016-12-30 13:34:31', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:34:31', '2016-12-30 13:34:31', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$ZxZTGNNpJlfpODyjNaiio.HJcW4FGPWOExj6cm1UBdGKZ/PMa872i', '2016-12-30 13:34:31', '2016-12-30 13:34:31', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '$2a$04$u7ZCABot1Ia5JQuJH0Lo8.CMFnDHXrwvWpzIdgYB9.ZNXSYtmF0p2', '2016-12-30 13:34:31', '2016-12-30 13:34:31', 430533587)[0m
  [1m[35m (15.6ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (15.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$JkZeLJScSg8jTEKOE6UpwufCA.KTESwXBPSLsE/1eOJd/QeFHZPVu"], ["created_at", "2016-12-30 13:34:31.907325"], ["updated_at", "2016-12-30 13:34:31.907325"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (15.7ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 844ms (Views: 843.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-30 21:34:32 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 91ms (Views: 79.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-30 21:34:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-30 21:34:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 41.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-30 21:34:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2016-12-30 21:34:32 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (15.6ms)
  Rendered users/new.html.erb within layouts/application (31.3ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 63ms (Views: 64.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:10', '2016-12-30 13:36:10', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:10', '2016-12-30 13:36:10', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:36:10', '2016-12-30 13:36:10', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:36:10', '2016-12-30 13:36:10', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:10', '2016-12-30 13:36:10', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:10', '2016-12-30 13:36:10', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$Lf1h.HYWaGAUKy6W8om2fOvBB7AsG/qXY70/4EkGLj8IV7GlNh/l6', '2016-12-30 13:36:10', '2016-12-30 13:36:10', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '$2a$04$/YHqJLo9gdZHYacs0.3B7.cp868.GA9fNG3VY3QCDVv.kEwU0yhPW', '2016-12-30 13:36:10', '2016-12-30 13:36:10', 430533587)[0m
  [1m[35m (15.6ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$bg8MJ1mX70gTSWUEQunHluBscEbew/DaJQBcA7zZ5bA4xH3V4OcBy"], ["created_at", "2016-12-30 13:36:11.252224"], ["updated_at", "2016-12-30 13:36:11.252224"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
UserTest: test_user_authenticated?_should_return_false_for_a_user_with_nil_digest
---------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (15.6ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (15.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:37', '2016-12-30 13:36:37', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:37', '2016-12-30 13:36:37', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:36:37', '2016-12-30 13:36:37', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:36:37', '2016-12-30 13:36:37', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:37', '2016-12-30 13:36:37', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:37', '2016-12-30 13:36:37', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$EYR01U3RuUdiwigtTviUXe7TrnLSJ6dYcqrXZSpM1Jw2esyyliLOG', '2016-12-30 13:36:37', '2016-12-30 13:36:37', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '$2a$04$Owqwqa.EtaooISClXrOqQO4OF0MJizbdOi1DKjEpHDjwVGEHGpdge', '2016-12-30 13:36:37', '2016-12-30 13:36:37', 430533587)[0m
  [1m[35m (15.8ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-30 21:36:37 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (655.4ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 749ms (Views: 745.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2016-12-30 21:36:38 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (281.3ms)
  Rendered users/new.html.erb within layouts/application (296.9ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 344ms (Views: 337.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------------
UserTest: test_user_authenticated?_should_return_false_for_a_user_with_nil_digest
---------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$BgkRQVGhW9.kzM712yGGPeVKuV6riWNqTMAvWS8LLkl9pZsadW0t2"], ["created_at", "2016-12-30 13:36:38.535192"], ["updated_at", "2016-12-30 13:36:38.535192"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-30 21:36:38 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 48.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-30 21:36:38 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-30 21:36:38 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:58', '2016-12-30 13:36:58', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:58', '2016-12-30 13:36:58', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:36:58', '2016-12-30 13:36:58', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:36:58', '2016-12-30 13:36:58', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:58', '2016-12-30 13:36:58', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:58', '2016-12-30 13:36:58', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$tCBKqDNSLMhMt2aoRxeybu6HcKb5gc0xegRmVV0pX1WKhOFgMTf6C', '2016-12-30 13:36:58', '2016-12-30 13:36:58', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '$2a$04$r0bUU6c7ao0jPJ9f1BOrvODV0cG1RBzhxrRFEWXyPy0ufpET6hwBa', '2016-12-30 13:36:58', '2016-12-30 13:36:58', 430533587)[0m
  [1m[35m (15.8ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2016-12-30 21:36:58 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (302.6ms)
  Rendered users/new.html.erb within layouts/application (302.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 988ms (Views: 972.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-30 21:36:59 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 42.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 45.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$n/FkPHftbOsj/WYz63Zle.0wWpOeA7lTLi/yllDNd7PBbbOfCgMZ6"], ["created_at", "2016-12-30 13:36:59.680564"], ["updated_at", "2016-12-30 13:36:59.680564"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-30 21:36:59 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 47.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-30 21:36:59 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-30 21:36:59 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2016-12-30 13:51:07', '2016-12-30 13:51:07', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:51:07', '2016-12-30 13:51:07', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:51:07', '2016-12-30 13:51:07', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:51:07', '2016-12-30 13:51:07', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2016-12-30 13:51:07', '2016-12-30 13:51:07', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2016-12-30 13:51:07', '2016-12-30 13:51:07', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$ZCdyWU8xLAG8EP9k9bIoweoREwXmH4y7tK694wWjmEhBraJwt61S6', '2016-12-30 13:51:07', '2016-12-30 13:51:07', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$7qIz0AqMhY1.0hPTWScHt.1siLmcQqoBkHETzVro4etEsbrmZpMsO', '2016-12-30 13:51:07', '2016-12-30 13:51:07', 430533587)[0m
  [1m[35m (31.3ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (15.6ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 790ms (Views: 793.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2016-12-30 21:51:08 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (265.6ms)
  Rendered users/new.html.erb within layouts/application (281.3ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 328ms (Views: 323.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$D4MDBU79s90lYTqraSgnXOilH0YIK/IhEQRKYJvzKUpYzAHtsOXM2"], ["created_at", "2016-12-30 13:51:08.396680"], ["updated_at", "2016-12-30 13:51:08.396680"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-30 21:51:08 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 45.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-30 21:51:08 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-30 21:51:08 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 37ms (Views: 44.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-30 21:51:08 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (15.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (15.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (15.6ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2016-12-31 02:33:17', '2016-12-31 02:33:17', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-31 02:33:17', '2016-12-31 02:33:17', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (15.6ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 02:33:17', '2016-12-31 02:33:17', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 02:33:17', '2016-12-31 02:33:17', 298486374)[0m
  [1m[35mFixture Delete (15.6ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2016-12-31 02:33:17', '2016-12-31 02:33:17', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2016-12-31 02:33:17', '2016-12-31 02:33:17', 70046091)
  [1m[36mFixture Delete (15.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$wwVDji98fx4pDlu.Sy/Gf.g7orwv.Fv./3w4hDaC.5aK.HUGvhlKO', '2016-12-31 02:33:17', '2016-12-31 02:33:17', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$fcNh/TjfVBOoFZdhinw.fOSX/7c6oOy/oVjie6OKzN6FOzin.A4Vi', '2016-12-31 02:33:17', '2016-12-31 02:33:17', 430533587)[0m
  [1m[35m (15.6ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2016-12-31 10:33:17 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (15.6ms)
  Rendered users/_form.html.erb (530.4ms)
  Rendered users/new.html.erb within layouts/application (577.2ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1750ms (Views: 1745.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-31 10:33:19 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 63ms (Views: 63.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-31 10:33:19 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-31 10:33:19 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 45.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[35mNotice Load (0.0ms)[0m  SELECT "notices".* FROM "notices"  ORDER BY updated_at DESC
  Rendered notices/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 63ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-31 10:33:19 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (15.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (15.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$JrkEC6XDCCrl2PCWLgVeN.9IaBrpljfho/nAm6A8IYIrFYERvIqem"], ["created_at", "2016-12-31 02:33:19.924424"], ["updated_at", "2016-12-31 02:33:19.924424"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (15.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2016-12-31 04:46:23', '2016-12-31 04:46:23', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-31 04:46:23', '2016-12-31 04:46:23', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (15.6ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 04:46:23', '2016-12-31 04:46:23', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 04:46:23', '2016-12-31 04:46:23', 298486374)[0m
  [1m[35mFixture Delete (9.2ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (7.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2016-12-31 04:46:23', '2016-12-31 04:46:23', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2016-12-31 04:46:23', '2016-12-31 04:46:23', 70046091)
  [1m[36mFixture Delete (8.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (7.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$jfPaZD/ASIW.QO9hZV.dB.4iT8FebTS1K5M0O8dip9njSTGsm1xXa', '2016-12-31 04:46:23', '2016-12-31 04:46:23', 762146111)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$9Xi3wxx4Dc4F6OlzvsHcpucoMTSq2EM8JFYDpCC5k53ZULxqjZaky', '2016-12-31 04:46:23', '2016-12-31 04:46:23', 430533587)[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (15.6ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2016-12-31 04:49:26', '2016-12-31 04:49:26', 980190962)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-31 04:49:26', '2016-12-31 04:49:26', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 04:49:26', '2016-12-31 04:49:26', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 04:49:26', '2016-12-31 04:49:26', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2016-12-31 04:49:26', '2016-12-31 04:49:26', 52477111)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2016-12-31 04:49:26', '2016-12-31 04:49:26', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$htIJlg3cXUP4a6zqly//weHzhc/cY7OtFU3Vv3Qe/zXh3tRMIqcbC', '2016-12-31 04:49:26', '2016-12-31 04:49:26', 762146111)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$NqYA9KfEo3M6alj1Z.IRauAKQRATRCqzcU3lYHKqAa5VSzXmlmAYu', '2016-12-31 04:49:26', '2016-12-31 04:49:26', 430533587)[0m
  [1m[35m (17.5ms)[0m  COMMIT
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$aKN0ApuJ8mobi.jahjJteumzr.n/ITALyeQcpCKe.AcycXuWrqpSq"], ["updated_at", "2016-12-31 04:49:26.154022"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$oSVVvHKfmG5A4OISJHbLi.u7tj4HtTRCfWGMCWxKgwzaV/nFVXANi"], ["updated_at", "2016-12-31 04:49:26.206110"], ["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$3nXlpvav9X3kdDrz8r2tgOjfGkpqZgYyxCwQwOxiR23x49jRq17SW"], ["updated_at", "2016-12-31 04:49:26.212642"], ["id", 430533587]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2016-12-31 05:44:14', '2016-12-31 05:44:14', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-31 05:44:14', '2016-12-31 05:44:14', 298486374)
  [1m[36mFixture Delete (15.6ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 05:44:14', '2016-12-31 05:44:14', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 05:44:14', '2016-12-31 05:44:14', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2016-12-31 05:44:14', '2016-12-31 05:44:14', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2016-12-31 05:44:14', '2016-12-31 05:44:14', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$60WAdJwAbcVmYe9ND5DtpecdbXnm6ExrxebnvIp2B1ZABB9AdPAdW', '2016-12-31 05:44:14', '2016-12-31 05:44:14', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$5GOnLu67qww.FVSMPO8tyu5Nj8780WsDDeBEooPHZBBACgmBWli7y', '2016-12-31 05:44:14', '2016-12-31 05:44:14', 430533587)[0m
  [1m[35m (31.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2016-12-31 13:44:14 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (535.5ms)
  Rendered users/new.html.erb within layouts/application (582.9ms)
  Rendered layouts/_header.html.erb (18.1ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2403ms (Views: 2386.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-31 13:44:17 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (16.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 66ms (Views: 53.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 63ms (Views: 64.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-31 13:44:17 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 63ms (Views: 69.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-31 13:44:17 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-31 13:44:17 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$s83aiyP0ptGo5YOh17194u5cuFtHmUChjBRtqvFuWms0s4LOSJlWm"], ["created_at", "2016-12-31 05:44:17.330260"], ["updated_at", "2016-12-31 05:44:17.330260"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2016-12-31 05:45:47', '2016-12-31 05:45:47', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-31 05:45:47', '2016-12-31 05:45:47', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 05:45:47', '2016-12-31 05:45:47', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 05:45:47', '2016-12-31 05:45:47', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2016-12-31 05:45:47', '2016-12-31 05:45:47', 52477111)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2016-12-31 05:45:47', '2016-12-31 05:45:47', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$FRlL86WsAF9Gqp24xJ5AuebPlEOVEzQUBBeJ3B7ocwKS2ttSBtJcC', '2016-12-31 05:45:47', '2016-12-31 05:45:47', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$AC4af.IA7uakNYObZgdLD.0G7OM3U78AeXKbknJQUOt3Rsz0AW30i', '2016-12-31 05:45:47', '2016-12-31 05:45:47', 430533587)[0m
  [1m[35m (15.9ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$C8wvOjIQF66hMzl63GjUF.oC/M7ktdMT5w0bPSVDy8Qepcnnpjqo."], ["created_at", "2016-12-31 05:45:47.639426"], ["updated_at", "2016-12-31 05:45:47.639426"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (5.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (11.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (10.1ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:14:23', '2017-01-01 03:14:23', 980190962)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:14:23', '2017-01-01 03:14:23', 298486374)
  [1m[36mFixture Delete (7.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (9.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:14:23', '2017-01-01 03:14:23', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:14:23', '2017-01-01 03:14:23', 298486374)[0m
  [1m[35mFixture Delete (9.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (8.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:14:23', '2017-01-01 03:14:23', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:14:23', '2017-01-01 03:14:23', 70046091)
  [1m[36mFixture Delete (10.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (7.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$UAF85lU.1.n1j3opt/bVweAFNBpRPaFQFwrA0QWyqGP6FKdvDw836', '2017-01-01 03:14:23', '2017-01-01 03:14:23', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$LO3oGB8xDwzfabDzI/B67u2VPPDIWP2o8nODYXOdqq3CEMTfhaa9i', '2017-01-01 03:14:23', '2017-01-01 03:14:23', 430533587)[0m
  [1m[35m (4.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:14:23 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (10.0ms)
  Rendered users/_form.html.erb (663.8ms)
  Rendered users/new.html.erb within layouts/application (722.0ms)
  Rendered layouts/_header.html.erb (15.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1922ms (Views: 1900.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:15:19', '2017-01-01 03:15:19', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:15:19', '2017-01-01 03:15:19', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:15:19', '2017-01-01 03:15:19', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:15:19', '2017-01-01 03:15:19', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:15:19', '2017-01-01 03:15:19', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:15:19', '2017-01-01 03:15:19', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$B6XgZRaetW3mpxYGi1MhOOPbYLtuNGalS7lrsXG.7YviX3O0pzTGC', '2017-01-01 03:15:19', '2017-01-01 03:15:19', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$lHyCAFD/RuAE9sSmBRULzeOge6K9qMK10biqV2gJC8kaRFyMqKuom', '2017-01-01 03:15:19', '2017-01-01 03:15:19', 430533587)[0m
  [1m[35m (15.8ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (15.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:15:19 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (328.1ms)
  Rendered users/new.html.erb within layouts/application (328.1ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1125ms (Views: 1110.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 11:15:20 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered users/edit.html.erb within layouts/application (31.2ms)
Completed 500 Internal Server Error in 94ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:28:22', '2017-01-01 03:28:22', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:28:22', '2017-01-01 03:28:22', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:28:22', '2017-01-01 03:28:22', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:28:22', '2017-01-01 03:28:22', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:28:22', '2017-01-01 03:28:22', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:28:22', '2017-01-01 03:28:22', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$QYNX2pkEk9S8VQbPCvd6ZORZuD8lbxdqSjr27o/Z55Zn572gAcN1m', '2017-01-01 03:28:22', '2017-01-01 03:28:22', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$z1WjjhmF4ZXTWhhWwXcZe.hsouP1JvUVjB4GX39fcJwxZTTnCWD5G', '2017-01-01 03:28:22', '2017-01-01 03:28:22', 430533587)[0m
  [1m[35m (13.4ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:28:22 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/_form.html.erb (302.1ms)
  Rendered users/new.html.erb within layouts/application (317.1ms)
  Rendered layouts/_header.html.erb (4.2ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1113ms (Views: 1103.6ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 11:28:24 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:28:53', '2017-01-01 03:28:53', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:28:53', '2017-01-01 03:28:53', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:28:53', '2017-01-01 03:28:53', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:28:53', '2017-01-01 03:28:53', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:28:53', '2017-01-01 03:28:53', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:28:53', '2017-01-01 03:28:53', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$8udMDdH/d71IRwy7LkiUj.HimhNPRYgSZ6YKq4nXlBt3MXVyiOK3i', '2017-01-01 03:28:53', '2017-01-01 03:28:53', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$BDtU7oSElO4nB/T5lLlxi.gHHMeJGEj6VowNfL.gTGQRsq8sdkxhG', '2017-01-01 03:28:53', '2017-01-01 03:28:53', 430533587)[0m
  [1m[35m (17.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 11:28:53 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:28:53 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/_form.html.erb (301.1ms)
  Rendered users/new.html.erb within layouts/application (316.0ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1132ms (Views: 1132.0ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:30:29', '2017-01-01 03:30:29', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:30:29', '2017-01-01 03:30:29', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:30:29', '2017-01-01 03:30:29', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:30:29', '2017-01-01 03:30:29', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:30:29', '2017-01-01 03:30:29', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:30:29', '2017-01-01 03:30:29', 70046091)
  [1m[36mFixture Delete (15.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$3QFvGgjP6sMWCC58eObT4e.iEcU2cgP0J7rEKVxl6M4Z5v.LS0/QK', '2017-01-01 03:30:29', '2017-01-01 03:30:29', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$zla38BpzzlVHWuI1VleCc..7DtVyrE9KpN5NVAtE/Y/rcSgoKXIKq', '2017-01-01 03:30:29', '2017-01-01 03:30:29', 430533587)[0m
  [1m[35m (15.8ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:30:29 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (296.9ms)
  Rendered users/new.html.erb within layouts/application (296.9ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1078ms (Views: 1062.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 11:30:30 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 11:30:30 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:37:10', '2017-01-01 03:37:10', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:37:10', '2017-01-01 03:37:10', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:37:10', '2017-01-01 03:37:10', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:37:10', '2017-01-01 03:37:10', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:37:10', '2017-01-01 03:37:10', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:37:10', '2017-01-01 03:37:10', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$KXR.EmPHTm7o58vFzsjG.OH45m5MuAhloMHsDfqN3V6c8r1iMkzXa', '2017-01-01 03:37:10', '2017-01-01 03:37:10', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$P8Gi9lWZZMp79vJKmrGihexU52fin8j6f.Knlwa.IuWm7PFWoI82i', '2017-01-01 03:37:10', '2017-01-01 03:37:10', 430533587)[0m
  [1m[35m (31.3ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 11:37:10 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:37:10 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (4.3ms)
  Rendered users/_form.html.erb (524.7ms)
  Rendered users/new.html.erb within layouts/application (549.2ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1333ms (Views: 1326.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 11:37:11 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:41:59', '2017-01-01 03:41:59', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:41:59', '2017-01-01 03:41:59', 298486374)
  [1m[36mFixture Delete (15.6ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:41:59', '2017-01-01 03:41:59', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:41:59', '2017-01-01 03:41:59', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:41:59', '2017-01-01 03:41:59', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:41:59', '2017-01-01 03:41:59', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$NKrVdrahy25Xv8zNPHLCie/G0XoEk6InVrBZvV4uVda/oL9w7u3du', '2017-01-01 03:41:59', '2017-01-01 03:41:59', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$UYfJSyhoJvm4dvrWLuH3Mu2mE.qL4tMO0oClxU3t6Sj3ACGubDWDS', '2017-01-01 03:41:59', '2017-01-01 03:41:59', 430533587)[0m
  [1m[35m (33.4ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (1.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 11:41:59 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:42:00 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (381.6ms)
  Rendered users/new.html.erb within layouts/application (412.8ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1038ms (Views: 1043.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 11:42:01 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:44:50', '2017-01-01 03:44:50', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:44:50', '2017-01-01 03:44:50', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:44:50', '2017-01-01 03:44:50', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:44:50', '2017-01-01 03:44:50', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:44:50', '2017-01-01 03:44:50', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:44:50', '2017-01-01 03:44:50', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$2xZZ1A.KJHjKl8P9EY33M.V64DZVLeQyeNetEMZYGiPekC.W4b6Je', '2017-01-01 03:44:50', '2017-01-01 03:44:50', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$DzelmTzyqQQaxC/D.nPSY.8SuLsINohy5GqzhTk5K25KpHvnIBBo6', '2017-01-01 03:44:50', '2017-01-01 03:44:50', 430533587)[0m
  [1m[35m (15.6ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 11:44:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login" for 127.0.0.1 at 2017-01-01 11:44:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"params"=>{"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 11:44:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:44:50 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (15.7ms)
  Rendered users/_form.html.erb (296.9ms)
  Rendered users/new.html.erb within layouts/application (312.5ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1107ms (Views: 1094.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login" for 127.0.0.1 at 2017-01-01 11:44:51 +0800
Processing by SessionsController#create as HTML
  Parameters: {"params"=>{"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:22:32', '2017-01-01 04:22:32', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:22:32', '2017-01-01 04:22:32', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:22:32', '2017-01-01 04:22:32', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:22:32', '2017-01-01 04:22:32', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:22:32', '2017-01-01 04:22:32', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:22:32', '2017-01-01 04:22:32', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$DT9FnoCLXX0T0ntg7.sMdOfgkdOrP67zvyOACmqeveIsiFyJEcCG.', '2017-01-01 04:22:32', '2017-01-01 04:22:32', 762146111)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$8ySPbcJ21faPfzsSK/Gqe.TEYcG.1u8We1Svc2WviY.HflJmScp5.', '2017-01-01 04:22:32', '2017-01-01 04:22:32', 430533587)[0m
  [1m[35m (5.6ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:22:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$RahEowxLW8iz1ns8aWu9OONE71B3ZpqnF0T2jfaNI4hkwS8h67ATS"], ["updated_at", "2017-01-01 04:22:32.299624"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:22:32 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/edit.html.erb within layouts/application (27.0ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 798ms (Views: 795.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:22:33 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 12:22:33 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (342.5ms)
  Rendered users/new.html.erb within layouts/application (353.5ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 366ms (Views: 366.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:22:33 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$//y.lXD6qGmQUFq4fXu2wuf13i3K..KmlWWC8iztUJvmyXekEioxG"], ["updated_at", "2017-01-01 04:22:33.510728"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:22:33 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:22:33 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:27:28', '2017-01-01 04:27:28', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:27:28', '2017-01-01 04:27:28', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:27:28', '2017-01-01 04:27:28', 980190962)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:27:28', '2017-01-01 04:27:28', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:27:28', '2017-01-01 04:27:28', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:27:28', '2017-01-01 04:27:28', 70046091)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$Uf2Qw93i5O6iv/Oqwob6oePpa47rjcforiQBf.kUuz5Jp4UR4./k2', '2017-01-01 04:27:28', '2017-01-01 04:27:28', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$E5N4bsTVmAoJOW1DTSZ4t.cjjcGnU/kow5DmI2Qurig3hZkMl9H3K', '2017-01-01 04:27:28', '2017-01-01 04:27:28', 430533587)[0m
  [1m[35m (13.2ms)[0m  COMMIT
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$MgIi9tsGRSVntlGrw.qO6eUIkAMeb..7t/2cYNGhf742kYWJmKEfW"], ["updated_at", "2017-01-01 04:27:28.864614"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$yuChzMma4I1kNMDblfWJFu54vbexJoOsOXt3T9MVI49yjeBZAT5Oa"], ["updated_at", "2017-01-01 04:27:28.875736"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$Rzcix4e5kHazxhhIcjbes.gZ79SbVOLdBqnFXET9HnoVLSdOkKLcG"], ["updated_at", "2017-01-01 04:27:28.884767"], ["id", 430533587]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[35mNotice Load (0.9ms)[0m  SELECT "notices".* FROM "notices"  ORDER BY updated_at DESC
  Rendered notices/index.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 724ms (Views: 722.9ms | ActiveRecord: 0.9ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:27:29 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:27:29 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:27:29 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$.DESy42jUicimA30UXhREelb49oBv2pxTxlVz5gi7Z.D.XLy73xCq"], ["updated_at", "2017-01-01 04:27:29.693465"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:27:29 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:27:29 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$sRP4RQ3uSbIZiVVC7XlVV.W4xtbBEs1dyyg4vfnDsvpGgH19YAhiu"], ["updated_at", "2017-01-01 04:27:29.712970"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:27:29 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.9ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 12:27:29 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (9.4ms)
  Rendered users/_form.html.erb (332.8ms)
  Rendered users/new.html.erb within layouts/application (342.8ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 388ms (Views: 388.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 12:27:30 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 52ms (Views: 51.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 12:27:30 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 12:27:30 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 44ms (Views: 42.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$chqVBF3FwDWyI0BltHb/pO2rFFIgu3BU8TnehxjVQbfx6qyHJcO12"], ["created_at", "2017-01-01 04:27:30.299709"], ["updated_at", "2017-01-01 04:27:30.299709"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-01 12:27:30 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:35:22', '2017-01-01 04:35:22', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:35:22', '2017-01-01 04:35:22', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:35:22', '2017-01-01 04:35:22', 980190962)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:35:22', '2017-01-01 04:35:22', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:35:22', '2017-01-01 04:35:22', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:35:22', '2017-01-01 04:35:22', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$hnxv2mYL9UWNuy3kT4JoseUnPphsu0qsTS8b1jzcmez5OAGOw3r6G', '2017-01-01 04:35:22', '2017-01-01 04:35:22', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$B4JiGjR/nkV41nCWi9jLyuFravC6UDLcjk/QM1Ha2wvTkbPyHjS..', '2017-01-01 04:35:22', '2017-01-01 04:35:22', 430533587)[0m
  [1m[35m (17.0ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 12:35:22 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.9ms)
  Rendered users/_form.html.erb (302.8ms)
  Rendered users/new.html.erb within layouts/application (317.0ms)
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 1113ms (Views: 1103.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:35:23 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:35:23 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:35:23 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$Pi2iik4B1AhyPgRWD2hRV.d9bjxSzkQiyxA/cR/yPHXkZPCFEGk1q"], ["updated_at", "2017-01-01 04:35:23.269832"], ["id", 430533587]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:35:23 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:35:23 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$.5z1oTf7vbrwD8LbeYmhKu9Gw.ScvMtFitX3789FLzQYfg9YbeVCi"], ["updated_at", "2017-01-01 04:35:23.293526"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:35:23 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:36:12', '2017-01-01 04:36:12', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:36:12', '2017-01-01 04:36:12', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:36:12', '2017-01-01 04:36:12', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:36:12', '2017-01-01 04:36:12', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:36:12', '2017-01-01 04:36:12', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:36:12', '2017-01-01 04:36:12', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$cFvt1tXmQPM/67aEtaL71eaf6AL8GEMkPt3JEZX23QImcPvvpPOyS', '2017-01-01 04:36:12', '2017-01-01 04:36:12', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$FjaCJjdy17lxVoNuPwz2we8JHDi1lCasZTGHskX2fdb2KIr/FeU5.', '2017-01-01 04:36:12', '2017-01-01 04:36:12', 430533587)[0m
  [1m[35m (13.4ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 12:36:12 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (5.0ms)
  Rendered users/_form.html.erb (306.5ms)
  Rendered users/new.html.erb within layouts/application (320.6ms)
  Rendered layouts/_header.html.erb (4.9ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1135ms (Views: 1125.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:36:13 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:36:13 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:36:13 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$ZzKjM5ABCdOisXgwmbvTSeMlQt9OIHktcxPxKX.FXZX7mFVAuaHuC"], ["updated_at", "2017-01-01 04:36:13.415692"], ["id", 430533587]]
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 3.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:36:13 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:36:13 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$XPjUm/pD13mSESAV.vcj4ejzl2XoO8we0rphmQ60PGqA9dKWS935."], ["updated_at", "2017-01-01 04:36:13.437761"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:36:13 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:42:49', '2017-01-01 04:42:49', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:42:49', '2017-01-01 04:42:49', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:42:49', '2017-01-01 04:42:49', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:42:49', '2017-01-01 04:42:49', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:42:49', '2017-01-01 04:42:49', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:42:49', '2017-01-01 04:42:49', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$E4G9/0zWNSCc8yDOCQq2nuGUixsCMs/gs01v/N0vFERnpN7I1WxGu', '2017-01-01 04:42:49', '2017-01-01 04:42:49', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$PpYiAEa0.cm6./rKhYop0uHfWSlVh4f5twJlnG8FZ/ixHUk6xX0Je', '2017-01-01 04:42:49', '2017-01-01 04:42:49', 430533587)[0m
  [1m[35m (16.8ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 12:42:49 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/_form.html.erb (308.9ms)
  Rendered users/new.html.erb within layouts/application (323.4ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1169ms (Views: 1158.2ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$9WKa4v1TigNNgyk0IeDkmOJpWkPi3GNCuXno9qSTamBnShAM5O/Dm"], ["updated_at", "2017-01-01 04:42:50.709003"], ["id", 430533587]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$8RG4j379qq5oUfZqIiulo.oWbbXc6XRCZ5XZa1iGE1sW4JC.FtE4a"], ["updated_at", "2017-01-01 04:42:50.745986"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$4zKSKf.Eab7teHosGTHpme8EZiSpG2gchvr1mWCPwBQuq7mEwblVm"], ["updated_at", "2017-01-01 04:42:50.790011"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:44:12', '2017-01-01 04:44:12', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:44:12', '2017-01-01 04:44:12', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:44:12', '2017-01-01 04:44:12', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:44:12', '2017-01-01 04:44:12', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:44:12', '2017-01-01 04:44:12', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:44:12', '2017-01-01 04:44:12', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$IL1jf7ZoJJi6BN7zOwpBvu/xBNjn0bQ7i3c4GZCq/zW2uAnsDbtsK', '2017-01-01 04:44:12', '2017-01-01 04:44:12', 762146111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$yOXo3JUhwYj.0GAlOQ45lerRhyay3qIjQttOtBn.11Z8xFxm2atDi', '2017-01-01 04:44:12', '2017-01-01 04:44:12', 430533587)[0m
  [1m[35m (17.2ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$./f0K38EfkqxVLjLypMSiuMDsZjfBRMVZjaF0kSJosJGAor3doW.G"], ["updated_at", "2017-01-01 04:44:12.546738"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$pgpo1gUh4afgGsG/24mkYuabC/8xb4UPS0ytYhz7Wr8u.ag7Vktl2"], ["updated_at", "2017-01-01 04:44:12.558784"], ["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$YQ4f5A/8QyCdbClfU3YNT.9dRLSNn8fNeoPEHipWOlRS5zbaUpzwm"], ["updated_at", "2017-01-01 04:44:12.582964"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:45:12', '2017-01-01 04:45:12', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:45:12', '2017-01-01 04:45:12', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:45:12', '2017-01-01 04:45:12', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:45:12', '2017-01-01 04:45:12', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:45:12', '2017-01-01 04:45:12', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:45:12', '2017-01-01 04:45:12', 70046091)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$yB/FaDNjowhj4Eplx/bDsOQMjipD7mgnCizAhihNxDj6OXyU2OMja', '2017-01-01 04:45:12', '2017-01-01 04:45:12', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$QFci/AzJHYTTXf.hDZHpNOzg61qWJ0dYRB8BbXAmn7sumhc0FfB0y', '2017-01-01 04:45:12', '2017-01-01 04:45:12', 430533587)[0m
  [1m[35m (4.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$pUiW4ChJkCmWDKvmrxZQeuNtRSzAvz0ELfXLUOjw9UUwW8UsTrEem"], ["updated_at", "2017-01-01 04:45:12.418353"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$.5NoB0TOpSa7Fw7.QjeAOeMrOmDay1B3YBbfMjfr2W3ajUP1.fI12"], ["updated_at", "2017-01-01 04:45:12.429386"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$tVxfd8WJRj4v3f4ZPrPm..28Llxe/MxcHijkNpXGA2/..CY7G8oXm"], ["updated_at", "2017-01-01 04:45:12.440361"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:57:42', '2017-01-01 04:57:42', 980190962)[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:57:42', '2017-01-01 04:57:42', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:57:42', '2017-01-01 04:57:42', 980190962)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:57:42', '2017-01-01 04:57:42', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:57:42', '2017-01-01 04:57:42', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:57:42', '2017-01-01 04:57:42', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$RHrzvXH38HxAXUiCIPd5tO3Rp7QmCasDaLxs.6M9U5oloYKHnMdgO', '2017-01-01 04:57:42', '2017-01-01 04:57:42', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$LKmlJ79/q59cXUcut2axO.B4qaS5iTGof1.hvZhUZJUij1lcnPnUa', '2017-01-01 04:57:42', '2017-01-01 04:57:42', 430533587)[0m
  [1m[35m (5.1ms)[0m  COMMIT
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:57:42 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:57:42 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$zAMOSpZkEMgIZ6T4d59J6O2nFzIJ./h0WxpuB3DHbbYNTWSMnc0l6"], ["updated_at", "2017-01-01 04:57:42.356987"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:57:42 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$8xV.E2tjjw93GxxIJJfSk.6D3Uoc44L08yeu10SWjZ.IrdZZWqFwy"], ["updated_at", "2017-01-01 04:57:42.373047"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:57:42 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (3.1ms)
  Rendered users/edit.html.erb within layouts/application (23.0ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 752ms (Views: 747.9ms | ActiveRecord: 1.8ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:57:43 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}, "id"=>"762146111"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
Completed 400 Bad Request in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:58:35', '2017-01-01 04:58:35', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:58:35', '2017-01-01 04:58:35', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:58:35', '2017-01-01 04:58:35', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:58:35', '2017-01-01 04:58:35', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:58:35', '2017-01-01 04:58:35', 52477111)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:58:35', '2017-01-01 04:58:35', 70046091)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$PIa2m7268yYoq748iSYocO841rcqwZv1HmH7shwC7aqFYVyEslQN2', '2017-01-01 04:58:35', '2017-01-01 04:58:35', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$YEWgNfi3R6jIc4mbPKob4OvXIQuDKVC1AltLCupUQLwyzD2okRAVW', '2017-01-01 04:58:35', '2017-01-01 04:58:35', 430533587)[0m
  [1m[35m (13.2ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:58:35 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$UKodXAlMcsHrThpCFY66euy1Oo2Zy.syLDcqzWga0IUPHCcOOQQou"], ["updated_at", "2017-01-01 04:58:35.913103"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 2.2ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:58:35 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/edit.html.erb within layouts/application (23.7ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 761ms (Views: 757.8ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:58:36 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:19:50', '2017-01-01 05:19:50', 980190962)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:19:50', '2017-01-01 05:19:50', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:19:50', '2017-01-01 05:19:50', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:19:50', '2017-01-01 05:19:50', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:19:50', '2017-01-01 05:19:50', 52477111)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:19:50', '2017-01-01 05:19:50', 70046091)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$Q0UjgyyaabI9LMz4lzonPOF.hzZbjXuB1Wdbop9ZOv7f7R8yQhJIK', '2017-01-01 05:19:50', '2017-01-01 05:19:50', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$kCrU8I8RshQLxvPt4gBbnOVwOJ9i4KsZ3lpwEJGD1T.06dFd03a4q', '2017-01-01 05:19:50', '2017-01-01 05:19:50', 430533587)[0m
  [1m[35m (17.4ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:19:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$pRtfN6YS13NdSApJnrrereXoRwihdicr3kCoFzjPqJzYe3DYm5yC2"], ["updated_at", "2017-01-01 05:19:50.115900"], ["id", 762146111]]
  [1m[36m (1.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 22ms (ActiveRecord: 3.1ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:19:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/edit.html.erb within layouts/application (24.0ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 822ms (Views: 819.1ms | ActiveRecord: 0.5ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 13:19:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
Completed 400 Bad Request in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:25:21', '2017-01-01 05:25:21', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:25:21', '2017-01-01 05:25:21', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:25:21', '2017-01-01 05:25:21', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:25:21', '2017-01-01 05:25:21', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:25:21', '2017-01-01 05:25:21', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:25:21', '2017-01-01 05:25:21', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$SKCS.PoLOi8q1SReGFskLOLCi5o0ViBTukhwAHgNuJXdevLKYY1Py', '2017-01-01 05:25:21', '2017-01-01 05:25:21', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$tCJWe98ZcdUo9G6QhDY2aevpiUls9bphfMXNsGm44LDmctmKrP3.2', '2017-01-01 05:25:21', '2017-01-01 05:25:21', 430533587)[0m
  [1m[35m (17.0ms)[0m  COMMIT
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:25:21 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$NwD.QOE7xhRRjw6YfrL6quNFgWy1Zz7TSHZShHb4f39pdkfSw5Alm"], ["updated_at", "2017-01-01 05:25:21.741658"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:25:21 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/edit.html.erb within layouts/application (23.4ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 882ms (Views: 879.7ms | ActiveRecord: 1.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:25:22 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 395ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:29:07', '2017-01-01 05:29:07', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:29:07', '2017-01-01 05:29:07', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:29:07', '2017-01-01 05:29:07', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:29:07', '2017-01-01 05:29:07', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:29:07', '2017-01-01 05:29:07', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:29:07', '2017-01-01 05:29:07', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$IrlCDboioiUEU4EH1qwTourVSgp930OnbAwjxyDgQS1wtZUGX9Qiu', '2017-01-01 05:29:07', '2017-01-01 05:29:07', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$H4M./AgDYRr3XG5ZKRkq8.tV9XU6pigvqdwiuUGI3Q5SpgF5cYD2W', '2017-01-01 05:29:07', '2017-01-01 05:29:07', 430533587)[0m
  [1m[35m (5.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:29:07 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$6tlX6SCHix6s05U4AjdnaOY5yQ6TZt9fwBNDstn85f9dONaWyeVeO"], ["updated_at", "2017-01-01 05:29:07.943078"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:29:07 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/edit.html.erb within layouts/application (24.3ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 906ms (Views: 902.9ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:29:08 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$SD4BiE8WQ90/Xx0gQIGuoOJozVg8qqpPG9MFEUWyvT3tz0ZEu/1MK"], ["updated_at", "2017-01-01 05:29:08.879941"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:29:08 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 1.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:29:08 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 328ms (ActiveRecord: 0.5ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:30:22', '2017-01-01 05:30:22', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:30:22', '2017-01-01 05:30:22', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:30:22', '2017-01-01 05:30:22', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:30:22', '2017-01-01 05:30:22', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:30:22', '2017-01-01 05:30:22', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:30:22', '2017-01-01 05:30:22', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$Y1Og6GVeEWqwX9SodKPiruNolRFWJi/WuZdO6gmtaYQUMMk2nJCai', '2017-01-01 05:30:22', '2017-01-01 05:30:22', 762146111)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$JFupfhJRecN/gMQLKIwJYOjLEr507eS7wcgVye6ZKg9p7mR0FwwO6', '2017-01-01 05:30:22', '2017-01-01 05:30:22', 430533587)[0m
  [1m[35m (17.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:30:22 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$yuHdkN2zf.0DmAl.JcDFZOkDP9YgkypdM25/d6ojqHFZlll4/3JSe"], ["updated_at", "2017-01-01 05:30:22.889608"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:30:22 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (3.1ms)
  Rendered users/edit.html.erb within layouts/application (28.9ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 836ms (Views: 833.3ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 13:30:23 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:30:23 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$2Glgrs4R3.1toGr.kg8LY.jS1OATm45ijYCeVySqllE2YCnU8ewLi"], ["updated_at", "2017-01-01 05:30:23.756803"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:30:23 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 1.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:30:23 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 416ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:31:15', '2017-01-01 05:31:15', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:31:15', '2017-01-01 05:31:15', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:31:15', '2017-01-01 05:31:15', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:31:15', '2017-01-01 05:31:15', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:31:15', '2017-01-01 05:31:15', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:31:15', '2017-01-01 05:31:15', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$mFscKmO.yx/P5RaWLnMyJeoqBiIdK.eI1YkFp/J46oxN3gXNDH8sa', '2017-01-01 05:31:15', '2017-01-01 05:31:15', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$zjeIvkBqJWvz3nbThPGjtuB87wXdVY71E58QwUh.yrJQXKhe63HjK', '2017-01-01 05:31:15', '2017-01-01 05:31:15', 430533587)[0m
  [1m[35m (17.8ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:31:15 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$hgxUG/r3zjjwvdml89N.WOT5.5Vah5XhWM0hJ562pYWE1V5sF5tgO"], ["updated_at", "2017-01-01 05:31:15.770842"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:31:15 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/edit.html.erb within layouts/application (24.0ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 812ms (Views: 807.9ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-01 13:31:16 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-01 05:31:16.613139"], ["id", 762146111]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 1.1ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:31:16 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$7GNH1GWrZaaFPm6l4u0Yf.dZhxSV9O41tXu0lt2z1/rkoKUScQGwW"], ["updated_at", "2017-01-01 05:31:16.630828"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:31:16 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 2.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:31:16 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 292ms (ActiveRecord: 2.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:35:30', '2017-01-01 05:35:30', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:35:30', '2017-01-01 05:35:30', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:35:30', '2017-01-01 05:35:30', 980190962)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:35:30', '2017-01-01 05:35:30', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:35:30', '2017-01-01 05:35:30', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:35:30', '2017-01-01 05:35:30', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$eggcccPwWMIORa3Deo2ngusEL7UekVs/2supyeCEzEMH/uoSgP0Wq', '2017-01-01 05:35:30', '2017-01-01 05:35:30', 762146111)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$IGvWRKKWrcq2rJGfP9NyduSybOjdboGeB17Xh.mdo6gNvQgijzg0q', '2017-01-01 05:35:30', '2017-01-01 05:35:30', 430533587)[0m
  [1m[35m (16.8ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:35:30 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.1ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 756ms (Views: 746.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login" for 127.0.0.1 at 2017-01-01 13:35:31 +0800
Processing by SessionsController#create as HTML
  Parameters: {"params"=>{"session"=>{"email"=>"", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:35:31 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:35:31 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:35:31 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 45ms (Views: 44.4ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:36:25', '2017-01-01 05:36:25', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:36:25', '2017-01-01 05:36:25', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:36:26', '2017-01-01 05:36:26', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:36:26', '2017-01-01 05:36:26', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:36:26', '2017-01-01 05:36:26', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:36:26', '2017-01-01 05:36:26', 70046091)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$5H/1sdvRhkxGu/lWv8QKRuKoefvuPsZHK7IURlZAJFXvt3UyZLZ1m', '2017-01-01 05:36:26', '2017-01-01 05:36:26', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$mWieYpTHKKZtvJPgzxuMA.NznGKV.8Mk2HuPKt2WBdpdnmTH8sLru', '2017-01-01 05:36:26', '2017-01-01 05:36:26', 430533587)[0m
  [1m[35m (12.7ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (1.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:36:26 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (19.6ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 836ms (Views: 822.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:36:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:36:26 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:36:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:36:26 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 52ms (Views: 50.9ms | ActiveRecord: 1.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:37:38', '2017-01-01 05:37:38', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:37:38', '2017-01-01 05:37:38', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:37:38', '2017-01-01 05:37:38', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:37:38', '2017-01-01 05:37:38', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:37:38', '2017-01-01 05:37:38', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:37:38', '2017-01-01 05:37:38', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$dhh/SeDW8GhGE9zFKBcSbeiVF3KvyY97XwxCb8Jxj4ZSqSPnU2yEO', '2017-01-01 05:37:38', '2017-01-01 05:37:38', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$fY5YyNup6kJXpMV7riHre.EXdRJD1xT7Io5oUYqlyP6k8oxjlXX5y', '2017-01-01 05:37:38', '2017-01-01 05:37:38', 430533587)[0m
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:37:38 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (14.1ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 743ms (Views: 732.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:37:38 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:37:38 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 43ms (Views: 42.2ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:37:38 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:37:38 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:37:38 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:38:51', '2017-01-01 05:38:51', 980190962)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:38:51', '2017-01-01 05:38:51', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:38:51', '2017-01-01 05:38:51', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:38:51', '2017-01-01 05:38:51', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:38:51', '2017-01-01 05:38:51', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:38:51', '2017-01-01 05:38:51', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$5VhvUnMIDEcpfybKX9kpaOy0g4Y2utnuxQdC6xmWzW4w2YA5ehI46', '2017-01-01 05:38:51', '2017-01-01 05:38:51', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$p09wURSXfgWns81tUPilp.8wn8EFsoZzzmU3YxFQ683jLh81Ti7/S', '2017-01-01 05:38:51', '2017-01-01 05:38:51', 430533587)[0m
  [1m[35m (13.4ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:38:51 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (13.9ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 710ms (Views: 698.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:38:52 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:38:52 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 45ms (Views: 43.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:38:52 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:38:52 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:38:52 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:40:03', '2017-01-01 05:40:03', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:40:03', '2017-01-01 05:40:03', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:40:03', '2017-01-01 05:40:03', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:40:03', '2017-01-01 05:40:03', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:40:03', '2017-01-01 05:40:03', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:40:03', '2017-01-01 05:40:03', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$qJiO0g8Jwg/C6x3hNYvOIejqJ527qJmoy/XK4wGy/9TBqmsTS5Mo6', '2017-01-01 05:40:03', '2017-01-01 05:40:03', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$wA.fIMVRnkxsOSph3LQauuj98WxsHFE/1eUi4k4.2pki2yXZodWGK', '2017-01-01 05:40:03', '2017-01-01 05:40:03', 430533587)[0m
  [1m[35m (17.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:40:03 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (13.9ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 750ms (Views: 737.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:40:04 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:40:04 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:40:04 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:40:04 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 45ms (Views: 44.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:41:47', '2017-01-01 05:41:47', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:41:47', '2017-01-01 05:41:47', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:41:47', '2017-01-01 05:41:47', 980190962)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:41:47', '2017-01-01 05:41:47', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:41:47', '2017-01-01 05:41:47', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:41:47', '2017-01-01 05:41:47', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$lNuu1ehlwpCxCdCer6gtBu9nYZ8mQcwVxm4ZOHSqJk88q0fAZxNu6', '2017-01-01 05:41:47', '2017-01-01 05:41:47', 762146111)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$uY9SwoB.zCuHe2CWr5643OEXkZCNxBJTAG8PtChTAkP11QieYc3qS', '2017-01-01 05:41:47', '2017-01-01 05:41:47', 430533587)[0m
  [1m[35m (13.2ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:41:47 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (14.5ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_content.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 811ms (Views: 801.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:41:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:41:48 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:41:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:41:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 53ms (Views: 51.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:43:55', '2017-01-01 05:43:55', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:43:55', '2017-01-01 05:43:55', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:43:55', '2017-01-01 05:43:55', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:43:55', '2017-01-01 05:43:55', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:43:55', '2017-01-01 05:43:55', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:43:55', '2017-01-01 05:43:55', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$TaaS3nY2ZhhbABFAELSMC..pvGKd4xg0SMVXE22FsscYAXt31Jyli', '2017-01-01 05:43:55', '2017-01-01 05:43:55', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$yKvmcqtS8dTdS.qX.o8x/etM2HOlmwdIez.51I6ZLim7py9opYd4G', '2017-01-01 05:43:55', '2017-01-01 05:43:55', 430533587)[0m
  [1m[35m (13.7ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:43:55 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.0ms)
  Rendered layouts/_header.html.erb (6.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 765ms (Views: 755.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:43:55 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:43:55 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 61ms (Views: 60.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:43:55 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:43:55 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:46:11', '2017-01-01 05:46:11', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:46:11', '2017-01-01 05:46:11', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:46:11', '2017-01-01 05:46:11', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:46:11', '2017-01-01 05:46:11', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:46:11', '2017-01-01 05:46:11', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:46:11', '2017-01-01 05:46:11', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$qaPo4o1Klcl9KyFG/ohecu3NEHwBz/Efbv8V7buNhbmtLlQhR.dAm', '2017-01-01 05:46:11', '2017-01-01 05:46:11', 762146111)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$QnYSdAak9shFoz.KKZyFYu/TfAL6ZQ2QTy3RIxjTvwjPAhx4ak/xW', '2017-01-01 05:46:11', '2017-01-01 05:46:11', 430533587)[0m
  [1m[35m (17.0ms)[0m  COMMIT
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:46:11 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (14.0ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 813ms (Views: 802.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:46:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:46:12 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:46:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:46:12 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 50ms (Views: 49.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:46:42', '2017-01-01 05:46:42', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:46:42', '2017-01-01 05:46:42', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:46:42', '2017-01-01 05:46:42', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:46:42', '2017-01-01 05:46:42', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:46:42', '2017-01-01 05:46:42', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:46:42', '2017-01-01 05:46:42', 70046091)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$qSqmVifTjL4/FrkJ9zPo.eU84u0DWHzz6pByuCbmbTRKQeLXG3cDO', '2017-01-01 05:46:42', '2017-01-01 05:46:42', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$L8t5ID4A1b45vubSw33c9O2UEagskEpOtzNX6ZBGnIH5W8v02eLvq', '2017-01-01 05:46:42', '2017-01-01 05:46:42', 430533587)[0m
  [1m[35m (13.4ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:46:43 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (18.2ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 774ms (Views: 763.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:46:43 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:46:43 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:46:43 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:46:43 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 45ms (Views: 44.1ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:02:34', '2017-01-01 06:02:34', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:02:34', '2017-01-01 06:02:34', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:02:34', '2017-01-01 06:02:34', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:02:34', '2017-01-01 06:02:34', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:02:34', '2017-01-01 06:02:34', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:02:34', '2017-01-01 06:02:34', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$et4tWfR/OMHwKZhc7Zrb6ekqT9V.J.lEdj3TJkwNFJbyAdWbeI3o.', '2017-01-01 06:02:34', '2017-01-01 06:02:34', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$SxYx1kcyviLejg639UwgkOTsPVviTYn7Qph7i61oVXIEqpz7j/VV6', '2017-01-01 06:02:34', '2017-01-01 06:02:34', 430533587)[0m
  [1m[35m (13.6ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.7ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$EWdaM80KUs6F3EfRETXhCu/aVhXox8sRnD6uY7Ks/bIqMsO9gV7Me"], ["updated_at", "2017-01-01 06:02:34.904104"], ["id", 430533587]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$q0H0EHOoEB0F1QL4v5kTtOTgtXK0CYfb/lSCL8wRmN9uPKt.rp8A6"], ["updated_at", "2017-01-01 06:02:34.922916"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$QdcRDF6EH4qAsou3OZK3Fefa7sY2Hz/6wBHA5SW/5pfVC1/LPPyAG"], ["updated_at", "2017-01-01 06:02:34.925835"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:02:34 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$5Mo8NLF7HjQ/dGHvWQdfhOfG1NlbuaX5MJ1HvgL9dBUO2lxTTsfC."], ["updated_at", "2017-01-01 06:02:34.965727"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:02:34 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:02:34 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:02:34 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$6b68U4ug.BnMKJmdegkP3OyrfvOebAu5EHbqVCMNZbgUvosDpkzmC"], ["updated_at", "2017-01-01 06:02:34.999541"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:02:35 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:02:35 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 14:02:35 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered users/_form.html.erb (410.3ms)
  Rendered users/new.html.erb within layouts/application (426.9ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1214ms (Views: 1213.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$DWn7dhquL5ptmm0/vRruvuSWMKLof4sGGP6B1FfjjNHmZcoIMLOpW"], ["updated_at", "2017-01-01 06:02:36.250428"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 44ms (Views: 43.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$K9kIRV8xItln0abjxfBE0.v9FV.PQxLK/6wZUHNGT/kDjghMHqZhG"], ["created_at", "2017-01-01 06:02:36.378472"], ["updated_at", "2017-01-01 06:02:36.378472"]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$bjE0p9za63.vgQFAMHHlyO6EAEw.qQfJ1KMbB.HmcgEVO4xqGjex2"], ["updated_at", "2017-01-01 06:02:36.399987"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 1.9ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-01 06:02:36.425739"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$VB1JxqQVMAqRZ3SRFL5CJ.E.SiY0/gLW9e7LE.kI2favd/LBHGXP6"], ["updated_at", "2017-01-01 06:02:36.439979"], ["id", 762146111]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.5ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 1.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 47.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (7.9ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 52ms (Views: 52.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:04:34', '2017-01-01 06:04:34', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:04:34', '2017-01-01 06:04:34', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:04:34', '2017-01-01 06:04:34', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:04:34', '2017-01-01 06:04:34', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:04:34', '2017-01-01 06:04:34', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:04:34', '2017-01-01 06:04:34', 70046091)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$D/N1FmwkmqTRv2Lgod7zUeOyg2CIfTZXzrokAD/OFgF5u0YoJLvI.', '2017-01-01 06:04:34', '2017-01-01 06:04:34', 762146111)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$nfiC2pwvFtHa3.yq2VLxROiqzFdEv3de50rB96mh4a9cWBh/OlHiO', '2017-01-01 06:04:34', '2017-01-01 06:04:34', 430533587)[0m
  [1m[35m (17.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (1.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (7.9ms)
  Rendered layouts/_header.html.erb (9.2ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 736ms (Views: 734.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (4.0ms)
  Rendered users/_form.html.erb (307.5ms)
  Rendered users/new.html.erb within layouts/application (317.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 367ms (Views: 360.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$t3H2hoxZiDMN12XTZKKWueXtb4kTEePqbsumzRIqXZy0LSX6m.R6y"], ["updated_at", "2017-01-01 06:04:35.756984"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$Bt6R7nJv354c0Jw61LQn0euqtaLpFJksy/PSDGgiviftAIOr/rc2e"], ["updated_at", "2017-01-01 06:04:35.788057"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$pP.h5ttqRIv7DkMGSZHGZuzOfcKB3H2he0nwMVLi3WBtxixDOHbam"], ["updated_at", "2017-01-01 06:04:35.810361"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 45ms (Views: 44.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 49ms (Views: 48.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$7g3X69IhrSAJbUNnkkroLuV/fDt7B5uRi7BSdtY9GXhCezkPSjcVq"], ["created_at", "2017-01-01 06:04:36.027699"], ["updated_at", "2017-01-01 06:04:36.027699"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$hajAv/NZ.6EqTtLxchO2gOwgs1iTRwWS1VmLX6nkR0Ep5tLAROOVW"], ["updated_at", "2017-01-01 06:04:36.040718"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$PsQfpLpQqNELm44caUy77OWTL8vPRYcb3hH6NDAApjG0lHWMe3bC6"], ["updated_at", "2017-01-01 06:04:36.044512"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$WxmkviaTZ1flXoZ.Mdr6GeFKOPmO5qh7krFGuZy0pwofNa/m22NlS"], ["updated_at", "2017-01-01 06:04:36.051691"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:04:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$Gbyr/7A0ET3RxzznfVlWwOKlVJLvHlE9fHr6xobTwuZpiqpBo9db6"], ["updated_at", "2017-01-01 06:04:36.066738"], ["id", 762146111]]
  [1m[36m (1.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.1ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:04:36 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-01 14:04:36 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-01 06:04:36.093633"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:04:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$RqenRzMVZhuw6G6JbC8RvO8QGJ4dS9fzBauH2bpnnui4k2dA24Z6C"], ["updated_at", "2017-01-01 06:04:36.108079"], ["id", 762146111]]
  [1m[36m (0.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:04:36 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:04:36 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.3ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:18:21', '2017-01-01 06:18:21', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$pBgNWt92KNoqBnUVj7MnCe0a6aFMatrsPhAvwbJ8QkswSk/o.2rRC', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$twbFMxO2cnNeE9nU.1sA4.zAdO6qYt7/cDFMOMa/zkp./tCuGdCp2', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$HlP38lzv1ifYR2yP3U1BPOgsRccTPhDox64IOCq2RBpkzVYWBY0mm', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 369664257)
  [1m[36m (18.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:21 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.0ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 771ms (Views: 761.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 45ms (Views: 44.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.9ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 1.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 980190962)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:18:55', '2017-01-01 06:18:55', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 298486374)[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$UP8BUav1WV081fDU3v1pK..9g2FIjCBFsKNlAvtdJRXnyeogfbltO', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$mg7GsXhqlW1pW2UDcMcw/uxUMyGrxX1lll3eHF7EJyFEf3DziElg2', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 430533587)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$3NwG07tWRmt7gWEdYWUFVOUn3B5NJXRN50iO0TYvhbYuwkXocvmBS', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 369664257)
  [1m[36m (14.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:55 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (17.7ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 862ms (Views: 851.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 54ms (Views: 53.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (1.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 2.1ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 1.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 980190962)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:19:31', '2017-01-01 06:19:31', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 52477111)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$WOcb8TJShIGqxW1GyxdwxeB6fYPVl2wwzyBEJJzFDptlrqWYMaapS', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$X1CIfgKGIjMo4ECIaQMbYu6SEK.rJWf/qrmasePGjLdxxRT3IEFZi', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 430533587)[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$AtgKANMiltjz6dd6Dv4DjeTDVcIS4lVKMb7/ICB.h7pfk/XSgiN2.', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 369664257)
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:19:31 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (14.0ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 707ms (Views: 697.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:20:39', '2017-01-01 06:20:39', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$sftbtPeEQlZfb8K5dygV1utk9lFfGx4fctIWJ598ZBpJ5cfBZy5lG', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$75wKQPznmIO4cO.3qZvYlevBtOdh0yWBc1G6JrClEI4Q86eAlAy3i', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$uf7jCTmVrf3qyluL33mJmOsy2Njra.Gb4R2MzhXA0ywQQzDFzigbC', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 369664257)
  [1m[36m (5.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:20:39 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (27.6ms)
  Rendered layouts/_header.html.erb (7.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 1117ms (Views: 1093.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 2.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 61.6ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 3.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:21:47', '2017-01-01 06:21:47', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 70046091)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$1pDTY80Tkgi7omcDHKk3SuOiDQCzMzsMqqt4yNyNswmBBFzcUSJ2i', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$WjDfBNPSrOhNJ/gRvRY9X.GY3ghhAafD2j8kR6GxctlL1hCaGNPGq', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$eUEeZh4rEWICAVampWvuRO61HHCjXDEkvzdYK.Ixup26u2cH7eqHK', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 369664257)
  [1m[36m (13.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:21:47 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$j496fIrpebNYuZP.pR3QuOEavq9RtSGfWQKsg64Z/amPixFBdWFom"], ["updated_at", "2017-01-01 06:21:47.797740"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 0.1ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-01 14:21:47 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-01 06:21:47.810619"], ["id", 430533587]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:21:47 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (14.0ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (2.0ms)
Completed 200 OK in 790ms (Views: 789.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 2.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 46ms (Views: 44.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$FmNUC0IyfM9xQq6Mutb1yuXp44gFnyYx8Z/g9LktX/Dw9ZwUYK6Km"], ["updated_at", "2017-01-01 06:21:48.689079"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.6ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:25:50', '2017-01-01 06:25:50', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$YS6Jkt/Gm9fAjUIMjTxMPOFNlXmwNny3Nn6lGXHS/e6HrP6C0t9S6', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$3cnqG1FL8Z0Uo9UsR6r/heCho2DBTik1Pr.T5xF4l./TxyzaVpG7m', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$2MWIAwA18jVD4a/d81atA.Hh/xbIcN2m34unKeBrrQkmFL3YE1W1G', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 369664257)
  [1m[36m (16.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 14:25:50 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (4.0ms)
  Rendered users/_form.html.erb (373.6ms)
  Rendered users/new.html.erb within layouts/application (388.6ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1150ms (Views: 1133.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:25:51 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.3ms)
  Rendered users/_form.html.erb (4.3ms)
  Rendered users/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 6.2ms | ActiveRecord: 1.0ms)
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:26:18', '2017-01-01 06:26:18', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$bMiSInbfRfQH9RAsg1xWTenYFzbtm4RhUByT5Uec1fjBoE0QUkzFK', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$LLfAR6YTUh0BwUFI7qzjBexFdJshiSAq0UmwwWhYGqhRzGdn5rUc.', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$oNMlGH7soCZSO/ABrlDdVu7MgFejfXNTlav493wpHUlONupG4YFqu', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 369664257)
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:26:18 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$pz7na14LiQ740Wb49XPDn.T/UZ1zM0bb9.fDE0/R83WnFZFZ5mIxq"], ["updated_at", "2017-01-01 06:26:18.505671"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 1.4ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:26:18 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/edit.html.erb within layouts/application (23.1ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1189ms (Views: 1186.2ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-01 14:26:19 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-01 06:26:19.725170"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:26:19 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$n9ArZZ9OY.BiZUivQkxRCOXOszPOW7YkTkA2Vhp3/6EnwaiU5BXDq"], ["updated_at", "2017-01-01 06:26:19.739210"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:26:19 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:26:19 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 332ms (ActiveRecord: 1.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[35mNotice Load (1.0ms)[0m  SELECT "notices".* FROM "notices"  ORDER BY updated_at DESC
  Rendered notices/index.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 57ms (Views: 55.3ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 51ms (Views: 50.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (9.2ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 57ms (Views: 56.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 2.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$idh0MOXsyzCPqdxjsn6s5eOgVYwuuG2i1JWpmYd2jXuEE3LOQiZZK"], ["updated_at", "2017-01-01 06:26:20.314220"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 1.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$jjJT3YmotnA22yRxWgSCgea4wVEMYOStfsweVk7c69NnsdUvtcX2G"], ["updated_at", "2017-01-01 06:26:20.367501"], ["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-01 06:26:20.374309"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 2.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$o.3vpB0s1szYXOcv0giyXeu5L6glc43u6EGTYPpRfQp3oWbaVo9L6"], ["created_at", "2017-01-01 06:26:20.396897"], ["updated_at", "2017-01-01 06:26:20.396897"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$o6gCWJWWkp8Onkf.ElLtm.CPTO0JJp6203zwSsxlA4cJ9t24vMqqi"], ["updated_at", "2017-01-01 06:26:20.457792"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$k2Yce8TSBGGcXNBIpOn1IOQWPOQFikLDO6kHASvVdr4UESgXgE0O6"], ["updated_at", "2017-01-01 06:26:20.474614"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$58ieqMinCMkt9QFi1S07A.20s1GKQgamRb9icYyDZ0Fw.FMlO0iA."], ["updated_at", "2017-01-01 06:26:20.491950"], ["id", 430533587]]
  [1m[35m (1.6ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (6.9ms)
  Rendered users/new.html.erb within layouts/application (18.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 34ms (Views: 33.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.8ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (2.5ms)
  Rendered users/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/_form.html.erb (3.0ms)
  Rendered users/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 5.4ms | ActiveRecord: 2.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$PM3a4VjPJ99hYBZhcgNXpuZX4M4UeGWhLZLDU5TkD9HmUc/oNzrme"], ["updated_at", "2017-01-01 06:26:20.591891"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$lUzfkmCsWMlm3/SXNVMCMe2ztlF1iDhsA7RH8liSCltK3YKpb7LkW"], ["updated_at", "2017-01-01 06:26:20.598549"], ["id", 430533587]]
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$iokLIeUVOOhTA6GBt97Us.Pvk1LhqMkVtn5NFDdjdA0DGuAUeXLFq"], ["updated_at", "2017-01-01 06:26:20.602664"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
