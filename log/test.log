  [1m[36mActiveRecord::SchemaMigration Load (9.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (5.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (10.4ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (8.0ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 12:53:23', '2016-12-30 12:53:23', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 12:53:23', '2016-12-30 12:53:23', 298486374)
  [1m[36mFixture Delete (8.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (7.1ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 12:53:23', '2016-12-30 12:53:23', 980190962)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 12:53:23', '2016-12-30 12:53:23', 298486374)[0m
  [1m[35mFixture Delete (23.4ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 12:53:23', '2016-12-30 12:53:23', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 12:53:23', '2016-12-30 12:53:23', 298486374)
  [1m[36mFixture Delete (15.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$ACpYXjxJUXu4hdFbXWb1oegHReWtWmc/f7Xd9ok7j51NMO.GD1XMC', '2016-12-30 12:53:23', '2016-12-30 12:53:23', 762146111)
  [1m[36m (15.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-30 20:53:23 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (25770.3ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 25882ms (Views: 25873.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-30 20:53:49 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (16.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 67ms (Views: 66.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-30 20:53:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-30 20:53:49 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (3.1ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (1.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 52ms (Views: 51.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$lLY9m1efCtmcDcu7HpF1X.7WilK36QHTFoaX2y91DifjGsjcT6u12"], ["created_at", "2016-12-30 12:53:50.158668"], ["updated_at", "2016-12-30 12:53:50.158668"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:00:19', '2016-12-30 13:00:19', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:00:19', '2016-12-30 13:00:19', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:00:19', '2016-12-30 13:00:19', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:00:19', '2016-12-30 13:00:19', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:00:19', '2016-12-30 13:00:19', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:00:19', '2016-12-30 13:00:19', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$8XhEwyfUq9GbjC9cDuzuKeMl7IFUjZjtl0z.gNQxkNXwqzWnpaJ..', '2016-12-30 13:00:19', '2016-12-30 13:00:19', 762146111)
  [1m[36m (15.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-30 21:00:19 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 859ms (Views: 837.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-30 21:00:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-30 21:00:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 94ms (Views: 85.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-30 21:00:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (3.4ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 59ms (Views: 62.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$qd5BoZ5okZKrBM1IX/SVFuUmNp3Y0xK7TcuDMARGwKXsKyD3LePxS"], ["created_at", "2016-12-30 13:00:21.400444"], ["updated_at", "2016-12-30 13:00:21.400444"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (15.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:04:46', '2016-12-30 13:04:46', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:04:46', '2016-12-30 13:04:46', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:04:46', '2016-12-30 13:04:46', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:04:46', '2016-12-30 13:04:46', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:04:46', '2016-12-30 13:04:46', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:04:46', '2016-12-30 13:04:46', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$H4OEv4ngHaUSoDJs2nD0i.EgRMzFYzup5sYaToUvKCMCPLaaKPKZO', '2016-12-30 13:04:46', '2016-12-30 13:04:46', 762146111)
  [1m[36m (15.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2016-12-30 21:04:46 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (312.6ms)
  Rendered users/new.html.erb within layouts/application (312.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1006ms (Views: 993.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:34:31', '2016-12-30 13:34:31', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:34:31', '2016-12-30 13:34:31', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:34:31', '2016-12-30 13:34:31', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:34:31', '2016-12-30 13:34:31', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:34:31', '2016-12-30 13:34:31', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:34:31', '2016-12-30 13:34:31', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$ZxZTGNNpJlfpODyjNaiio.HJcW4FGPWOExj6cm1UBdGKZ/PMa872i', '2016-12-30 13:34:31', '2016-12-30 13:34:31', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '$2a$04$u7ZCABot1Ia5JQuJH0Lo8.CMFnDHXrwvWpzIdgYB9.ZNXSYtmF0p2', '2016-12-30 13:34:31', '2016-12-30 13:34:31', 430533587)[0m
  [1m[35m (15.6ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (15.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$JkZeLJScSg8jTEKOE6UpwufCA.KTESwXBPSLsE/1eOJd/QeFHZPVu"], ["created_at", "2016-12-30 13:34:31.907325"], ["updated_at", "2016-12-30 13:34:31.907325"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (15.7ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 844ms (Views: 843.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-30 21:34:32 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 91ms (Views: 79.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-30 21:34:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-30 21:34:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 41.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-30 21:34:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2016-12-30 21:34:32 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (15.6ms)
  Rendered users/new.html.erb within layouts/application (31.3ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 63ms (Views: 64.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:10', '2016-12-30 13:36:10', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:10', '2016-12-30 13:36:10', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:36:10', '2016-12-30 13:36:10', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:36:10', '2016-12-30 13:36:10', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:10', '2016-12-30 13:36:10', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:10', '2016-12-30 13:36:10', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$Lf1h.HYWaGAUKy6W8om2fOvBB7AsG/qXY70/4EkGLj8IV7GlNh/l6', '2016-12-30 13:36:10', '2016-12-30 13:36:10', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '$2a$04$/YHqJLo9gdZHYacs0.3B7.cp868.GA9fNG3VY3QCDVv.kEwU0yhPW', '2016-12-30 13:36:10', '2016-12-30 13:36:10', 430533587)[0m
  [1m[35m (15.6ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$bg8MJ1mX70gTSWUEQunHluBscEbew/DaJQBcA7zZ5bA4xH3V4OcBy"], ["created_at", "2016-12-30 13:36:11.252224"], ["updated_at", "2016-12-30 13:36:11.252224"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------------
UserTest: test_user_authenticated?_should_return_false_for_a_user_with_nil_digest
---------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (15.6ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (15.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:37', '2016-12-30 13:36:37', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:37', '2016-12-30 13:36:37', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:36:37', '2016-12-30 13:36:37', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:36:37', '2016-12-30 13:36:37', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:37', '2016-12-30 13:36:37', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:37', '2016-12-30 13:36:37', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$EYR01U3RuUdiwigtTviUXe7TrnLSJ6dYcqrXZSpM1Jw2esyyliLOG', '2016-12-30 13:36:37', '2016-12-30 13:36:37', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '$2a$04$Owqwqa.EtaooISClXrOqQO4OF0MJizbdOi1DKjEpHDjwVGEHGpdge', '2016-12-30 13:36:37', '2016-12-30 13:36:37', 430533587)[0m
  [1m[35m (15.8ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-30 21:36:37 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (655.4ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 749ms (Views: 745.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2016-12-30 21:36:38 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (281.3ms)
  Rendered users/new.html.erb within layouts/application (296.9ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 344ms (Views: 337.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------------
UserTest: test_user_authenticated?_should_return_false_for_a_user_with_nil_digest
---------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$BgkRQVGhW9.kzM712yGGPeVKuV6riWNqTMAvWS8LLkl9pZsadW0t2"], ["created_at", "2016-12-30 13:36:38.535192"], ["updated_at", "2016-12-30 13:36:38.535192"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-30 21:36:38 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 48.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-30 21:36:38 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-30 21:36:38 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:58', '2016-12-30 13:36:58', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:58', '2016-12-30 13:36:58', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:36:58', '2016-12-30 13:36:58', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:36:58', '2016-12-30 13:36:58', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:58', '2016-12-30 13:36:58', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:36:58', '2016-12-30 13:36:58', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$tCBKqDNSLMhMt2aoRxeybu6HcKb5gc0xegRmVV0pX1WKhOFgMTf6C', '2016-12-30 13:36:58', '2016-12-30 13:36:58', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '$2a$04$r0bUU6c7ao0jPJ9f1BOrvODV0cG1RBzhxrRFEWXyPy0ufpET6hwBa', '2016-12-30 13:36:58', '2016-12-30 13:36:58', 430533587)[0m
  [1m[35m (15.8ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2016-12-30 21:36:58 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (302.6ms)
  Rendered users/new.html.erb within layouts/application (302.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 988ms (Views: 972.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-30 21:36:59 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 42.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 45.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$n/FkPHftbOsj/WYz63Zle.0wWpOeA7lTLi/yllDNd7PBbbOfCgMZ6"], ["created_at", "2016-12-30 13:36:59.680564"], ["updated_at", "2016-12-30 13:36:59.680564"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-30 21:36:59 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 47.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-30 21:36:59 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-30 21:36:59 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2016-12-30 13:51:07', '2016-12-30 13:51:07', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-30 13:51:07', '2016-12-30 13:51:07', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:51:07', '2016-12-30 13:51:07', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-30 13:51:07', '2016-12-30 13:51:07', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2016-12-30 13:51:07', '2016-12-30 13:51:07', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2016-12-30 13:51:07', '2016-12-30 13:51:07', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$ZCdyWU8xLAG8EP9k9bIoweoREwXmH4y7tK694wWjmEhBraJwt61S6', '2016-12-30 13:51:07', '2016-12-30 13:51:07', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$7qIz0AqMhY1.0hPTWScHt.1siLmcQqoBkHETzVro4etEsbrmZpMsO', '2016-12-30 13:51:07', '2016-12-30 13:51:07', 430533587)[0m
  [1m[35m (31.3ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (15.6ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 790ms (Views: 793.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2016-12-30 21:51:08 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (265.6ms)
  Rendered users/new.html.erb within layouts/application (281.3ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 328ms (Views: 323.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$D4MDBU79s90lYTqraSgnXOilH0YIK/IhEQRKYJvzKUpYzAHtsOXM2"], ["created_at", "2016-12-30 13:51:08.396680"], ["updated_at", "2016-12-30 13:51:08.396680"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-30 21:51:08 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 45.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-30 21:51:08 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-30 21:51:08 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 37ms (Views: 44.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-30 21:51:08 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (15.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (15.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (15.6ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2016-12-31 02:33:17', '2016-12-31 02:33:17', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-31 02:33:17', '2016-12-31 02:33:17', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (15.6ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 02:33:17', '2016-12-31 02:33:17', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 02:33:17', '2016-12-31 02:33:17', 298486374)[0m
  [1m[35mFixture Delete (15.6ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2016-12-31 02:33:17', '2016-12-31 02:33:17', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2016-12-31 02:33:17', '2016-12-31 02:33:17', 70046091)
  [1m[36mFixture Delete (15.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$wwVDji98fx4pDlu.Sy/Gf.g7orwv.Fv./3w4hDaC.5aK.HUGvhlKO', '2016-12-31 02:33:17', '2016-12-31 02:33:17', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$fcNh/TjfVBOoFZdhinw.fOSX/7c6oOy/oVjie6OKzN6FOzin.A4Vi', '2016-12-31 02:33:17', '2016-12-31 02:33:17', 430533587)[0m
  [1m[35m (15.6ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2016-12-31 10:33:17 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (15.6ms)
  Rendered users/_form.html.erb (530.4ms)
  Rendered users/new.html.erb within layouts/application (577.2ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1750ms (Views: 1745.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-31 10:33:19 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 63ms (Views: 63.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-31 10:33:19 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-31 10:33:19 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 45.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[35mNotice Load (0.0ms)[0m  SELECT "notices".* FROM "notices"  ORDER BY updated_at DESC
  Rendered notices/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 63ms (Views: 62.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-31 10:33:19 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 2.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (15.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (15.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$JrkEC6XDCCrl2PCWLgVeN.9IaBrpljfho/nAm6A8IYIrFYERvIqem"], ["created_at", "2016-12-31 02:33:19.924424"], ["updated_at", "2016-12-31 02:33:19.924424"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (15.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (6.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2016-12-31 04:46:23', '2016-12-31 04:46:23', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-31 04:46:23', '2016-12-31 04:46:23', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (15.6ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 04:46:23', '2016-12-31 04:46:23', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 04:46:23', '2016-12-31 04:46:23', 298486374)[0m
  [1m[35mFixture Delete (9.2ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (7.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2016-12-31 04:46:23', '2016-12-31 04:46:23', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2016-12-31 04:46:23', '2016-12-31 04:46:23', 70046091)
  [1m[36mFixture Delete (8.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (7.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$jfPaZD/ASIW.QO9hZV.dB.4iT8FebTS1K5M0O8dip9njSTGsm1xXa', '2016-12-31 04:46:23', '2016-12-31 04:46:23', 762146111)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$9Xi3wxx4Dc4F6OlzvsHcpucoMTSq2EM8JFYDpCC5k53ZULxqjZaky', '2016-12-31 04:46:23', '2016-12-31 04:46:23', 430533587)[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (15.6ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2016-12-31 04:49:26', '2016-12-31 04:49:26', 980190962)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-31 04:49:26', '2016-12-31 04:49:26', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 04:49:26', '2016-12-31 04:49:26', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 04:49:26', '2016-12-31 04:49:26', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2016-12-31 04:49:26', '2016-12-31 04:49:26', 52477111)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2016-12-31 04:49:26', '2016-12-31 04:49:26', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$htIJlg3cXUP4a6zqly//weHzhc/cY7OtFU3Vv3Qe/zXh3tRMIqcbC', '2016-12-31 04:49:26', '2016-12-31 04:49:26', 762146111)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$NqYA9KfEo3M6alj1Z.IRauAKQRATRCqzcU3lYHKqAa5VSzXmlmAYu', '2016-12-31 04:49:26', '2016-12-31 04:49:26', 430533587)[0m
  [1m[35m (17.5ms)[0m  COMMIT
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$aKN0ApuJ8mobi.jahjJteumzr.n/ITALyeQcpCKe.AcycXuWrqpSq"], ["updated_at", "2016-12-31 04:49:26.154022"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$oSVVvHKfmG5A4OISJHbLi.u7tj4HtTRCfWGMCWxKgwzaV/nFVXANi"], ["updated_at", "2016-12-31 04:49:26.206110"], ["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$3nXlpvav9X3kdDrz8r2tgOjfGkpqZgYyxCwQwOxiR23x49jRq17SW"], ["updated_at", "2016-12-31 04:49:26.212642"], ["id", 430533587]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2016-12-31 05:44:14', '2016-12-31 05:44:14', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-31 05:44:14', '2016-12-31 05:44:14', 298486374)
  [1m[36mFixture Delete (15.6ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 05:44:14', '2016-12-31 05:44:14', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 05:44:14', '2016-12-31 05:44:14', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2016-12-31 05:44:14', '2016-12-31 05:44:14', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2016-12-31 05:44:14', '2016-12-31 05:44:14', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$60WAdJwAbcVmYe9ND5DtpecdbXnm6ExrxebnvIp2B1ZABB9AdPAdW', '2016-12-31 05:44:14', '2016-12-31 05:44:14', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$5GOnLu67qww.FVSMPO8tyu5Nj8780WsDDeBEooPHZBBACgmBWli7y', '2016-12-31 05:44:14', '2016-12-31 05:44:14', 430533587)[0m
  [1m[35m (31.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2016-12-31 13:44:14 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (535.5ms)
  Rendered users/new.html.erb within layouts/application (582.9ms)
  Rendered layouts/_header.html.erb (18.1ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2403ms (Views: 2386.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2016-12-31 13:44:17 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (16.1ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 66ms (Views: 53.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 63ms (Views: 64.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2016-12-31 13:44:17 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 63ms (Views: 69.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2016-12-31 13:44:17 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2016-12-31 13:44:17 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$s83aiyP0ptGo5YOh17194u5cuFtHmUChjBRtqvFuWms0s4LOSJlWm"], ["created_at", "2016-12-31 05:44:17.330260"], ["updated_at", "2016-12-31 05:44:17.330260"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2016-12-31 05:45:47', '2016-12-31 05:45:47', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2016-12-31 05:45:47', '2016-12-31 05:45:47', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 05:45:47', '2016-12-31 05:45:47', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2016-12-31 05:45:47', '2016-12-31 05:45:47', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2016-12-31 05:45:47', '2016-12-31 05:45:47', 52477111)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2016-12-31 05:45:47', '2016-12-31 05:45:47', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$FRlL86WsAF9Gqp24xJ5AuebPlEOVEzQUBBeJ3B7ocwKS2ttSBtJcC', '2016-12-31 05:45:47', '2016-12-31 05:45:47', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$AC4af.IA7uakNYObZgdLD.0G7OM3U78AeXKbknJQUOt3Rsz0AW30i', '2016-12-31 05:45:47', '2016-12-31 05:45:47', 430533587)[0m
  [1m[35m (15.9ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$C8wvOjIQF66hMzl63GjUF.oC/M7ktdMT5w0bPSVDy8Qepcnnpjqo."], ["created_at", "2016-12-31 05:45:47.639426"], ["updated_at", "2016-12-31 05:45:47.639426"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (5.6ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (11.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (10.1ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:14:23', '2017-01-01 03:14:23', 980190962)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:14:23', '2017-01-01 03:14:23', 298486374)
  [1m[36mFixture Delete (7.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (9.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:14:23', '2017-01-01 03:14:23', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:14:23', '2017-01-01 03:14:23', 298486374)[0m
  [1m[35mFixture Delete (9.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (8.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:14:23', '2017-01-01 03:14:23', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:14:23', '2017-01-01 03:14:23', 70046091)
  [1m[36mFixture Delete (10.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (7.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$UAF85lU.1.n1j3opt/bVweAFNBpRPaFQFwrA0QWyqGP6FKdvDw836', '2017-01-01 03:14:23', '2017-01-01 03:14:23', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$LO3oGB8xDwzfabDzI/B67u2VPPDIWP2o8nODYXOdqq3CEMTfhaa9i', '2017-01-01 03:14:23', '2017-01-01 03:14:23', 430533587)[0m
  [1m[35m (4.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:14:23 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (10.0ms)
  Rendered users/_form.html.erb (663.8ms)
  Rendered users/new.html.erb within layouts/application (722.0ms)
  Rendered layouts/_header.html.erb (15.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1922ms (Views: 1900.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:15:19', '2017-01-01 03:15:19', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:15:19', '2017-01-01 03:15:19', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:15:19', '2017-01-01 03:15:19', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:15:19', '2017-01-01 03:15:19', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:15:19', '2017-01-01 03:15:19', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:15:19', '2017-01-01 03:15:19', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$B6XgZRaetW3mpxYGi1MhOOPbYLtuNGalS7lrsXG.7YviX3O0pzTGC', '2017-01-01 03:15:19', '2017-01-01 03:15:19', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$lHyCAFD/RuAE9sSmBRULzeOge6K9qMK10biqV2gJC8kaRFyMqKuom', '2017-01-01 03:15:19', '2017-01-01 03:15:19', 430533587)[0m
  [1m[35m (15.8ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (15.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:15:19 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (328.1ms)
  Rendered users/new.html.erb within layouts/application (328.1ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1125ms (Views: 1110.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 11:15:20 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered users/edit.html.erb within layouts/application (31.2ms)
Completed 500 Internal Server Error in 94ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:28:22', '2017-01-01 03:28:22', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:28:22', '2017-01-01 03:28:22', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:28:22', '2017-01-01 03:28:22', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:28:22', '2017-01-01 03:28:22', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:28:22', '2017-01-01 03:28:22', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:28:22', '2017-01-01 03:28:22', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$QYNX2pkEk9S8VQbPCvd6ZORZuD8lbxdqSjr27o/Z55Zn572gAcN1m', '2017-01-01 03:28:22', '2017-01-01 03:28:22', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$z1WjjhmF4ZXTWhhWwXcZe.hsouP1JvUVjB4GX39fcJwxZTTnCWD5G', '2017-01-01 03:28:22', '2017-01-01 03:28:22', 430533587)[0m
  [1m[35m (13.4ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:28:22 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/_form.html.erb (302.1ms)
  Rendered users/new.html.erb within layouts/application (317.1ms)
  Rendered layouts/_header.html.erb (4.2ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1113ms (Views: 1103.6ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 11:28:24 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:28:53', '2017-01-01 03:28:53', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:28:53', '2017-01-01 03:28:53', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:28:53', '2017-01-01 03:28:53', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:28:53', '2017-01-01 03:28:53', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:28:53', '2017-01-01 03:28:53', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:28:53', '2017-01-01 03:28:53', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$8udMDdH/d71IRwy7LkiUj.HimhNPRYgSZ6YKq4nXlBt3MXVyiOK3i', '2017-01-01 03:28:53', '2017-01-01 03:28:53', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$BDtU7oSElO4nB/T5lLlxi.gHHMeJGEj6VowNfL.gTGQRsq8sdkxhG', '2017-01-01 03:28:53', '2017-01-01 03:28:53', 430533587)[0m
  [1m[35m (17.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 11:28:53 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:28:53 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/_form.html.erb (301.1ms)
  Rendered users/new.html.erb within layouts/application (316.0ms)
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1132ms (Views: 1132.0ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:30:29', '2017-01-01 03:30:29', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:30:29', '2017-01-01 03:30:29', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:30:29', '2017-01-01 03:30:29', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:30:29', '2017-01-01 03:30:29', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:30:29', '2017-01-01 03:30:29', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:30:29', '2017-01-01 03:30:29', 70046091)
  [1m[36mFixture Delete (15.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$3QFvGgjP6sMWCC58eObT4e.iEcU2cgP0J7rEKVxl6M4Z5v.LS0/QK', '2017-01-01 03:30:29', '2017-01-01 03:30:29', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$zla38BpzzlVHWuI1VleCc..7DtVyrE9KpN5NVAtE/Y/rcSgoKXIKq', '2017-01-01 03:30:29', '2017-01-01 03:30:29', 430533587)[0m
  [1m[35m (15.8ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:30:29 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (296.9ms)
  Rendered users/new.html.erb within layouts/application (296.9ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1078ms (Views: 1062.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 11:30:30 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 11:30:30 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:37:10', '2017-01-01 03:37:10', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:37:10', '2017-01-01 03:37:10', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:37:10', '2017-01-01 03:37:10', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:37:10', '2017-01-01 03:37:10', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:37:10', '2017-01-01 03:37:10', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:37:10', '2017-01-01 03:37:10', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$KXR.EmPHTm7o58vFzsjG.OH45m5MuAhloMHsDfqN3V6c8r1iMkzXa', '2017-01-01 03:37:10', '2017-01-01 03:37:10', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$P8Gi9lWZZMp79vJKmrGihexU52fin8j6f.Knlwa.IuWm7PFWoI82i', '2017-01-01 03:37:10', '2017-01-01 03:37:10', 430533587)[0m
  [1m[35m (31.3ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 11:37:10 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:37:10 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (4.3ms)
  Rendered users/_form.html.erb (524.7ms)
  Rendered users/new.html.erb within layouts/application (549.2ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1333ms (Views: 1326.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 11:37:11 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:41:59', '2017-01-01 03:41:59', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:41:59', '2017-01-01 03:41:59', 298486374)
  [1m[36mFixture Delete (15.6ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:41:59', '2017-01-01 03:41:59', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:41:59', '2017-01-01 03:41:59', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:41:59', '2017-01-01 03:41:59', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:41:59', '2017-01-01 03:41:59', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$NKrVdrahy25Xv8zNPHLCie/G0XoEk6InVrBZvV4uVda/oL9w7u3du', '2017-01-01 03:41:59', '2017-01-01 03:41:59', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$UYfJSyhoJvm4dvrWLuH3Mu2mE.qL4tMO0oClxU3t6Sj3ACGubDWDS', '2017-01-01 03:41:59', '2017-01-01 03:41:59', 430533587)[0m
  [1m[35m (33.4ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (1.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 11:41:59 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:42:00 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (381.6ms)
  Rendered users/new.html.erb within layouts/application (412.8ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1038ms (Views: 1043.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 11:42:01 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 03:44:50', '2017-01-01 03:44:50', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 03:44:50', '2017-01-01 03:44:50', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:44:50', '2017-01-01 03:44:50', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 03:44:50', '2017-01-01 03:44:50', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 03:44:50', '2017-01-01 03:44:50', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 03:44:50', '2017-01-01 03:44:50', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$2xZZ1A.KJHjKl8P9EY33M.V64DZVLeQyeNetEMZYGiPekC.W4b6Je', '2017-01-01 03:44:50', '2017-01-01 03:44:50', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$DzelmTzyqQQaxC/D.nPSY.8SuLsINohy5GqzhTk5K25KpHvnIBBo6', '2017-01-01 03:44:50', '2017-01-01 03:44:50', 430533587)[0m
  [1m[35m (15.6ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 11:44:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login" for 127.0.0.1 at 2017-01-01 11:44:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"params"=>{"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 11:44:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 11:44:50 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (15.7ms)
  Rendered users/_form.html.erb (296.9ms)
  Rendered users/new.html.erb within layouts/application (312.5ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1107ms (Views: 1094.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login" for 127.0.0.1 at 2017-01-01 11:44:51 +0800
Processing by SessionsController#create as HTML
  Parameters: {"params"=>{"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:22:32', '2017-01-01 04:22:32', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:22:32', '2017-01-01 04:22:32', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:22:32', '2017-01-01 04:22:32', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:22:32', '2017-01-01 04:22:32', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:22:32', '2017-01-01 04:22:32', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:22:32', '2017-01-01 04:22:32', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$DT9FnoCLXX0T0ntg7.sMdOfgkdOrP67zvyOACmqeveIsiFyJEcCG.', '2017-01-01 04:22:32', '2017-01-01 04:22:32', 762146111)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$8ySPbcJ21faPfzsSK/Gqe.TEYcG.1u8We1Svc2WviY.HflJmScp5.', '2017-01-01 04:22:32', '2017-01-01 04:22:32', 430533587)[0m
  [1m[35m (5.6ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:22:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$RahEowxLW8iz1ns8aWu9OONE71B3ZpqnF0T2jfaNI4hkwS8h67ATS"], ["updated_at", "2017-01-01 04:22:32.299624"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 28ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:22:32 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/edit.html.erb within layouts/application (27.0ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 798ms (Views: 795.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:22:33 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 12:22:33 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (342.5ms)
  Rendered users/new.html.erb within layouts/application (353.5ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 366ms (Views: 366.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:22:33 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$//y.lXD6qGmQUFq4fXu2wuf13i3K..KmlWWC8iztUJvmyXekEioxG"], ["updated_at", "2017-01-01 04:22:33.510728"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:22:33 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:22:33 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:27:28', '2017-01-01 04:27:28', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:27:28', '2017-01-01 04:27:28', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:27:28', '2017-01-01 04:27:28', 980190962)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:27:28', '2017-01-01 04:27:28', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:27:28', '2017-01-01 04:27:28', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:27:28', '2017-01-01 04:27:28', 70046091)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$Uf2Qw93i5O6iv/Oqwob6oePpa47rjcforiQBf.kUuz5Jp4UR4./k2', '2017-01-01 04:27:28', '2017-01-01 04:27:28', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$E5N4bsTVmAoJOW1DTSZ4t.cjjcGnU/kow5DmI2Qurig3hZkMl9H3K', '2017-01-01 04:27:28', '2017-01-01 04:27:28', 430533587)[0m
  [1m[35m (13.2ms)[0m  COMMIT
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$MgIi9tsGRSVntlGrw.qO6eUIkAMeb..7t/2cYNGhf742kYWJmKEfW"], ["updated_at", "2017-01-01 04:27:28.864614"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$yuChzMma4I1kNMDblfWJFu54vbexJoOsOXt3T9MVI49yjeBZAT5Oa"], ["updated_at", "2017-01-01 04:27:28.875736"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$Rzcix4e5kHazxhhIcjbes.gZ79SbVOLdBqnFXET9HnoVLSdOkKLcG"], ["updated_at", "2017-01-01 04:27:28.884767"], ["id", 430533587]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[35mNotice Load (0.9ms)[0m  SELECT "notices".* FROM "notices"  ORDER BY updated_at DESC
  Rendered notices/index.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 724ms (Views: 722.9ms | ActiveRecord: 0.9ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:27:29 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:27:29 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:27:29 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$.DESy42jUicimA30UXhREelb49oBv2pxTxlVz5gi7Z.D.XLy73xCq"], ["updated_at", "2017-01-01 04:27:29.693465"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.6ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:27:29 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:27:29 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$sRP4RQ3uSbIZiVVC7XlVV.W4xtbBEs1dyyg4vfnDsvpGgH19YAhiu"], ["updated_at", "2017-01-01 04:27:29.712970"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:27:29 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.9ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 12:27:29 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (9.4ms)
  Rendered users/_form.html.erb (332.8ms)
  Rendered users/new.html.erb within layouts/application (342.8ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 388ms (Views: 388.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 12:27:30 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (5.8ms)
  Rendered layouts/_header.html.erb (1.3ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 52ms (Views: 51.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 12:27:30 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 12:27:30 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 44ms (Views: 42.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$chqVBF3FwDWyI0BltHb/pO2rFFIgu3BU8TnehxjVQbfx6qyHJcO12"], ["created_at", "2017-01-01 04:27:30.299709"], ["updated_at", "2017-01-01 04:27:30.299709"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-01 12:27:30 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:35:22', '2017-01-01 04:35:22', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:35:22', '2017-01-01 04:35:22', 298486374)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:35:22', '2017-01-01 04:35:22', 980190962)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:35:22', '2017-01-01 04:35:22', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:35:22', '2017-01-01 04:35:22', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:35:22', '2017-01-01 04:35:22', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$hnxv2mYL9UWNuy3kT4JoseUnPphsu0qsTS8b1jzcmez5OAGOw3r6G', '2017-01-01 04:35:22', '2017-01-01 04:35:22', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$B4JiGjR/nkV41nCWi9jLyuFravC6UDLcjk/QM1Ha2wvTkbPyHjS..', '2017-01-01 04:35:22', '2017-01-01 04:35:22', 430533587)[0m
  [1m[35m (17.0ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 12:35:22 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.9ms)
  Rendered users/_form.html.erb (302.8ms)
  Rendered users/new.html.erb within layouts/application (317.0ms)
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 1113ms (Views: 1103.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:35:23 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:35:23 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:35:23 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$Pi2iik4B1AhyPgRWD2hRV.d9bjxSzkQiyxA/cR/yPHXkZPCFEGk1q"], ["updated_at", "2017-01-01 04:35:23.269832"], ["id", 430533587]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 1.1ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:35:23 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:35:23 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$.5z1oTf7vbrwD8LbeYmhKu9Gw.ScvMtFitX3789FLzQYfg9YbeVCi"], ["updated_at", "2017-01-01 04:35:23.293526"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:35:23 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:36:12', '2017-01-01 04:36:12', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:36:12', '2017-01-01 04:36:12', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:36:12', '2017-01-01 04:36:12', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:36:12', '2017-01-01 04:36:12', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:36:12', '2017-01-01 04:36:12', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:36:12', '2017-01-01 04:36:12', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', '$2a$04$cFvt1tXmQPM/67aEtaL71eaf6AL8GEMkPt3JEZX23QImcPvvpPOyS', '2017-01-01 04:36:12', '2017-01-01 04:36:12', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$FjaCJjdy17lxVoNuPwz2we8JHDi1lCasZTGHskX2fdb2KIr/FeU5.', '2017-01-01 04:36:12', '2017-01-01 04:36:12', 430533587)[0m
  [1m[35m (13.4ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 12:36:12 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (5.0ms)
  Rendered users/_form.html.erb (306.5ms)
  Rendered users/new.html.erb within layouts/application (320.6ms)
  Rendered layouts/_header.html.erb (4.9ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1135ms (Views: 1125.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:36:13 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:36:13 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:36:13 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$ZzKjM5ABCdOisXgwmbvTSeMlQt9OIHktcxPxKX.FXZX7mFVAuaHuC"], ["updated_at", "2017-01-01 04:36:13.415692"], ["id", 430533587]]
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 3.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:36:13 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:36:13 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$XPjUm/pD13mSESAV.vcj4ejzl2XoO8we0rphmQ60PGqA9dKWS935."], ["updated_at", "2017-01-01 04:36:13.437761"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:36:13 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.1ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:42:49', '2017-01-01 04:42:49', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:42:49', '2017-01-01 04:42:49', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:42:49', '2017-01-01 04:42:49', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:42:49', '2017-01-01 04:42:49', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:42:49', '2017-01-01 04:42:49', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:42:49', '2017-01-01 04:42:49', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$E4G9/0zWNSCc8yDOCQq2nuGUixsCMs/gs01v/N0vFERnpN7I1WxGu', '2017-01-01 04:42:49', '2017-01-01 04:42:49', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$PpYiAEa0.cm6./rKhYop0uHfWSlVh4f5twJlnG8FZ/ixHUk6xX0Je', '2017-01-01 04:42:49', '2017-01-01 04:42:49', 430533587)[0m
  [1m[35m (16.8ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 12:42:49 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/_form.html.erb (308.9ms)
  Rendered users/new.html.erb within layouts/application (323.4ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1169ms (Views: 1158.2ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$9WKa4v1TigNNgyk0IeDkmOJpWkPi3GNCuXno9qSTamBnShAM5O/Dm"], ["updated_at", "2017-01-01 04:42:50.709003"], ["id", 430533587]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$8RG4j379qq5oUfZqIiulo.oWbbXc6XRCZ5XZa1iGE1sW4JC.FtE4a"], ["updated_at", "2017-01-01 04:42:50.745986"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$4zKSKf.Eab7teHosGTHpme8EZiSpG2gchvr1mWCPwBQuq7mEwblVm"], ["updated_at", "2017-01-01 04:42:50.790011"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:42:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:44:12', '2017-01-01 04:44:12', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:44:12', '2017-01-01 04:44:12', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:44:12', '2017-01-01 04:44:12', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:44:12', '2017-01-01 04:44:12', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:44:12', '2017-01-01 04:44:12', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:44:12', '2017-01-01 04:44:12', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$IL1jf7ZoJJi6BN7zOwpBvu/xBNjn0bQ7i3c4GZCq/zW2uAnsDbtsK', '2017-01-01 04:44:12', '2017-01-01 04:44:12', 762146111)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$yOXo3JUhwYj.0GAlOQ45lerRhyay3qIjQttOtBn.11Z8xFxm2atDi', '2017-01-01 04:44:12', '2017-01-01 04:44:12', 430533587)[0m
  [1m[35m (17.2ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$./f0K38EfkqxVLjLypMSiuMDsZjfBRMVZjaF0kSJosJGAor3doW.G"], ["updated_at", "2017-01-01 04:44:12.546738"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$pgpo1gUh4afgGsG/24mkYuabC/8xb4UPS0ytYhz7Wr8u.ag7Vktl2"], ["updated_at", "2017-01-01 04:44:12.558784"], ["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$YQ4f5A/8QyCdbClfU3YNT.9dRLSNn8fNeoPEHipWOlRS5zbaUpzwm"], ["updated_at", "2017-01-01 04:44:12.582964"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:45:12', '2017-01-01 04:45:12', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:45:12', '2017-01-01 04:45:12', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:45:12', '2017-01-01 04:45:12', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:45:12', '2017-01-01 04:45:12', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:45:12', '2017-01-01 04:45:12', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:45:12', '2017-01-01 04:45:12', 70046091)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$yB/FaDNjowhj4Eplx/bDsOQMjipD7mgnCizAhihNxDj6OXyU2OMja', '2017-01-01 04:45:12', '2017-01-01 04:45:12', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$QFci/AzJHYTTXf.hDZHpNOzg61qWJ0dYRB8BbXAmn7sumhc0FfB0y', '2017-01-01 04:45:12', '2017-01-01 04:45:12', 430533587)[0m
  [1m[35m (4.5ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$pUiW4ChJkCmWDKvmrxZQeuNtRSzAvz0ELfXLUOjw9UUwW8UsTrEem"], ["updated_at", "2017-01-01 04:45:12.418353"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$.5NoB0TOpSa7Fw7.QjeAOeMrOmDay1B3YBbfMjfr2W3ajUP1.fI12"], ["updated_at", "2017-01-01 04:45:12.429386"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$tVxfd8WJRj4v3f4ZPrPm..28Llxe/MxcHijkNpXGA2/..CY7G8oXm"], ["updated_at", "2017-01-01 04:45:12.440361"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:57:42', '2017-01-01 04:57:42', 980190962)[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:57:42', '2017-01-01 04:57:42', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:57:42', '2017-01-01 04:57:42', 980190962)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:57:42', '2017-01-01 04:57:42', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:57:42', '2017-01-01 04:57:42', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:57:42', '2017-01-01 04:57:42', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$RHrzvXH38HxAXUiCIPd5tO3Rp7QmCasDaLxs.6M9U5oloYKHnMdgO', '2017-01-01 04:57:42', '2017-01-01 04:57:42', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$LKmlJ79/q59cXUcut2axO.B4qaS5iTGof1.hvZhUZJUij1lcnPnUa', '2017-01-01 04:57:42', '2017-01-01 04:57:42', 430533587)[0m
  [1m[35m (5.1ms)[0m  COMMIT
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:57:42 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 13ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:57:42 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$zAMOSpZkEMgIZ6T4d59J6O2nFzIJ./h0WxpuB3DHbbYNTWSMnc0l6"], ["updated_at", "2017-01-01 04:57:42.356987"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:57:42 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$8xV.E2tjjw93GxxIJJfSk.6D3Uoc44L08yeu10SWjZ.IrdZZWqFwy"], ["updated_at", "2017-01-01 04:57:42.373047"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:57:42 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (3.1ms)
  Rendered users/edit.html.erb within layouts/application (23.0ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 752ms (Views: 747.9ms | ActiveRecord: 1.8ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:57:43 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}, "id"=>"762146111"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
Completed 400 Bad Request in 3ms (ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 04:58:35', '2017-01-01 04:58:35', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 04:58:35', '2017-01-01 04:58:35', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:58:35', '2017-01-01 04:58:35', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 04:58:35', '2017-01-01 04:58:35', 298486374)[0m
  [1m[35mFixture Delete (1.2ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 04:58:35', '2017-01-01 04:58:35', 52477111)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 04:58:35', '2017-01-01 04:58:35', 70046091)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$PIa2m7268yYoq748iSYocO841rcqwZv1HmH7shwC7aqFYVyEslQN2', '2017-01-01 04:58:35', '2017-01-01 04:58:35', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$YEWgNfi3R6jIc4mbPKob4OvXIQuDKVC1AltLCupUQLwyzD2okRAVW', '2017-01-01 04:58:35', '2017-01-01 04:58:35', 430533587)[0m
  [1m[35m (13.2ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 12:58:35 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$UKodXAlMcsHrThpCFY66euy1Oo2Zy.syLDcqzWga0IUPHCcOOQQou"], ["updated_at", "2017-01-01 04:58:35.913103"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 2.2ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 12:58:35 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/edit.html.erb within layouts/application (23.7ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 761ms (Views: 757.8ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 12:58:36 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:19:50', '2017-01-01 05:19:50', 980190962)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:19:50', '2017-01-01 05:19:50', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:19:50', '2017-01-01 05:19:50', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:19:50', '2017-01-01 05:19:50', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:19:50', '2017-01-01 05:19:50', 52477111)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:19:50', '2017-01-01 05:19:50', 70046091)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$Q0UjgyyaabI9LMz4lzonPOF.hzZbjXuB1Wdbop9ZOv7f7R8yQhJIK', '2017-01-01 05:19:50', '2017-01-01 05:19:50', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$kCrU8I8RshQLxvPt4gBbnOVwOJ9i4KsZ3lpwEJGD1T.06dFd03a4q', '2017-01-01 05:19:50', '2017-01-01 05:19:50', 430533587)[0m
  [1m[35m (17.4ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:19:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$pRtfN6YS13NdSApJnrrereXoRwihdicr3kCoFzjPqJzYe3DYm5yC2"], ["updated_at", "2017-01-01 05:19:50.115900"], ["id", 762146111]]
  [1m[36m (1.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 22ms (ActiveRecord: 3.1ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:19:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/edit.html.erb within layouts/application (24.0ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.6ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 822ms (Views: 819.1ms | ActiveRecord: 0.5ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 13:19:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"", "email"=>"foo@invalid", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
Completed 400 Bad Request in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:25:21', '2017-01-01 05:25:21', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:25:21', '2017-01-01 05:25:21', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:25:21', '2017-01-01 05:25:21', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:25:21', '2017-01-01 05:25:21', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:25:21', '2017-01-01 05:25:21', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:25:21', '2017-01-01 05:25:21', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$SKCS.PoLOi8q1SReGFskLOLCi5o0ViBTukhwAHgNuJXdevLKYY1Py', '2017-01-01 05:25:21', '2017-01-01 05:25:21', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$tCJWe98ZcdUo9G6QhDY2aevpiUls9bphfMXNsGm44LDmctmKrP3.2', '2017-01-01 05:25:21', '2017-01-01 05:25:21', 430533587)[0m
  [1m[35m (17.0ms)[0m  COMMIT
  [1m[36m (1.1ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:25:21 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$NwD.QOE7xhRRjw6YfrL6quNFgWy1Zz7TSHZShHb4f39pdkfSw5Alm"], ["updated_at", "2017-01-01 05:25:21.741658"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 20ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:25:21 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/edit.html.erb within layouts/application (23.4ms)
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 882ms (Views: 879.7ms | ActiveRecord: 1.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:25:22 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 395ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:29:07', '2017-01-01 05:29:07', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:29:07', '2017-01-01 05:29:07', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:29:07', '2017-01-01 05:29:07', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:29:07', '2017-01-01 05:29:07', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:29:07', '2017-01-01 05:29:07', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:29:07', '2017-01-01 05:29:07', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$IrlCDboioiUEU4EH1qwTourVSgp930OnbAwjxyDgQS1wtZUGX9Qiu', '2017-01-01 05:29:07', '2017-01-01 05:29:07', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$H4M./AgDYRr3XG5ZKRkq8.tV9XU6pigvqdwiuUGI3Q5SpgF5cYD2W', '2017-01-01 05:29:07', '2017-01-01 05:29:07', 430533587)[0m
  [1m[35m (5.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:29:07 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$6tlX6SCHix6s05U4AjdnaOY5yQ6TZt9fwBNDstn85f9dONaWyeVeO"], ["updated_at", "2017-01-01 05:29:07.943078"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 26ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:29:07 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/edit.html.erb within layouts/application (24.3ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 906ms (Views: 902.9ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:29:08 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$SD4BiE8WQ90/Xx0gQIGuoOJozVg8qqpPG9MFEUWyvT3tz0ZEu/1MK"], ["updated_at", "2017-01-01 05:29:08.879941"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:29:08 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 4.4ms | ActiveRecord: 1.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:29:08 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 328ms (ActiveRecord: 0.5ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:30:22', '2017-01-01 05:30:22', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:30:22', '2017-01-01 05:30:22', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:30:22', '2017-01-01 05:30:22', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:30:22', '2017-01-01 05:30:22', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:30:22', '2017-01-01 05:30:22', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:30:22', '2017-01-01 05:30:22', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$Y1Og6GVeEWqwX9SodKPiruNolRFWJi/WuZdO6gmtaYQUMMk2nJCai', '2017-01-01 05:30:22', '2017-01-01 05:30:22', 762146111)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$JFupfhJRecN/gMQLKIwJYOjLEr507eS7wcgVye6ZKg9p7mR0FwwO6', '2017-01-01 05:30:22', '2017-01-01 05:30:22', 430533587)[0m
  [1m[35m (17.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:30:22 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$yuHdkN2zf.0DmAl.JcDFZOkDP9YgkypdM25/d6ojqHFZlll4/3JSe"], ["updated_at", "2017-01-01 05:30:22.889608"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 21ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:30:22 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (3.1ms)
  Rendered users/edit.html.erb within layouts/application (28.9ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.6ms)
Completed 200 OK in 836ms (Views: 833.3ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 13:30:23 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"Foo Bar", "email"=>"foo@bar.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:30:23 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$2Glgrs4R3.1toGr.kg8LY.jS1OATm45ijYCeVySqllE2YCnU8ewLi"], ["updated_at", "2017-01-01 05:30:23.756803"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:30:23 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 7ms (Views: 4.0ms | ActiveRecord: 1.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:30:23 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 416ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:31:15', '2017-01-01 05:31:15', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:31:15', '2017-01-01 05:31:15', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:31:15', '2017-01-01 05:31:15', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:31:15', '2017-01-01 05:31:15', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:31:15', '2017-01-01 05:31:15', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:31:15', '2017-01-01 05:31:15', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$mFscKmO.yx/P5RaWLnMyJeoqBiIdK.eI1YkFp/J46oxN3gXNDH8sa', '2017-01-01 05:31:15', '2017-01-01 05:31:15', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$zjeIvkBqJWvz3nbThPGjtuB87wXdVY71E58QwUh.yrJQXKhe63HjK', '2017-01-01 05:31:15', '2017-01-01 05:31:15', 430533587)[0m
  [1m[35m (17.8ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:31:15 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$hgxUG/r3zjjwvdml89N.WOT5.5Vah5XhWM0hJ562pYWE1V5sF5tgO"], ["updated_at", "2017-01-01 05:31:15.770842"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:31:15 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/edit.html.erb within layouts/application (24.0ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 812ms (Views: 807.9ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-01 13:31:16 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-01 05:31:16.613139"], ["id", 762146111]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 14ms (ActiveRecord: 1.1ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 13:31:16 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$7GNH1GWrZaaFPm6l4u0Yf.dZhxSV9O41tXu0lt2z1/rkoKUScQGwW"], ["updated_at", "2017-01-01 05:31:16.630828"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 13:31:16 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 8ms (Views: 5.3ms | ActiveRecord: 2.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:31:16 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 292ms (ActiveRecord: 2.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.2ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:35:30', '2017-01-01 05:35:30', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:35:30', '2017-01-01 05:35:30', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:35:30', '2017-01-01 05:35:30', 980190962)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:35:30', '2017-01-01 05:35:30', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:35:30', '2017-01-01 05:35:30', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:35:30', '2017-01-01 05:35:30', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$eggcccPwWMIORa3Deo2ngusEL7UekVs/2supyeCEzEMH/uoSgP0Wq', '2017-01-01 05:35:30', '2017-01-01 05:35:30', 762146111)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$IGvWRKKWrcq2rJGfP9NyduSybOjdboGeB17Xh.mdo6gNvQgijzg0q', '2017-01-01 05:35:30', '2017-01-01 05:35:30', 430533587)[0m
  [1m[35m (16.8ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:35:30 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.1ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 756ms (Views: 746.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login" for 127.0.0.1 at 2017-01-01 13:35:31 +0800
Processing by SessionsController#create as HTML
  Parameters: {"params"=>{"session"=>{"email"=>"", "password"=>"[FILTERED]"}}}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:35:31 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:35:31 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:35:31 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 45ms (Views: 44.4ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:36:25', '2017-01-01 05:36:25', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:36:25', '2017-01-01 05:36:25', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:36:26', '2017-01-01 05:36:26', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:36:26', '2017-01-01 05:36:26', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:36:26', '2017-01-01 05:36:26', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:36:26', '2017-01-01 05:36:26', 70046091)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$5H/1sdvRhkxGu/lWv8QKRuKoefvuPsZHK7IURlZAJFXvt3UyZLZ1m', '2017-01-01 05:36:26', '2017-01-01 05:36:26', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$mWieYpTHKKZtvJPgzxuMA.NznGKV.8Mk2HuPKt2WBdpdnmTH8sLru', '2017-01-01 05:36:26', '2017-01-01 05:36:26', 430533587)[0m
  [1m[35m (12.7ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (1.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:36:26 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (19.6ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 836ms (Views: 822.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:36:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:36:26 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:36:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:36:26 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 52ms (Views: 50.9ms | ActiveRecord: 1.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:37:38', '2017-01-01 05:37:38', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:37:38', '2017-01-01 05:37:38', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:37:38', '2017-01-01 05:37:38', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:37:38', '2017-01-01 05:37:38', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:37:38', '2017-01-01 05:37:38', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:37:38', '2017-01-01 05:37:38', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$dhh/SeDW8GhGE9zFKBcSbeiVF3KvyY97XwxCb8Jxj4ZSqSPnU2yEO', '2017-01-01 05:37:38', '2017-01-01 05:37:38', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$fY5YyNup6kJXpMV7riHre.EXdRJD1xT7Io5oUYqlyP6k8oxjlXX5y', '2017-01-01 05:37:38', '2017-01-01 05:37:38', 430533587)[0m
  [1m[35m (1.1ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:37:38 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (14.1ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 743ms (Views: 732.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:37:38 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:37:38 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 43ms (Views: 42.2ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:37:38 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:37:38 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:37:38 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:38:51', '2017-01-01 05:38:51', 980190962)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:38:51', '2017-01-01 05:38:51', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:38:51', '2017-01-01 05:38:51', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:38:51', '2017-01-01 05:38:51', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:38:51', '2017-01-01 05:38:51', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:38:51', '2017-01-01 05:38:51', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$5VhvUnMIDEcpfybKX9kpaOy0g4Y2utnuxQdC6xmWzW4w2YA5ehI46', '2017-01-01 05:38:51', '2017-01-01 05:38:51', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$p09wURSXfgWns81tUPilp.8wn8EFsoZzzmU3YxFQ683jLh81Ti7/S', '2017-01-01 05:38:51', '2017-01-01 05:38:51', 430533587)[0m
  [1m[35m (13.4ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:38:51 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (13.9ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 710ms (Views: 698.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:38:52 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:38:52 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 45ms (Views: 43.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:38:52 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:38:52 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:38:52 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:40:03', '2017-01-01 05:40:03', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:40:03', '2017-01-01 05:40:03', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:40:03', '2017-01-01 05:40:03', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:40:03', '2017-01-01 05:40:03', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:40:03', '2017-01-01 05:40:03', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:40:03', '2017-01-01 05:40:03', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$qJiO0g8Jwg/C6x3hNYvOIejqJ527qJmoy/XK4wGy/9TBqmsTS5Mo6', '2017-01-01 05:40:03', '2017-01-01 05:40:03', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$wA.fIMVRnkxsOSph3LQauuj98WxsHFE/1eUi4k4.2pki2yXZodWGK', '2017-01-01 05:40:03', '2017-01-01 05:40:03', 430533587)[0m
  [1m[35m (17.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:40:03 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (13.9ms)
  Rendered layouts/_header.html.erb (3.2ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 750ms (Views: 737.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:40:04 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:40:04 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:40:04 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:40:04 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.4ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 45ms (Views: 44.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:41:47', '2017-01-01 05:41:47', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:41:47', '2017-01-01 05:41:47', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:41:47', '2017-01-01 05:41:47', 980190962)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:41:47', '2017-01-01 05:41:47', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:41:47', '2017-01-01 05:41:47', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:41:47', '2017-01-01 05:41:47', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$lNuu1ehlwpCxCdCer6gtBu9nYZ8mQcwVxm4ZOHSqJk88q0fAZxNu6', '2017-01-01 05:41:47', '2017-01-01 05:41:47', 762146111)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$uY9SwoB.zCuHe2CWr5643OEXkZCNxBJTAG8PtChTAkP11QieYc3qS', '2017-01-01 05:41:47', '2017-01-01 05:41:47', 430533587)[0m
  [1m[35m (13.2ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:41:47 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (14.5ms)
  Rendered layouts/_header.html.erb (4.1ms)
  Rendered layouts/_content.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 811ms (Views: 801.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:41:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:41:48 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.6ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:41:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:41:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 53ms (Views: 51.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:43:55', '2017-01-01 05:43:55', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:43:55', '2017-01-01 05:43:55', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:43:55', '2017-01-01 05:43:55', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:43:55', '2017-01-01 05:43:55', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:43:55', '2017-01-01 05:43:55', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:43:55', '2017-01-01 05:43:55', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$TaaS3nY2ZhhbABFAELSMC..pvGKd4xg0SMVXE22FsscYAXt31Jyli', '2017-01-01 05:43:55', '2017-01-01 05:43:55', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$yKvmcqtS8dTdS.qX.o8x/etM2HOlmwdIez.51I6ZLim7py9opYd4G', '2017-01-01 05:43:55', '2017-01-01 05:43:55', 430533587)[0m
  [1m[35m (13.7ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:43:55 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.0ms)
  Rendered layouts/_header.html.erb (6.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 765ms (Views: 755.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:43:55 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:43:55 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 61ms (Views: 60.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:43:55 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:43:55 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:46:11', '2017-01-01 05:46:11', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:46:11', '2017-01-01 05:46:11', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:46:11', '2017-01-01 05:46:11', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:46:11', '2017-01-01 05:46:11', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:46:11', '2017-01-01 05:46:11', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:46:11', '2017-01-01 05:46:11', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$qaPo4o1Klcl9KyFG/ohecu3NEHwBz/Efbv8V7buNhbmtLlQhR.dAm', '2017-01-01 05:46:11', '2017-01-01 05:46:11', 762146111)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$QnYSdAak9shFoz.KKZyFYu/TfAL6ZQ2QTy3RIxjTvwjPAhx4ak/xW', '2017-01-01 05:46:11', '2017-01-01 05:46:11', 430533587)[0m
  [1m[35m (17.0ms)[0m  COMMIT
  [1m[36m (1.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:46:11 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (14.0ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 813ms (Views: 802.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:46:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:46:12 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:46:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:46:12 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 50ms (Views: 49.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 05:46:42', '2017-01-01 05:46:42', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 05:46:42', '2017-01-01 05:46:42', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:46:42', '2017-01-01 05:46:42', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 05:46:42', '2017-01-01 05:46:42', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 05:46:42', '2017-01-01 05:46:42', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 05:46:42', '2017-01-01 05:46:42', 70046091)
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$qSqmVifTjL4/FrkJ9zPo.eU84u0DWHzz6pByuCbmbTRKQeLXG3cDO', '2017-01-01 05:46:42', '2017-01-01 05:46:42', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$L8t5ID4A1b45vubSw33c9O2UEagskEpOtzNX6ZBGnIH5W8v02eLvq', '2017-01-01 05:46:42', '2017-01-01 05:46:42', 430533587)[0m
  [1m[35m (13.4ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:46:43 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (18.2ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 774ms (Views: 763.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 13:46:43 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 13:46:43 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 13:46:43 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 13:46:43 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.9ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 45ms (Views: 44.1ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:02:34', '2017-01-01 06:02:34', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:02:34', '2017-01-01 06:02:34', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:02:34', '2017-01-01 06:02:34', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:02:34', '2017-01-01 06:02:34', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:02:34', '2017-01-01 06:02:34', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:02:34', '2017-01-01 06:02:34', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$et4tWfR/OMHwKZhc7Zrb6ekqT9V.J.lEdj3TJkwNFJbyAdWbeI3o.', '2017-01-01 06:02:34', '2017-01-01 06:02:34', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$SxYx1kcyviLejg639UwgkOTsPVviTYn7Qph7i61oVXIEqpz7j/VV6', '2017-01-01 06:02:34', '2017-01-01 06:02:34', 430533587)[0m
  [1m[35m (13.6ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.7ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$EWdaM80KUs6F3EfRETXhCu/aVhXox8sRnD6uY7Ks/bIqMsO9gV7Me"], ["updated_at", "2017-01-01 06:02:34.904104"], ["id", 430533587]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$q0H0EHOoEB0F1QL4v5kTtOTgtXK0CYfb/lSCL8wRmN9uPKt.rp8A6"], ["updated_at", "2017-01-01 06:02:34.922916"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$QdcRDF6EH4qAsou3OZK3Fefa7sY2Hz/6wBHA5SW/5pfVC1/LPPyAG"], ["updated_at", "2017-01-01 06:02:34.925835"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:02:34 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$5Mo8NLF7HjQ/dGHvWQdfhOfG1NlbuaX5MJ1HvgL9dBUO2lxTTsfC."], ["updated_at", "2017-01-01 06:02:34.965727"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 13ms (ActiveRecord: 0.2ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:02:34 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:02:34 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:02:34 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$6b68U4ug.BnMKJmdegkP3OyrfvOebAu5EHbqVCMNZbgUvosDpkzmC"], ["updated_at", "2017-01-01 06:02:34.999541"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:02:35 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:02:35 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 14:02:35 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.4ms)
  Rendered users/_form.html.erb (410.3ms)
  Rendered users/new.html.erb within layouts/application (426.9ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.4ms)
Completed 200 OK in 1214ms (Views: 1213.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$DWn7dhquL5ptmm0/vRruvuSWMKLof4sGGP6B1FfjjNHmZcoIMLOpW"], ["updated_at", "2017-01-01 06:02:36.250428"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 44ms (Views: 43.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$K9kIRV8xItln0abjxfBE0.v9FV.PQxLK/6wZUHNGT/kDjghMHqZhG"], ["created_at", "2017-01-01 06:02:36.378472"], ["updated_at", "2017-01-01 06:02:36.378472"]]
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$bjE0p9za63.vgQFAMHHlyO6EAEw.qQfJ1KMbB.HmcgEVO4xqGjex2"], ["updated_at", "2017-01-01 06:02:36.399987"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 1.9ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-01 06:02:36.425739"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$VB1JxqQVMAqRZ3SRFL5CJ.E.SiY0/gLW9e7LE.kI2favd/LBHGXP6"], ["updated_at", "2017-01-01 06:02:36.439979"], ["id", 762146111]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.5ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 1.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (5.3ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 47.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (7.9ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 52ms (Views: 52.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:02:36 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:04:34', '2017-01-01 06:04:34', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:04:34', '2017-01-01 06:04:34', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:04:34', '2017-01-01 06:04:34', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:04:34', '2017-01-01 06:04:34', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:04:34', '2017-01-01 06:04:34', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:04:34', '2017-01-01 06:04:34', 70046091)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$D/N1FmwkmqTRv2Lgod7zUeOyg2CIfTZXzrokAD/OFgF5u0YoJLvI.', '2017-01-01 06:04:34', '2017-01-01 06:04:34', 762146111)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$nfiC2pwvFtHa3.yq2VLxROiqzFdEv3de50rB96mh4a9cWBh/OlHiO', '2017-01-01 06:04:34', '2017-01-01 06:04:34', 430533587)[0m
  [1m[35m (17.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (1.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (7.9ms)
  Rendered layouts/_header.html.erb (9.2ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 736ms (Views: 734.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (4.0ms)
  Rendered users/_form.html.erb (307.5ms)
  Rendered users/new.html.erb within layouts/application (317.3ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 367ms (Views: 360.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$t3H2hoxZiDMN12XTZKKWueXtb4kTEePqbsumzRIqXZy0LSX6m.R6y"], ["updated_at", "2017-01-01 06:04:35.756984"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$Bt6R7nJv354c0Jw61LQn0euqtaLpFJksy/PSDGgiviftAIOr/rc2e"], ["updated_at", "2017-01-01 06:04:35.788057"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$pP.h5ttqRIv7DkMGSZHGZuzOfcKB3H2he0nwMVLi3WBtxixDOHbam"], ["updated_at", "2017-01-01 06:04:35.810361"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.4ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 45ms (Views: 44.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 49ms (Views: 48.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UserLoginTest: test_login_with_valid_information
------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:04:35 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (1.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$7g3X69IhrSAJbUNnkkroLuV/fDt7B5uRi7BSdtY9GXhCezkPSjcVq"], ["created_at", "2017-01-01 06:04:36.027699"], ["updated_at", "2017-01-01 06:04:36.027699"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$hajAv/NZ.6EqTtLxchO2gOwgs1iTRwWS1VmLX6nkR0Ep5tLAROOVW"], ["updated_at", "2017-01-01 06:04:36.040718"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$PsQfpLpQqNELm44caUy77OWTL8vPRYcb3hH6NDAApjG0lHWMe3bC6"], ["updated_at", "2017-01-01 06:04:36.044512"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$WxmkviaTZ1flXoZ.Mdr6GeFKOPmO5qh7krFGuZy0pwofNa/m22NlS"], ["updated_at", "2017-01-01 06:04:36.051691"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:04:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$Gbyr/7A0ET3RxzznfVlWwOKlVJLvHlE9fHr6xobTwuZpiqpBo9db6"], ["updated_at", "2017-01-01 06:04:36.066738"], ["id", 762146111]]
  [1m[36m (1.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.1ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:04:36 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-01 14:04:36 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-01 06:04:36.093633"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:04:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$RqenRzMVZhuw6G6JbC8RvO8QGJ4dS9fzBauH2bpnnui4k2dA24Z6C"], ["updated_at", "2017-01-01 06:04:36.108079"], ["id", 762146111]]
  [1m[36m (0.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:04:36 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:04:36 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.3ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:18:21', '2017-01-01 06:18:21', 298486374)
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$pBgNWt92KNoqBnUVj7MnCe0a6aFMatrsPhAvwbJ8QkswSk/o.2rRC', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$twbFMxO2cnNeE9nU.1sA4.zAdO6qYt7/cDFMOMa/zkp./tCuGdCp2', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$HlP38lzv1ifYR2yP3U1BPOgsRccTPhDox64IOCq2RBpkzVYWBY0mm', '2017-01-01 06:18:21', '2017-01-01 06:18:21', 369664257)
  [1m[36m (18.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:21 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.0ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 771ms (Views: 761.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 45ms (Views: 44.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.9ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.8ms | ActiveRecord: 1.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:18:22 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 980190962)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:18:55', '2017-01-01 06:18:55', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 298486374)[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$UP8BUav1WV081fDU3v1pK..9g2FIjCBFsKNlAvtdJRXnyeogfbltO', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$mg7GsXhqlW1pW2UDcMcw/uxUMyGrxX1lll3eHF7EJyFEf3DziElg2', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 430533587)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$3NwG07tWRmt7gWEdYWUFVOUn3B5NJXRN50iO0TYvhbYuwkXocvmBS', '2017-01-01 06:18:55', '2017-01-01 06:18:55', 369664257)
  [1m[36m (14.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:55 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (17.7ms)
  Rendered layouts/_header.html.erb (5.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 862ms (Views: 851.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.9ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 54ms (Views: 53.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (1.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 2.1ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 1.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:18:56 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 980190962)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:19:31', '2017-01-01 06:19:31', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 52477111)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$WOcb8TJShIGqxW1GyxdwxeB6fYPVl2wwzyBEJJzFDptlrqWYMaapS', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$X1CIfgKGIjMo4ECIaQMbYu6SEK.rJWf/qrmasePGjLdxxRT3IEFZi', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 430533587)[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$AtgKANMiltjz6dd6Dv4DjeTDVcIS4lVKMb7/ICB.h7pfk/XSgiN2.', '2017-01-01 06:19:31', '2017-01-01 06:19:31', 369664257)
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:19:31 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (14.0ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 707ms (Views: 697.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:19:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:20:39', '2017-01-01 06:20:39', 298486374)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$sftbtPeEQlZfb8K5dygV1utk9lFfGx4fctIWJ598ZBpJ5cfBZy5lG', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$75wKQPznmIO4cO.3qZvYlevBtOdh0yWBc1G6JrClEI4Q86eAlAy3i', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$uf7jCTmVrf3qyluL33mJmOsy2Njra.Gb4R2MzhXA0ywQQzDFzigbC', '2017-01-01 06:20:39', '2017-01-01 06:20:39', 369664257)
  [1m[36m (5.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:20:39 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (27.6ms)
  Rendered layouts/_header.html.erb (7.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 1117ms (Views: 1093.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 2.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 61.6ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 3.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:20:40 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:21:47', '2017-01-01 06:21:47', 298486374)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 70046091)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$1pDTY80Tkgi7omcDHKk3SuOiDQCzMzsMqqt4yNyNswmBBFzcUSJ2i', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$WjDfBNPSrOhNJ/gRvRY9X.GY3ghhAafD2j8kR6GxctlL1hCaGNPGq', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$eUEeZh4rEWICAVampWvuRO61HHCjXDEkvzdYK.Ixup26u2cH7eqHK', '2017-01-01 06:21:47', '2017-01-01 06:21:47', 369664257)
  [1m[36m (13.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:21:47 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$j496fIrpebNYuZP.pR3QuOEavq9RtSGfWQKsg64Z/amPixFBdWFom"], ["updated_at", "2017-01-01 06:21:47.797740"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 0.1ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-01 14:21:47 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-01 06:21:47.810619"], ["id", 430533587]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:21:47 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (14.0ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (2.0ms)
Completed 200 OK in 790ms (Views: 789.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 2.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 46ms (Views: 44.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$FmNUC0IyfM9xQq6Mutb1yuXp44gFnyYx8Z/g9LktX/Dw9ZwUYK6Km"], ["updated_at", "2017-01-01 06:21:48.689079"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.5ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.2ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.6ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.3ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.3ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:21:48 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:25:50', '2017-01-01 06:25:50', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$YS6Jkt/Gm9fAjUIMjTxMPOFNlXmwNny3Nn6lGXHS/e6HrP6C0t9S6', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$3cnqG1FL8Z0Uo9UsR6r/heCho2DBTik1Pr.T5xF4l./TxyzaVpG7m', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$2MWIAwA18jVD4a/d81atA.Hh/xbIcN2m34unKeBrrQkmFL3YE1W1G', '2017-01-01 06:25:50', '2017-01-01 06:25:50', 369664257)
  [1m[36m (16.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 14:25:50 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (4.0ms)
  Rendered users/_form.html.erb (373.6ms)
  Rendered users/new.html.erb within layouts/application (388.6ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1150ms (Views: 1133.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:25:51 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.3ms)
  Rendered users/_form.html.erb (4.3ms)
  Rendered users/new.html.erb within layouts/application (4.3ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 6.2ms | ActiveRecord: 1.0ms)
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:26:18', '2017-01-01 06:26:18', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 52477111)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$bMiSInbfRfQH9RAsg1xWTenYFzbtm4RhUByT5Uec1fjBoE0QUkzFK', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$LLfAR6YTUh0BwUFI7qzjBexFdJshiSAq0UmwwWhYGqhRzGdn5rUc.', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$oNMlGH7soCZSO/ABrlDdVu7MgFejfXNTlav493wpHUlONupG4YFqu', '2017-01-01 06:26:18', '2017-01-01 06:26:18', 369664257)
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:26:18 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$pz7na14LiQ740Wb49XPDn.T/UZ1zM0bb9.fDE0/R83WnFZFZ5mIxq"], ["updated_at", "2017-01-01 06:26:18.505671"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 1.4ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:26:18 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/edit.html.erb within layouts/application (23.1ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.1ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1189ms (Views: 1186.2ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-01 14:26:19 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-01 06:26:19.725170"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:26:19 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$n9ArZZ9OY.BiZUivQkxRCOXOszPOW7YkTkA2Vhp3/6EnwaiU5BXDq"], ["updated_at", "2017-01-01 06:26:19.739210"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:26:19 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:26:19 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 332ms (ActiveRecord: 1.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[35mNotice Load (1.0ms)[0m  SELECT "notices".* FROM "notices"  ORDER BY updated_at DESC
  Rendered notices/index.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 57ms (Views: 55.3ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 51ms (Views: 50.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (9.2ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 57ms (Views: 56.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 2.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$idh0MOXsyzCPqdxjsn6s5eOgVYwuuG2i1JWpmYd2jXuEE3LOQiZZK"], ["updated_at", "2017-01-01 06:26:20.314220"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.7ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 1.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$jjJT3YmotnA22yRxWgSCgea4wVEMYOStfsweVk7c69NnsdUvtcX2G"], ["updated_at", "2017-01-01 06:26:20.367501"], ["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-01 06:26:20.374309"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 2.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$o.3vpB0s1szYXOcv0giyXeu5L6glc43u6EGTYPpRfQp3oWbaVo9L6"], ["created_at", "2017-01-01 06:26:20.396897"], ["updated_at", "2017-01-01 06:26:20.396897"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$o6gCWJWWkp8Onkf.ElLtm.CPTO0JJp6203zwSsxlA4cJ9t24vMqqi"], ["updated_at", "2017-01-01 06:26:20.457792"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$k2Yce8TSBGGcXNBIpOn1IOQWPOQFikLDO6kHASvVdr4UESgXgE0O6"], ["updated_at", "2017-01-01 06:26:20.474614"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$58ieqMinCMkt9QFi1S07A.20s1GKQgamRb9icYyDZ0Fw.FMlO0iA."], ["updated_at", "2017-01-01 06:26:20.491950"], ["id", 430533587]]
  [1m[35m (1.6ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (6.9ms)
  Rendered users/new.html.erb within layouts/application (18.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 34ms (Views: 33.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.8ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (2.5ms)
  Rendered users/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:26:20 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/_form.html.erb (3.0ms)
  Rendered users/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.8ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 10ms (Views: 5.4ms | ActiveRecord: 2.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$PM3a4VjPJ99hYBZhcgNXpuZX4M4UeGWhLZLDU5TkD9HmUc/oNzrme"], ["updated_at", "2017-01-01 06:26:20.591891"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$lUzfkmCsWMlm3/SXNVMCMe2ztlF1iDhsA7RH8liSCltK3YKpb7LkW"], ["updated_at", "2017-01-01 06:26:20.598549"], ["id", 430533587]]
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$iokLIeUVOOhTA6GBt97Us.Pvk1LhqMkVtn5NFDdjdA0DGuAUeXLFq"], ["updated_at", "2017-01-01 06:26:20.602664"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.7ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "created_at", "updated_at", "id") VALUES ('计算机体系结构', '2017-01-01 06:29:31', '2017-01-01 06:29:31', 980190962)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("created_at", "updated_at", "id") VALUES ('2017-01-01 06:29:31', '2017-01-01 06:29:31', 298486374)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:29:31', '2017-01-01 06:29:31', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:29:31', '2017-01-01 06:29:31', 298486374)[0m
  [1m[35mFixture Delete (1.3ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:29:31', '2017-01-01 06:29:31', 52477111)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:29:31', '2017-01-01 06:29:31', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$uBX8SoqlLLxZmr4QMrpICOKRxbcBlGRLvONWACjDcUhWaTO1nt76S', '2017-01-01 06:29:31', '2017-01-01 06:29:31', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$bBaguH6OPA5UOIiKyfwL9uwBCnfOBNKp0FGTVuvr3uh8nMBRpl/.a', '2017-01-01 06:29:31', '2017-01-01 06:29:31', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$giMq8ZR8StENGX7j7aQhIeiR7Dl0z9u4iuks1wD01N.XQ79E7944i', '2017-01-01 06:29:31', '2017-01-01 06:29:31', 369664257)
  [1m[36m (15.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[35mNotice Load (1.0ms)[0m  SELECT "notices".* FROM "notices"  ORDER BY updated_at DESC
  Rendered notices/index.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (9.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 759ms (Views: 758.5ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$XAS1E0x1IpIWVSPYZwzoZ.rdHX7.1KlRPEdijPqrL2Il9UKyQ59qi"], ["created_at", "2017-01-01 06:29:32.452207"], ["updated_at", "2017-01-01 06:29:32.452207"]]
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.0ms)
  Rendered users/_form.html.erb (27.1ms)
  Rendered users/new.html.erb within layouts/application (40.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 96ms (Views: 89.6ms | ActiveRecord: 0.0ms)
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/_form.html.erb (3.0ms)
  Rendered users/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$AXz8oXs1gavDmyyhkm27vOr18MdcQMMgBVjGkvVxyO5vSV4WUbp3K"], ["updated_at", "2017-01-01 06:29:32.628431"], ["id", 762146111]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 2.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.9ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-01 06:29:32.654342"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$JW5vYGPCUQpwBYW5jg1Fy.w0lNB0r4tA1hkHLJoxXrIvG8sj0PmYa"], ["updated_at", "2017-01-01 06:29:32.667574"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 2.8ms | ActiveRecord: 0.9ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 42ms (Views: 42.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (2.0ms)
  Rendered users/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$4FuMB4NHBk0UFeLr671JEuKqHRwN2oEKNlGFaiPss1c/eWKJDPV7K"], ["updated_at", "2017-01-01 06:29:32.763889"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 2.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.8ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$ZADdMYiQAvQVFCpCPhB0zOj/qDzFtk//EomXU6bi.mB2NF/xfQnSi"], ["updated_at", "2017-01-01 06:29:32.780757"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$hNpLv7K6nEgtR5EbqqY0O.nGJOdZG93ShqNdnmfgmMfarZCflqB8e"], ["updated_at", "2017-01-01 06:29:32.819912"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$BSrbnpvxy1aLUJORI/S/wOqjHCnEswq4Wu5zTYJMpTKfLCQzXs1G."], ["updated_at", "2017-01-01 06:29:32.831794"], ["id", 430533587]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$cdCXNmNhQTFPMB7nZfHojeU2iDTcuj0C6N.Op5RdzEBfQ67Fn3VXi"], ["updated_at", "2017-01-01 06:29:32.834986"], ["id", 430533587]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$hNz2CHBS2UgKqBfpSTKCGuqQAAwoJ1d.tOEeeL9wqns2RJCfPCZYW"], ["updated_at", "2017-01-01 06:29:32.841753"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 47.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$7YVeXmxchEwYYrzjWcVUmeWhENg6QqddvOGl4wjtX7SLw6EpgYk3u"], ["updated_at", "2017-01-01 06:29:32.911519"], ["id", 430533587]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2017-01-01 06:29:32.918350"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 2.8ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$x2.jQnraK9eC3zpgDd7Cze8DtLq4erDEYA5r3SavHGIgp6zoZR9ra"], ["updated_at", "2017-01-01 06:29:32.929903"], ["id", 430533587]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:29:32 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:29:33 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', '2017-01-01 06:53:48', '2017-01-01 06:53:48', 980190962, 450215437)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('091M4002H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', '2017-01-01 06:53:48', '2017-01-01 06:53:48', 298486374, 64810937)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:53:48', '2017-01-01 06:53:48', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 06:53:48', '2017-01-01 06:53:48', 298486374)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 06:53:48', '2017-01-01 06:53:48', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 06:53:48', '2017-01-01 06:53:48', 70046091)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$d8KNUlL8nth31YsUOzUFg.wHZHaq4G/Zi31jhztP96n1I0.47tfEC', '2017-01-01 06:53:48', '2017-01-01 06:53:48', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$vZqg0icRfEKcpWDf6HwPneDw5Ugl/EOoG9imPf4sixYzhyA/3pCY2', '2017-01-01 06:53:48', '2017-01-01 06:53:48', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$JPp4xfIVl5NaDJ4UE.uOfOvCFehxSFziN3JfS1jypLjw/5km5tSlK', '2017-01-01 06:53:48', '2017-01-01 06:53:48', 369664257)
  [1m[36m (16.6ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-01 14:53:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (722.5ms)
  Rendered layouts/_header.html.erb (6.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 835ms (Views: 825.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (19.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 80ms (Views: 78.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.9ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$hJ2lczD9fj0SdPsipde5oe71.fBwrBc8wOCHfdJbXWnhpsqafeqqm"], ["updated_at", "2017-01-01 06:53:49.563810"], ["id", 430533587]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2017-01-01 06:53:49.574879"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  Rendered layouts/_header.html.erb (2.1ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$dbLDy4wx6O3CPw76Zwn/2uWDqqKIJ6OgRsHy4MOHVMk33V7VSTjCS"], ["updated_at", "2017-01-01 06:53:49.617822"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 14:53:49 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (3.9ms)
  Rendered users/_form.html.erb (309.8ms)
  Rendered users/new.html.erb within layouts/application (320.9ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 370ms (Views: 370.0ms | ActiveRecord: 0.0ms)
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/_form.html.erb (4.0ms)
  Rendered users/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 5.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$XwV4EdJu.ZVzuwXz9qLW8OPB7SgHofFPeHU.Eg0wXz5w.bf1p4MKK"], ["created_at", "2017-01-01 06:53:50.069955"], ["updated_at", "2017-01-01 06:53:50.069955"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$MDR0MKgHPDGzQAwlrozB5Osje/ny2RBu2B1J8P53YztuTXugJvW2W"], ["updated_at", "2017-01-01 06:53:50.105177"], ["id", 430533587]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$MYfm/81GlkCf32Ra99Pxdu.Uzmf1CTdlAg/uFIhEJqR2itAxFTtCG"], ["updated_at", "2017-01-01 06:53:50.108675"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$hBIUtYmmpFqCEl22.nCjAus1e00ooTjrdh8nVoGifa6qA7ZWFUdUC"], ["updated_at", "2017-01-01 06:53:50.116203"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$SUx5atnx/bhNvfyZWrEdkeofepedQ.lSvs/S0iRIE/GdGijCT90Si"], ["updated_at", "2017-01-01 06:53:50.129222"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.9ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-01 06:53:50.155182"], ["id", 762146111]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$WjXFEkULB3hZQlhF5rA8Hebcpp/2vIIxta.NT1qzzVj076W.MiqP."], ["updated_at", "2017-01-01 06:53:50.168339"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 2.8ms | ActiveRecord: 1.5ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[35mNotice Load (1.0ms)[0m  SELECT "notices".* FROM "notices"  ORDER BY updated_at DESC
  Rendered notices/index.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 45.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$A6uT4eneOJGyHUYiFi8BL.VJ5ILC7GLweE.IkD8tSmFfY5dkffUVq"], ["updated_at", "2017-01-01 06:53:50.253251"], ["id", 430533587]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.9ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$7PjRnKd89iK3uIjjUK6XoelDMzPJZa2Me67BKcQtY/dTsxaXGl1k2"], ["updated_at", "2017-01-01 06:53:50.268737"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.3ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$uRkysCCBrAi2sXPGJ7mtVeo4oN3WDYkKURSKiIAdjOjzA05PdRUCC"], ["updated_at", "2017-01-01 06:53:50.284675"], ["id", 430533587]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.5ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 14:53:50 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (3.0ms)
  Rendered users/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', '2017-01-01 07:12:06', '2017-01-01 07:12:06', 980190962, 450215437)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('091M4002H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', '2017-01-01 07:12:06', '2017-01-01 07:12:06', 298486374, 64810937)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 07:12:06', '2017-01-01 07:12:06', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 07:12:06', '2017-01-01 07:12:06', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 07:12:06', '2017-01-01 07:12:06', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 07:12:06', '2017-01-01 07:12:06', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$nOEqmEVgALpbixpvgOay5uX9ZK91d3aYNNoUHYDqWWWIiTzzwRlgy', '2017-01-01 07:12:06', '2017-01-01 07:12:06', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$1qu02qHfJ81Y31hTcCH4CuVv7IFADTt8rGRvWXOsG2wKlndpen1pm', '2017-01-01 07:12:06', '2017-01-01 07:12:06', 430533587)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$SDTzeJZI3U6mXV4iyKszcO3GI0JRmseBFMPhmLo2paSxIK98yx0BC', '2017-01-01 07:12:06', '2017-01-01 07:12:06', 369664257)
  [1m[36m (17.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', '2017-01-01 07:20:15', '2017-01-01 07:20:15', 980190962, 450215437)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('091M4002H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', '2017-01-01 07:20:15', '2017-01-01 07:20:15', 298486374, 64810937)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 07:20:15', '2017-01-01 07:20:15', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 07:20:15', '2017-01-01 07:20:15', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 07:20:15', '2017-01-01 07:20:15', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 07:20:15', '2017-01-01 07:20:15', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$ZsvdyDygjEJYJHJyXvd/leCXVqEYKVVb0LYOha9Qeq3VzIC5F/dpa', '2017-01-01 07:20:15', '2017-01-01 07:20:15', 762146111)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$1hGh7nMc465vMkAl9TWeqeWHFNHaEJkBTLNUKx5ycFcWhWEL7qqxG', '2017-01-01 07:20:15', '2017-01-01 07:20:15', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$LyfgvIbSfZyovKp3N5kQ1OzMHk4SQtJSJLJH5x2Q0EOj3A4nZPOhm', '2017-01-01 07:20:15', '2017-01-01 07:20:15', 369664257)
  [1m[36m (16.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------
CourseTest: test_name_should_be_valid
-------------------------------------
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', '2017-01-01 07:22:04', '2017-01-01 07:22:04', 980190962, 450215437)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('091M4002H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', '2017-01-01 07:22:04', '2017-01-01 07:22:04', 298486374, 64810937)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 07:22:04', '2017-01-01 07:22:04', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 07:22:04', '2017-01-01 07:22:04', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 07:22:04', '2017-01-01 07:22:04', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 07:22:04', '2017-01-01 07:22:04', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$oWdOYMAvFdG0WXdKxHKeo.gwRapkT242togcnGK1gl3EI/LVeDWGG', '2017-01-01 07:22:04', '2017-01-01 07:22:04', 762146111)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$P6WfTMVfyYGT0lXdAQ/AjOMk5BrZSxfh6wr/Gt.NjtA3bS3Q.GL/G', '2017-01-01 07:22:04', '2017-01-01 07:22:04', 430533587)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$2ecNyo2Cip1QUuB9NMdYM.95RRu5VudY6sGH0oCztztb59U26XKuu', '2017-01-01 07:22:04', '2017-01-01 07:22:04', 369664257)
  [1m[36m (12.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------
CourseTest: test_name_should_be_valid
-------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[36mSemester Load (1.1ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', '2017-01-01 07:22:37', '2017-01-01 07:22:37', 980190962, 450215437)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('091M4002H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', '2017-01-01 07:22:37', '2017-01-01 07:22:37', 298486374, 64810937)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 07:22:37', '2017-01-01 07:22:37', 980190962)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 07:22:37', '2017-01-01 07:22:37', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 07:22:37', '2017-01-01 07:22:37', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 07:22:37', '2017-01-01 07:22:37', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$CYcsWuL6oydgFqtH5kwdoOxk0LC9./RJ8hZUt9j5iEo5w.YJ0.TQW', '2017-01-01 07:22:37', '2017-01-01 07:22:37', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$y7cct3Z2ixJbRgXVb0jn9uiw3qpuLoteC4oMN62or15Ggi6NxXVLO', '2017-01-01 07:22:37', '2017-01-01 07:22:37', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$AQcLNY65WtQABci.wKY3Tu.xnhsrrQfXIAcToi.PAcUadnvoQ2YVy', '2017-01-01 07:22:37', '2017-01-01 07:22:37', 369664257)
  [1m[36m (13.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
CourseTest: test_name_should_be_valid
-------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', '2017-01-01 07:30:15', '2017-01-01 07:30:15', 980190962, 450215437)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('091M4002H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', '2017-01-01 07:30:15', '2017-01-01 07:30:15', 298486374, 64810937)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 07:30:15', '2017-01-01 07:30:15', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 07:30:15', '2017-01-01 07:30:15', 298486374)[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 07:30:15', '2017-01-01 07:30:15', 52477111)[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 07:30:15', '2017-01-01 07:30:15', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$dv190c4elkD7xo.bbCdtP.odCoQwhP4l50d.jc24bGrwGIGkxEwUy', '2017-01-01 07:30:15', '2017-01-01 07:30:15', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$shvhNmvYhBPTScSLWmFGZ.6TYGKdO6n36R/PtzqD2mG9uy23l0NOy', '2017-01-01 07:30:15', '2017-01-01 07:30:15', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$BgVfStCA/9hXfD5VmOKw7OAcy/7sCA8QlPLuVzKtfu93GQNvWVd96', '2017-01-01 07:30:15', '2017-01-01 07:30:15', 369664257)
  [1m[36m (17.3ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CourseTest: test_teaching_type_should_be_valid
----------------------------------------------
  [1m[35mSemester Load (0.4ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
CourseTest: test_name_should_be_valid
-------------------------------------
  [1m[36mSemester Load (0.8ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_week_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (1.1ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
CourseTest: test_class_room_should_be_valid
-------------------------------------------
  [1m[36mSemester Load (1.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
CourseTest: test_exam_type_should_be_valid
------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------
CourseTest: test_credit_should_be_valid
---------------------------------------
  [1m[36mSemester Load (1.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[35mSemester Load (1.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_time_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_type_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', '2017-01-01 07:30:44', '2017-01-01 07:30:44', 980190962, 450215437)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('091M4002H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', '2017-01-01 07:30:44', '2017-01-01 07:30:44', 298486374, 64810937)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 07:30:44', '2017-01-01 07:30:44', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 07:30:44', '2017-01-01 07:30:44', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 07:30:44', '2017-01-01 07:30:44', 52477111)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 07:30:44', '2017-01-01 07:30:44', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$PZcLOy41VuYCkCu20S/0u.w.3TlScOxxuuQ6xedEwKDfM7ZQRaYuu', '2017-01-01 07:30:44', '2017-01-01 07:30:44', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$Gg5JpqWbWEBIOHuTQyhUnOdiujoi5CM8Mni5bpyDUco9EXH4AFyUO', '2017-01-01 07:30:44', '2017-01-01 07:30:44', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$HKvHMelwwdrjhmPYtVcm6.QXtLxelZ/w4PtOS5Op/KqxJuReAIW1.', '2017-01-01 07:30:44', '2017-01-01 07:30:44', 369664257)
  [1m[36m (17.7ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
---------------------------------------
CourseTest: test_credit_should_be_valid
---------------------------------------
  [1m[35mSemester Load (1.1ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
CourseTest: test_class_room_should_be_valid
-------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_week_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CourseTest: test_teaching_type_should_be_valid
----------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
CourseTest: test_name_should_be_valid
-------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_type_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_time_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
CourseTest: test_exam_type_should_be_valid
------------------------------------------
  [1m[35mSemester Load (1.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', '2017-01-01 07:44:18', '2017-01-01 07:44:18', 980190962, 450215437)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "created_at", "updated_at", "id", "semester_id") VALUES ('091M4002H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', '2017-01-01 07:44:18', '2017-01-01 07:44:18', 298486374, 64810937)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 07:44:18', '2017-01-01 07:44:18', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 07:44:18', '2017-01-01 07:44:18', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 07:44:18', '2017-01-01 07:44:18', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 07:44:18', '2017-01-01 07:44:18', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$R4s.W0TjsrwIPzaJ5XgBJOck0fKUbIiAsSK5B/zAEP1vrsNEFAVXO', '2017-01-01 07:44:18', '2017-01-01 07:44:18', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$CxKdFVZe8Qk.1eaRMew23OHHk2mAXeFjEbNsBzxxA0UIm4H.8JZX2', '2017-01-01 07:44:18', '2017-01-01 07:44:18', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$iW2j4XtvYCzSN.Era2Ub7O.VZO9eCOx.PB/iSRd.hEWcd9pY9581O', '2017-01-01 07:44:18', '2017-01-01 07:44:18', 369664257)
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 15:44:18 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$Bqz2YAfjeQ3yRo4iITSc6eS2q0H5JhSRV3YIXan4jA8cDRTqkWEOy"], ["updated_at", "2017-01-01 07:44:18.459441"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 27ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 15:44:18 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/edit.html.erb within layouts/application (28.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 835ms (Views: 832.3ms | ActiveRecord: 2.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-01 15:44:19 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-01 07:44:19.323845"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 12ms (ActiveRecord: 3.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 15:44:19 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$UtvAiDgYNVFm5qv497/80.ociG.xXtMYpcOubROED2wCVMtCf7e7m"], ["updated_at", "2017-01-01 07:44:19.337845"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 15:44:19 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (1.1ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 3.4ms | ActiveRecord: 1.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 15:44:19 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 364ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 15:44:19 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (11.0ms)
  Rendered users/new.html.erb within layouts/application (21.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 36ms (Views: 35.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 15:44:19 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 15:44:19 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 15:44:19 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 15:44:19 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$meTGa7htEjYvx9TI5UxaA.U/HRLhjmLQ/dTRcp4Glrx5805UVUecK"], ["updated_at", "2017-01-01 07:44:19.793696"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 15:44:19 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 15:44:19 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$Qk99DQy/el6yh5p4uGfTROtTY7c3xfOeM2kDplr1fNw8B8Ldf7aEa"], ["updated_at", "2017-01-01 07:44:19.810736"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 15:44:19 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 15:44:19 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$n207UP7B2/NSBmU5nexEHu/kxy63A5fMrKQYhMO0z9ogHPcibpBSS"], ["updated_at", "2017-01-01 07:44:19.828757"], ["id", 430533587]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 15:44:19 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 47.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$wm6Ibm.ov.XCu4pE.7WHAOfKjOWKUNrdP7bwRkwAIRgaPmp6aBXkG"], ["created_at", "2017-01-01 07:44:19.943342"], ["updated_at", "2017-01-01 07:44:19.943342"]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$XcJohFygP.KxOIpXVIzPte7FICPfBpkkTOWpxYJjz2vf0Do3HYM26"], ["updated_at", "2017-01-01 07:44:19.951893"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$xcBCQAbC3IfGuLNXmWLwYumN5uzOOsg2hvwAPrqW6aQmRY4EO/EOe"], ["updated_at", "2017-01-01 07:44:19.954934"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$g2XtK3yKREZA1lPdKexPCusLusHIImGYd1mbcbgQtZb0PnLHiJ5ta"], ["updated_at", "2017-01-01 07:44:19.961899"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 15:44:19 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.3ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 50ms (Views: 49.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.9ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.9ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.1ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 46ms (Views: 45.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$1rT9vs16b0iCmkJkVvnOpeKBOneJ0CNNNmxRWuNn5Jd9H03ZF1ieG"], ["updated_at", "2017-01-01 07:44:20.094144"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.3ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.0ms | ActiveRecord: 1.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$Gd84kkt3a4mmn9H0ev/GzeAmWNFWOoVwG3BqQjsuJ3lbr6oYKLR2y"], ["updated_at", "2017-01-01 07:44:20.156756"], ["id", 430533587]]
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-01 07:44:20.163744"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 2.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (3.0ms)
  Rendered users/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 15:44:20 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/_form.html.erb (3.5ms)
  Rendered users/new.html.erb within layouts/application (3.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 11ms (Views: 5.7ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
CourseTest: test_exam_type_should_be_valid
------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[36mSemester Load (0.3ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_time_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
CourseTest: test_name_should_be_valid
-------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------
CourseTest: test_credit_should_be_valid
---------------------------------------
  [1m[35mSemester Load (1.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CourseTest: test_teaching_type_should_be_valid
----------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
CourseTest: test_class_room_should_be_valid
-------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_type_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_week_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.6ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.9ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 980190962, 450215437)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('091M4002H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 298486374, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 0', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 841555056, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 1', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 86912251, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 2', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 472350019, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 3', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 723537364, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 4', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 893704313, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 5', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 38004964, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 6', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 457881948, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 7', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 743279053, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 8', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 1022530654, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 9', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 200647885, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 10', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 125340452, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 11', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 813677493, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 12', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 695659025, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 13', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 510778012, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 14', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 1396539, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 15', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 923959212, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 16', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 773533208, 64810937)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 17', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 421273219, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 18', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 161678098, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 19', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 1050948487, 64810937)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 20', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 743823585, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 21', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 458418294, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 22', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 39565774, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 23', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 895256925, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 24', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 725097722, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 25', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 473902191, 64810937)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 26', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 87457239, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 27', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 842091846, 64810937)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 28', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 579752147, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 29', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 361324612, 64810937)
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 70046091)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$IEjNuv/Vyn6G2Q7VIrwJpeFdMM1BcE/NG9S9jfYm1UDOF2D31pPfS', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$SDLTcw4.21HVzeN6Sg4oLe8jpS1qlmzCXKHsAy44akoafwzbM6BBe', '2017-01-01 08:29:16', '2017-01-01 08:29:16', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("id", "name", "email", "teacher", "department", "password_digest", "created_at", "updated_at") VALUES (1, '罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$axoFSvAKxgoKEgzyr4iOTuf8opaNR9bBRz2VSILZYyaQlna9P.kna', '2017-01-01 08:29:16', '2017-01-01 08:29:16')
  [1m[36m (4.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 16:29:16 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$b.NTXuBuG5OWNvJiNAESy.7Bpt8tEkJHfqkgc2NSn2GkvbWF/OZVC"], ["updated_at", "2017-01-01 08:29:16.380036"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 29ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 16:29:16 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/edit.html.erb within layouts/application (23.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 945ms (Views: 942.8ms | ActiveRecord: 1.1ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 16:29:17 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1
  [1m[36m (0.8ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 312ms (ActiveRecord: 1.8ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 16:29:17 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$o.V2mXLT.rk1NKE73BWe6u3pxXjDV9PsJtqNAP7Kf7JKPGAQ0wnjC"], ["updated_at", "2017-01-01 08:29:17.668951"], ["id", 762146111]]
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.1ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 16:29:17 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.5ms | ActiveRecord: 1.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-01 16:29:17 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-01 08:29:17.683522"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$A4IUwA0Bp82EtZqdyjY1z.yBscn639HbqpWfomgvFdy8l.XnHdqge"], ["created_at", "2017-01-01 08:29:17.734516"], ["updated_at", "2017-01-01 08:29:17.734516"]]
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
CoursesControllerTest: test_should_get_open
-------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CoursesControllerTest: test_should_get_close
--------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
CoursesControllerTest: test_should_get_chart_by_teacher_not_student
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_get_selected_by_teacher_not_student
----------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[35mNotice Load (0.0ms)[0m  SELECT "notices".* FROM "notices"  ORDER BY updated_at DESC
  Rendered notices/index.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 50ms (Views: 50.0ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_type_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_week_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CourseTest: test_teaching_type_should_be_valid
----------------------------------------------
  [1m[36mSemester Load (1.1ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.9ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-------------------------------------
CourseTest: test_name_should_be_valid
-------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------
CourseTest: test_credit_should_be_valid
---------------------------------------
  [1m[35mSemester Load (1.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------
CourseTest: test_exam_type_should_be_valid
------------------------------------------
  [1m[36mSemester Load (1.1ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
CourseTest: test_class_room_should_be_valid
-------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_time_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-01 16:29:17 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 51ms (Views: 50.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 16:29:17 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (12.0ms)
  Rendered users/new.html.erb within layouts/application (22.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 34.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 16:29:17 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/_form.html.erb (6.0ms)
  Rendered users/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 9.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$PcpOC7GT.SA.E9OSMiSGzuiAaq/pBqkKzxD7kYkcwVmlJhK4hYLgW"], ["updated_at", "2017-01-01 08:29:17.996479"], ["id", 430533587]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$222LiKxUk9zkL4JiSbGk3uwXM.3uddl9vQK.aUARf8itT5WbKcwN2"], ["updated_at", "2017-01-01 08:29:18.000490"], ["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$pq/ewlIxnt0/E2EGNFRRDOQmr3ewb.VVAhh1YcBrG2JTzXn6eSAoi"], ["updated_at", "2017-01-01 08:29:18.007287"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$HaVHM6zlw94/izP3Mb0PnO3ZAY03IJuYNPHVFmdoyoE0VJ/hBjkyS"], ["updated_at", "2017-01-01 08:29:18.024713"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 2.5ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.9ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 54ms (Views: 53.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$H6q1UVOJP4kxTb3t.1zoZuIdqGYWZ/QEufG7lQI/M.O918I0O8SIG"], ["updated_at", "2017-01-01 08:29:18.122402"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2017-01-01 08:29:18.129370"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 2.0ms)
  [1m[36m (0.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.1ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.9ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$ELqLtWpBBae0e8gdPfWhqeiC0Os/6uh65v5r/LOW.NIFSoFEwoLOi"], ["updated_at", "2017-01-01 08:29:18.190393"], ["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$bVAmXEpVDWTZoZNbKidHxuft5PAtzNQxFrPnfWMlTdhhAMdS14J3C"], ["updated_at", "2017-01-01 08:29:18.205932"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.6ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.1ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$7dR6cdmK.upB6WYAc3JQCeTWfVS1GgfB5.L5EyTDnBUf0GweJs1OC"], ["updated_at", "2017-01-01 08:29:18.247849"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.2ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 16:29:18 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (3.0ms)
  Rendered users/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "teacher_id", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', 1, 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 980190962, 450215437)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "teacher_id", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('091M4002H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 1, 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 298486374, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 0', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 841555056, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 1', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 86912251, 64810937)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 2', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 472350019, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 3', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 723537364, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 4', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 893704313, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 5', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 38004964, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 6', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 457881948, 64810937)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 7', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 743279053, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 8', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 1022530654, 64810937)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 9', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 200647885, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 10', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 125340452, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 11', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 813677493, 64810937)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 12', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 695659025, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 13', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 510778012, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 14', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 1396539, 64810937)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 15', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 923959212, 64810937)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 16', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 773533208, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 17', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 421273219, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 18', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 161678098, 64810937)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 19', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 1050948487, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 20', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 743823585, 64810937)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 21', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 458418294, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 22', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 39565774, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 23', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 895256925, 64810937)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 24', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 725097722, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 25', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 473902191, 64810937)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 26', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 87457239, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 27', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 842091846, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 28', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 579752147, 64810937)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 29', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 361324612, 64810937)
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 70046091)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$QyKloqipmrYWFrmV81Cmne4AXoR6VIjqVY/HV2DXAHsaWhx8f8gQG', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$bKQOlAC5xuU6Tbj9VKLbD.ivhKAysClOul2RU.BQ0wpan0xyn9eAi', '2017-01-01 08:34:26', '2017-01-01 08:34:26', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("id", "name", "email", "teacher", "department", "password_digest", "created_at", "updated_at") VALUES (1, '罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$4JVuurMtJz5oZl5cHUE4DuyjMLsBA3aB/Z2VFAv5nYqtfy3HtwdMG', '2017-01-01 08:34:26', '2017-01-01 08:34:26')
  [1m[36m (17.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 16:34:26 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.1ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 830ms (Views: 819.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 46ms (Views: 45.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$ly5fMR10z1lgZbphrZa0Feh0z.b09qNmfEXlGpT/qtb/5At2SdVV6"], ["updated_at", "2017-01-01 08:34:27.381393"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$gp0JoEnyMmOezIvJk9WgAObybqOxW8fWzG7C9R9oLumfwNDwUSGwm"], ["updated_at", "2017-01-01 08:34:27.395938"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2017-01-01 08:34:27.403852"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.9ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$5xgcc4W7ZfnmzkCGZsgnzeGRj9ve0ZupodmbCjva3mUd1n0JdyDlW"], ["created_at", "2017-01-01 08:34:27.786320"], ["updated_at", "2017-01-01 08:34:27.786320"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_week_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[36mSemester Load (1.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
CourseTest: test_name_should_be_valid
-------------------------------------
  [1m[35mSemester Load (1.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
CourseTest: test_class_room_should_be_valid
-------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------
CourseTest: test_credit_should_be_valid
---------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CourseTest: test_teaching_type_should_be_valid
----------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_type_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_time_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
CourseTest: test_exam_type_should_be_valid
------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (0.0ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (4.9ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 51ms (Views: 51.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.0ms)
  Rendered users/_form.html.erb (16.5ms)
  Rendered users/new.html.erb within layouts/application (27.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 72ms (Views: 71.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 16:34:27 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/_form.html.erb (4.6ms)
  Rendered users/new.html.erb within layouts/application (4.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 6.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$X.nVtm9GeZzfj5G5YWuYeuWo9Y96qiuV5M6c4i9ZVEgjX812k2Ou6"], ["updated_at", "2017-01-01 08:34:28.014172"], ["id", 762146111]]
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 2.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-01 08:34:28.040245"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$yxy70xoNsWVOINLkwRl8g.uvQCmH/Q/tZZBQI2q8A8YyrLB3fLVlm"], ["updated_at", "2017-01-01 08:34:28.054787"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.8ms | ActiveRecord: 0.3ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 3.1ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (2.0ms)
  Rendered users/new.html.erb within layouts/application (2.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$X3.aILwXi7o/eCAv9zqEOOnfG0bnPLLlOkgKAqHlx5isHRjttQg0m"], ["updated_at", "2017-01-01 08:34:28.108868"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$XcnTCzF8FaXkg8RB9Hz7t.Pd4cuMEV8hRYIuBkbLLIZzEnPQCwVja"], ["updated_at", "2017-01-01 08:34:28.127216"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (1.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$KmZfgsx3cnGWcI/MGkozt.nSSzsS5ZMuvM1M6a1rLKYNm2m7qIWea"], ["updated_at", "2017-01-01 08:34:28.145999"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-01 16:34:28 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$d9JkPM.NfgHyOyEEujK0zOhUnwotXttXGhclvIoHCo8hRBiJAbaCq"], ["updated_at", "2017-01-01 08:34:28.194558"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$PVPiw58wBqoHeHNeIXLoHu9co8oOipk.KA3VxL8dtgFgOfQrKxOPm"], ["updated_at", "2017-01-01 08:34:28.202649"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$8euQB6zeZfcMtSKcHQHKrOLi7lDR7nyzuczSmIEZkg60jDoV5oFmW"], ["updated_at", "2017-01-01 08:34:28.206660"], ["id", 430533587]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (7.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (12.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (10.2ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "teacher_id", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', 1, 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 980190962, 450215437)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "teacher_id", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('091M4002H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 1, 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 298486374, 64810937)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 0', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 841555056, 64810937)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 1', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 86912251, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 2', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 472350019, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 3', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 723537364, 64810937)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 4', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 893704313, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 5', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 38004964, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 6', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 457881948, 64810937)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 7', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 743279053, 64810937)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 8', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 1022530654, 64810937)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 9', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 200647885, 64810937)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 10', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 125340452, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 11', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 813677493, 64810937)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 12', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 695659025, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 13', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 510778012, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 14', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 1396539, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 15', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 923959212, 64810937)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 16', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 773533208, 64810937)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 17', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 421273219, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 18', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 161678098, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 19', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 1050948487, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 20', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 743823585, 64810937)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 21', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 458418294, 64810937)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 22', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 39565774, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 23', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 895256925, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 24', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 725097722, 64810937)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 25', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 473902191, 64810937)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 26', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 87457239, 64810937)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 27', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 842091846, 64810937)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 28', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 579752147, 64810937)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "courses" ("name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "semester_id") VALUES ('User 29', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 361324612, 64810937)
  [1m[36mFixture Delete (7.2ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (7.8ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 298486374)[0m
  [1m[35mFixture Delete (6.3ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (8.2ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 52477111)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 70046091)
  [1m[36mFixture Delete (12.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (7.8ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$bgAjcEjpa4ArWI4JWKWncOnR0zLJOruFCHzb1xGbZJ415tmPawxmi', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 762146111)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$Gp2DLQPp0PPwNaTub6YGIewpoXqeHs9tRLfyTwmlg/uNKJp.2tvRi', '2017-01-02 06:40:51', '2017-01-02 06:40:51', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("id", "name", "email", "teacher", "department", "password_digest", "created_at", "updated_at") VALUES (1, '罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$x61iXGvSo2fmv4mCt25GleCMhIjI1gYd4Ibh2OQfPbJCgQDzhd8Ze', '2017-01-02 06:40:51', '2017-01-02 06:40:51')
  [1m[36m (4.9ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-02 14:40:51 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (16.0ms)
  Rendered layouts/_header.html.erb (5.5ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 984ms (Views: 973.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 9ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 55ms (Views: 54.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$GNTutT6cuiiNJQbGk2oiN.YTa3ZuK8qPD/OMSGVVKUDZqJ1IQ/SpS"], ["updated_at", "2017-01-02 06:40:52.872822"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$aExyOiFDUFltJk3IRx2Jt.YEOFTfO4NMkxd2zjgPXA13EinD5yqmi"], ["updated_at", "2017-01-02 06:40:52.887362"], ["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-02 06:40:52.894882"], ["id", 430533587]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.5ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-02 14:40:52 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 1.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
CourseTest: test_class_room_should_be_valid
-------------------------------------------
  [1m[35mSemester Load (1.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-------------------------------------
CourseTest: test_name_should_be_valid
-------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_type_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.5ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
----------------------------------------------
CourseTest: test_teaching_type_should_be_valid
----------------------------------------------
  [1m[36mSemester Load (0.5ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_week_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.5ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------
CourseTest: test_credit_should_be_valid
---------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_time_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.7ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 52477111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
------------------------------------------
CourseTest: test_exam_type_should_be_valid
------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 52477111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (1.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$g/JrAJZDLt4S3DpdbTX7.uhd2ci4GgN5.X4oNBwRdw6ZfI3oQzx/u"], ["created_at", "2017-01-02 06:40:53.320299"], ["updated_at", "2017-01-02 06:40:53.320299"]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (0.3ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[36mNotice Load (1.2ms)[0m  [1mSELECT "notices".* FROM "notices"  ORDER BY updated_at DESC[0m
  Rendered notices/index.html.erb within layouts/application (4.7ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 58ms (Views: 56.4ms | ActiveRecord: 1.2ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered users/_form.html.erb (15.5ms)
  Rendered users/new.html.erb within layouts/application (25.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 70ms (Views: 69.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/_form.html.erb (4.5ms)
  Rendered users/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 12ms (Views: 6.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$S8MWgoWSAhv.nGfwI3VM..wRGW6PvayzAPXp6SBCAct7WjcgqwFIu"], ["updated_at", "2017-01-02 06:40:53.546325"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$BI2JaiJoGZgNxZsntFWja.yKRxZ2SLb7Fa.8IRlRWJyoIHyyaOobW"], ["updated_at", "2017-01-02 06:40:53.569261"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$AkRymQTl071cxV3pRXeJMOzEVWHq.9ocauPZldMQvbsQLuFjR3QdO"], ["updated_at", "2017-01-02 06:40:53.584804"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (3.0ms)
  Rendered users/new.html.erb within layouts/application (3.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$TsVHpw/DCf73NxbprzV9IuomSmCIreCewjyoPc37YIM5NGs0n2QWK"], ["updated_at", "2017-01-02 06:40:53.643740"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 49ms (Views: 47.0ms | ActiveRecord: 0.5ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-02 06:40:53.702662"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$D2LiOSvBdEVie08oTN6VnehyOvUICf..DFxb/MbtegcujqYcbH012"], ["updated_at", "2017-01-02 06:40:53.715669"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-02 14:40:53 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$RSbmlN4dQe9xUjTexx5lju.XnzL3ALsI6wdomAEBIBBwiaKnTU0t2"], ["updated_at", "2017-01-02 06:40:53.747077"], ["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$ZbXhPoQsMtcx6dQGtcbl4eAMJTm9PuMHvhDWreG7w84UEOJRRXmIe"], ["updated_at", "2017-01-02 06:40:53.755940"], ["id", 430533587]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$40N9o7BqS1mUAhxw8JeA3.lY2zXvSxU1Qe46Y6yqgKxL.uP1/focS"], ["updated_at", "2017-01-02 06:40:53.759402"], ["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (31.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', 't', '2017-01-03 12:04:23', '2017-01-03 12:04:23', 980190962, 258535826, 457863342)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4002H', '高级软件工程', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-03 12:04:23', '2017-01-03 12:04:23', 298486374, 369664257, 457863342)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4003H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-03 12:04:23', '2017-01-03 12:04:23', 113629430, 369664257, 457863342)[0m
  [1m[35mFixture Delete (15.7ms)[0m  DELETE FROM "grades"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("grade", "created_at", "updated_at", "id", "course_id", "user_id") VALUES (60, '2017-01-03 12:04:24', '2017-01-03 12:04:24', 573891180, 980190962, 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 160624384, 298486374, 430533587)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 897771008, 113629430, 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 275203981, 980190962, 673255333)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 660633374, 980190962, 522600246)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 1047078566, 980190962, 103771790)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 158209585, 980190962, 824729113)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 386565014, 980190962, 793562046)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 537768711, 980190962, 407632687)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 956621503, 980190962, 21146263)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 235131434, 980190962, 910531074)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 515690427, 980190962, 653952915)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 700186416, 980190962, 301840136)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 545121052, 980190962, 368053678)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 393925521, 980190962, 586628415)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 242450997, 980190962, 1006529671)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 963949220, 980190962, 217668626)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 655369987, 980190962, 312330677)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 269948824, 298486374, 630913318)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 152978988, 298486374, 1016309918)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 1041856187, 298486374, 194287625)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 782658350, 298486374, 455837084)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 430005183, 298486374, 741127441)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 189837533, 298486374, 1054695019)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 1012367438, 298486374, 165310208)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 626971126, 298486374, 282279748)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 307880289, 298486374, 668209107)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 205354182, 298486374, 967875188)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 993674327, 298486374, 246917865)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 573773295, 298486374, 398392157)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 355739002, 298486374, 549047244)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 93010155, 298486374, 805754461)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 306938270, 113629430, 667316012)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 625783055, 113629430, 281108417)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 1011212471, 113629430, 164105733)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 188928034, 113629430, 1053769364)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 354829701, 113629430, 548121395)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 572618006, 113629430, 397188008)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 992486574, 113629430, 245746204)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 204411961, 113629430, 966982283)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 479201708, 113629430, 689825566)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 731330881, 113629430, 505075599)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 487200606, 113629430, 679999984)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 705505229, 113629430, 528533883)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 855930481, 113629430, 109680835)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 12:04:24', '2017-01-03 12:04:24', 67323622, 113629430, 831432788)
  [1m[36mFixture Delete (15.6ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 298486374)[0m
  [1m[35mFixture Delete (15.6ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 521374680)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 457863342)
  [1m[36mFixture Delete (15.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$nefV8/0nWtORwIolGvWRmeWqYdbLGd5E3q0MpdE6AXWBAdFqDSMk.', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$zbOrznMBNVSiGxlLcVn6.OApdsXX/3FVpqUtkOesKW9FA8NlfP8eS', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$.mSWUVsUq.HO.NUrTd6PgODAxCUvUc7p98YhZmj9kOAhLovke6Vxe', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 369664257)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('胡伟武', 'teacher5@test.com', 't', '计算机与控制学院', '$2a$04$IAL2OnC/0PJWhm82ZjpK6./hQo2SvDkbQMxyyr6TLB5M/Obv5Ysoy', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 258535826)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user0', 'user0@example.com', '计算机与控制学院', '$2a$04$fRViajaI1Xkt6SEWY4IEteNLfs2o6/ggMQ75juegHJLWd6AuOn0V.', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 673255333)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user1', 'user1@example.com', '计算机与控制学院', '$2a$04$U9wfEAINRrzA8FYosXYtsusrqY9GpXxwQ/8SeNC6WK70mb7aQHiOG', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 522600246)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user2', 'user2@example.com', '计算机与控制学院', '$2a$04$fKnkkoHvPksfZ7Gvhq49Auk3PKMUV7BHNQNryulUx696QOz68PZje', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 103771790)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user3', 'user3@example.com', '计算机与控制学院', '$2a$04$A1hTwH0mG0.FVsktFS4fuOeVN/k.pWFVW4/IvmWZxu/ja05o1XIT.', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 824729113)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user4', 'user4@example.com', '计算机与控制学院', '$2a$04$k6FW3nUp8bqmkfZqO7IAR.0CTacXRIKstMGNhSo0RWLicUkjgnzpW', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 793562046)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user5', 'user5@example.com', '计算机与控制学院', '$2a$04$gEjer.sdUxwhLCdVYpIJHe1/I8IcducEv0jqW5tmXtovMj13CUc0a', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 407632687)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user6', 'user6@example.com', '计算机与控制学院', '$2a$04$wfmoSxFc7K5sPr/.JNUIR.w.PN4gDa0QFMdB8amV1kSbgj5I1O6uS', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 21146263)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user7', 'user7@example.com', '计算机与控制学院', '$2a$04$bo9nfViAXWgJIGOZmsraNeeHm97/UYU4FK88BosIIiOe/MOd.sVKS', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 910531074)[0m
  [1m[35mFixture Insert (15.6ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user8', 'user8@example.com', '计算机与控制学院', '$2a$04$mI0g5nUoo8qx7WesY9C8auov9Na1oqqtUEE5tM.qOm/h6i6ynYILu', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 653952915)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user9', 'user9@example.com', '计算机与控制学院', '$2a$04$HrueUdXB.KpSMdpbeR4QPe3PleUKLDEduCQ62XlHNDqkJPfKLLlX2', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 301840136)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user10', 'user10@example.com', '计算机与控制学院', '$2a$04$0OGHg.nAyNGJKkLgkthUceZQoJep2fIMpMtdai2ziFzWJWiSDvi/G', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 368053678)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user11', 'user11@example.com', '计算机与控制学院', '$2a$04$BWHKIU5NYENe4mAO6zpLlOQ7niRs0J/IDs7RHTiHEKUoNTZHH1Sh6', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 586628415)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user12', 'user12@example.com', '计算机与控制学院', '$2a$04$i0tk./xr53CC5m6L.9Prf.jUBSahP3Lpcg6M7axIiKkuTSf3vMLiC', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 1006529671)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user13', 'user13@example.com', '计算机与控制学院', '$2a$04$6rDK6z/qYb/ZURatCBm96.H2HpJgki3zMhI2v9d.OuXriWhUvBFg.', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 217668626)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user14', 'user14@example.com', '计算机与控制学院', '$2a$04$2sLBaTVQqNQ.24BXVq6KIeaahAUrMcYpvYNTtrZdjzfyD2QaaGAUu', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 312330677)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user15', 'user15@example.com', '计算机与控制学院', '$2a$04$VFqzuMrhe9zPdr.gT2SnFewXD/M.VyfenPOZnFeTw7X75kgspi276', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 630913318)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user16', 'user16@example.com', '计算机与控制学院', '$2a$04$Rs8WM3AwtXfe.gp9PXX48OeP0cr43YzX3jdocMc9X/wYr8hfMM80m', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 1016309918)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user17', 'user17@example.com', '计算机与控制学院', '$2a$04$5Ig5WcfoPYH2t30Vl0h88eBL5xBuEfo3Ejob2Uf.X4ccyUdh6ckYi', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 194287625)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user18', 'user18@example.com', '计算机与控制学院', '$2a$04$QpyzV6VZE9pRIjcw5WGehePmvBN8N1oGqGP3NYsVEhvbFLTtdMLdm', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 455837084)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user19', 'user19@example.com', '计算机与控制学院', '$2a$04$c2yFY7EujgUx0vR87R63E.IJhy1NYuWjeXYkEKSeMKbfTmuY5VVsu', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 741127441)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user20', 'user20@example.com', '计算机与控制学院', '$2a$04$ccP8FssYfm.EGfbuf399E.Kg8oqDza0qpKSb7/d/8I50rg3keYZi6', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 1054695019)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user21', 'user21@example.com', '计算机与控制学院', '$2a$04$x0EMAisHxr9uuK4mo9o0ROujW.guAp4vMgXTDSoZYMxJWMbVeDIq2', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 165310208)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user22', 'user22@example.com', '计算机与控制学院', '$2a$04$Jygivq8VOzI4VsyHHjHiEejhKRUqwMpY8A0sFEclmn36VypHVYfG.', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 282279748)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user23', 'user23@example.com', '计算机与控制学院', '$2a$04$EzPgJjjrG3A5yUj86AzAn.rrl/omzeywZmzYRKjUyXBDjzjN5EKHW', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 668209107)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user24', 'user24@example.com', '计算机与控制学院', '$2a$04$TfSY1SR7iGmtIHoVfWslf.NjudhkyqZp1jDikaS5bgVvMGGiugOQu', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 967875188)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user25', 'user25@example.com', '计算机与控制学院', '$2a$04$ld03j6oYU818CZ5VoTykAuSixQ2EZ3XLpMsdntBYROHL.1kFrZMEC', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 246917865)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user26', 'user26@example.com', '计算机与控制学院', '$2a$04$PLhpnjrCirnXBcUPJFBtpeIVy6WDotzYPJ0ebGM4J65/.pdZg/XsS', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 398392157)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user27', 'user27@example.com', '计算机与控制学院', '$2a$04$n1KrbKGqgnGlxIpVPNNfVuFwTVydWZyvTTP9/4F69jntkcgCHLxm2', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 549047244)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user28', 'user28@example.com', '计算机与控制学院', '$2a$04$5jD5f/dcf5MlCPm5FDkG/.b1Wv4nw8J9Uuw5bjDKKBM.tW4KAGjwK', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 805754461)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user29', 'user29@example.com', '计算机与控制学院', '$2a$04$gOvz5HazwWD0OuWEz1BIy.lVHxfWiIVRw1TiYeePDSlW1R3jkiNNe', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 117565134)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user30', 'user30@example.com', '计算机与控制学院', '$2a$04$DGLU6hpY38.8rWdh2ure/udpU4/YHfUtQ56W6b4DQwhodNE/Ixol.', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 667316012)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user31', 'user31@example.com', '计算机与控制学院', '$2a$04$V/JkgFBRi2llguJszqwwkeYl7ryjKdDatz3jeiPIq.wxlAPoNj0lS', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 281108417)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user32', 'user32@example.com', '计算机与控制学院', '$2a$04$A4zfHgHYXqB8kZOkIic9zuvUEG91SqDpB9w1DLneRKuoVIMBg4krG', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 164105733)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user33', 'user33@example.com', '计算机与控制学院', '$2a$04$Y8zj0WLVOEH6RcESLpJgeed1sFmRYPTQ.z4D58DkC284f4XBZLRH2', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 1053769364)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user34', 'user34@example.com', '计算机与控制学院', '$2a$04$hgj0cldOYHdQgMHQ80fYve6mvnEqiTr8jo/XRNSfikvglPyFufXh2', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 548121395)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user35', 'user35@example.com', '计算机与控制学院', '$2a$04$vzp/7gw.rahiITRfBac7NO4ROC3Sr79y9ew0q5mRrepgqHb3rR3BS', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 397188008)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user36', 'user36@example.com', '计算机与控制学院', '$2a$04$yATBAIhaTEynzPNYx66Sh.5esOzws6rO9EyDwITo649TXJto/odQC', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 245746204)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user37', 'user37@example.com', '计算机与控制学院', '$2a$04$tvRk3BYeNa6Vod6yFNyXF./.oKSQKRK.6JW9UpI/pJMx8hVUC9DCS', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 966982283)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user38', 'user38@example.com', '计算机与控制学院', '$2a$04$l6a.bcV5dHg8r6/PYRVS1O1H/uYKHLP7KP3CI8f9kzNwGPQJDbRrm', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 689825566)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user39', 'user39@example.com', '计算机与控制学院', '$2a$04$DasNr89SO660HsB6cMH6KeBtIEmTM59hMedKRCEvFdHXLRi1RFr9e', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 505075599)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user40', 'user40@example.com', '计算机与控制学院', '$2a$04$adGj3mWtwZ3NvaWgRkYDL.WsF5fUbFqR5ljcxR6N9EDMB4UFeDw/a', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 679999984)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user41', 'user41@example.com', '计算机与控制学院', '$2a$04$gMiezJb0OHPnI0mdb6jO8eb5yFQRgrw985HekESfJjWtsDoUT0fIO', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 528533883)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user42', 'user42@example.com', '计算机与控制学院', '$2a$04$W5n37GA0CO3bVVR/wqQk.OpHaUheCXb4TaKPRmSMVpp/igwbUTJT6', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 109680835)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user43', 'user43@example.com', '计算机与控制学院', '$2a$04$TJSzzmcXM9/G/J2cncuuHuyfU8MPxthR6d5Q6QkV0n2pUIkkXo4x.', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 831432788)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user44', 'user44@example.com', '计算机与控制学院', '$2a$04$GplfwygwluRDzJLY.9wZDeyO5tl.3o8g4OInfXzy3rSmx7IR4n76m', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 803880441)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user45', 'user45@example.com', '计算机与控制学院', '$2a$04$jye5sDeTcvFygtVNW3sbrum28aDmkwhrYFB3k3Bv9ts0ewfezXjFe', '2017-01-03 12:04:24', '2017-01-03 12:04:24', 418188644)[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-03 20:04:24 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (531.3ms)
  Rendered users/new.html.erb within layouts/application (578.2ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1297ms (Views: 1281.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-03 20:04:25 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (15.6ms)
  Rendered users/new.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 63ms (Views: 16.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
CourseTest: test_name_should_be_valid
-------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
CourseTest: test_exam_type_should_be_valid
------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CourseTest: test_teaching_type_should_be_valid
----------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_time_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------
CourseTest: test_credit_should_be_valid
---------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_week_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_type_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
CourseTest: test_class_room_should_be_valid
-------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_timetable_course_when_not_logged_in
------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/timetable" for 127.0.0.1 at 2017-01-03 20:04:25 +0800
Processing by CoursesController#timetable as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
CoursesControllerTest: test_should_get_new_by_teacher_not_student
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 20:04:25 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$ROdHxvOHj6GQLvXd3xtuceZ4arKvG7wP3/ymn7Z9tNJX1dQMfZ.ty"], ["updated_at", "2017-01-03 12:04:25.705849"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started GET "/courses/new" for 127.0.0.1 at 2017-01-03 20:04:25 +0800
Processing by CoursesController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-03 20:04:25 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-03 12:04:25.721472"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 20:04:25 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$Cs56/jeff9Z78VZ2iw9VhuMZall4w67Wf7yuj6mfE9S2XVJ2i3qx6"], ["updated_at", "2017-01-03 12:04:25.737068"], ["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started GET "/courses/new" for 127.0.0.1 at 2017-01-03 20:04:25 +0800
Processing by CoursesController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  [1m[35mCourse Load (0.0ms)[0m  SELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1  [["teacher_id", 369664257]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 298486374], ["open", "f"]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 113629430], ["open", "f"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  Rendered shared/_sidenav.html.erb (31.3ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (46.9ms)
  Rendered courses/new.html.erb within layouts/application (171.9ms)
Completed 500 Internal Server Error in 234ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_semester_when_not_logged_in
----------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/762146111/semester" for 127.0.0.1 at 2017-01-03 20:04:25 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"762146111"}
Completed 500 Internal Server Error in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_get_semester_by_teacher_not_student
----------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 20:04:25 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$jKRE9IxtcA3WBwBVAxnTWedUxc090XHh58Q/dxLxZKflaI9MWz2q."], ["updated_at", "2017-01-03 12:04:25.987095"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/courses/762146111/semester" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered shared/_sidenav.html.erb (0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1 AND "courses"."semester_id" = 762146111[0m  [["teacher_id", 762146111]]
  Rendered courses/semester.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (15.6ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 29.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_courses_when_not_logged_in
---------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by CoursesController#index as HTML
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_chart_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_select_course_when_not_logged_in
---------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/762146111/select" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
CoursesControllerTest: test_should_get_chart_by_teacher_not_student
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$a36yvcdtJr.9wawamYf7U.GF07Rd3GjdLCyTyxar76EjyW/X447jq"], ["updated_at", "2017-01-03 12:04:26.096482"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2017-01-03 12:04:26.112135"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$.1YUseHue0NisfTvr/t3wuGtQw5hCBZ7blKnLc9PaBotJGjB/PqcG"], ["updated_at", "2017-01-03 12:04:26.127761"], ["id", 369664257]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "grades" ON "users"."id" = "grades"."user_id" WHERE "grades"."course_id" = $1[0m  [["course_id", 298486374]]
  [1m[35mSemester Load (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1[0m  [["teacher_id", 369664257]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 298486374], ["open", "f"]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 113629430], ["open", "f"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  Rendered shared/_sidenav.html.erb (0.0ms)
  Rendered courses/chart.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 28.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
CoursesControllerTest: test_should_not_get_new_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (15.7ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/new" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by CoursesController#new as HTML
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------
CoursesControllerTest: test_should_get_selected_by_teacher_not_student
----------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$UccgHi4pCF.TDX0yI7oRFOj6HCcfomej1Pz1d/SQMB4JNMI31yHwe"], ["updated_at", "2017-01-03 12:04:26.221498"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/courses/762146111/selected" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1 WHERE "users"."id" = $2  [["remember_digest", nil], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$f6i/JY6ACK1aP0Zwpu98t..stsdaThIxBCbh0eimE.vodPFvlm8t2"], ["updated_at", "2017-01-03 12:04:26.237152"], ["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/courses/298486374/selected" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mSemester Load (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1[0m  [["teacher_id", 369664257]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 298486374], ["open", "f"]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 113629430], ["open", "f"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  Rendered shared/_sidenav.html.erb (0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "grades" ON "users"."id" = "grades"."user_id" WHERE "grades"."course_id" = $1[0m  [["course_id", 298486374]]
  Rendered courses/selected.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 30.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_selected_when_not_logged_in
----------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/298486374/selected" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_quit_course_when_not_logged_in
-------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/762146111/quit" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (15.6ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$IpKJ6BfwsYEsyFGBmtvGwexqYf.e4hO9zDOvm1Sy74693RXGkVhMW"], ["updated_at", "2017-01-03 12:04:26.330882"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$VQS7x90KuF4b51C2cBNBNevAMyvLC487bixvtO3DaPSsnQXV/Lmlu"], ["updated_at", "2017-01-03 12:04:26.346514"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (15.6ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (15.6ms)
  Rendered users/new.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (15.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$0E0PuG3A4IdSXtUC4jpJyerg1/fw2uaobv6dA0p/zf.7jL6ik4kse"], ["updated_at", "2017-01-03 12:04:26.409042"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$fOTcx30bKpgVNafb/PNJvekMEKGe7dUeSeqPBLeW1X5aM9vtw//F2"], ["updated_at", "2017-01-03 12:04:26.424646"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1 WHERE "users"."id" = $2  [["remember_digest", "$2a$04$ai.n.72Ewcf1oj7sFVPAr.1q9zkJpfwPIlW2qrRbQgR7gHX8OVb0i"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$u02CnTnEucTCxPoCK/LWX.YSSNloGBq4EE6bSZvbaAU2/Y3cEQ8ry"], ["updated_at", "2017-01-03 12:04:26.440269"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (15.6ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$bMh909Ib1tdT/BeCFc/.R.lPh4dPmsJEbWGBkXmMTaAaIjjM0KD1G"], ["created_at", "2017-01-03 12:04:26.487146"], ["updated_at", "2017-01-03 12:04:26.487146"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 63ms (Views: 61.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[35mNotice Load (0.0ms)[0m  SELECT "notices".* FROM "notices"  ORDER BY updated_at DESC
  Rendered notices/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 63ms (Views: 71.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (15.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 84.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (15.6ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 5.2ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 11.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$ZY/GH4fuNk2qaTRiQkDG2e2YGTtUJC41HuhkTnwNAEcONhI.zZ7FW"], ["updated_at", "2017-01-03 12:04:26.846587"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 4.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (15.6ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 4.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$AK6ykJNYjTEtEUSZZABAtO/xzz7gR5frVawxJ/lblV2FwWyRnhJQG"], ["updated_at", "2017-01-03 12:04:26.924693"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1 WHERE "users"."id" = $2[0m  [["remember_digest", nil], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$bfZQqZMGacWoI5RAssulFupNwEA3YcSiWDDn4Ue7ay43Hke0fejUy"], ["updated_at", "2017-01-03 12:04:26.940346"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 37.5ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-03 20:04:26 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (15.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-03 12:04:27.002829"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 15.6ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 20:04:27 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$sGkFBw1cuDsHMyMcbCK1l.Jmm4onNXYo6k7j/dMT.4MmXfKId4zl."], ["updated_at", "2017-01-03 12:04:27.018455"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-03 20:04:27 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 3.8ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-03 20:04:27 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (9.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (6.2ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (13.3ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (8.5ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', 't', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 980190962, 258535826, 457863342)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4002H', '高级软件工程', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 298486374, 369664257, 457863342)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4003H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 113629430, 369664257, 457863342)[0m
  [1m[35mFixture Delete (18.9ms)[0m  DELETE FROM "grades"
  [1m[36mFixture Insert (8.0ms)[0m  [1mINSERT INTO "grades" ("grade", "created_at", "updated_at", "id", "course_id", "user_id") VALUES (60, '2017-01-03 15:58:06', '2017-01-03 15:58:06', 573891180, 980190962, 430533587)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 160624384, 298486374, 430533587)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 897771008, 113629430, 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 275203981, 980190962, 673255333)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 660633374, 980190962, 522600246)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 1047078566, 980190962, 103771790)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 158209585, 980190962, 824729113)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 386565014, 980190962, 793562046)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 537768711, 980190962, 407632687)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 956621503, 980190962, 21146263)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 235131434, 980190962, 910531074)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 515690427, 980190962, 653952915)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 700186416, 980190962, 301840136)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 545121052, 980190962, 368053678)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 393925521, 980190962, 586628415)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 242450997, 980190962, 1006529671)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 963949220, 980190962, 217668626)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 655369987, 980190962, 312330677)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 269948824, 298486374, 630913318)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 152978988, 298486374, 1016309918)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 1041856187, 298486374, 194287625)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 782658350, 298486374, 455837084)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 430005183, 298486374, 741127441)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 189837533, 298486374, 1054695019)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 1012367438, 298486374, 165310208)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 626971126, 298486374, 282279748)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 307880289, 298486374, 668209107)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 205354182, 298486374, 967875188)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 993674327, 298486374, 246917865)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 573773295, 298486374, 398392157)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 355739002, 298486374, 549047244)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 93010155, 298486374, 805754461)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 306938270, 113629430, 667316012)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 625783055, 113629430, 281108417)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 1011212471, 113629430, 164105733)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 188928034, 113629430, 1053769364)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 354829701, 113629430, 548121395)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 572618006, 113629430, 397188008)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 992486574, 113629430, 245746204)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 204411961, 113629430, 966982283)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 479201708, 113629430, 689825566)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 731330881, 113629430, 505075599)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 487200606, 113629430, 679999984)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 705505229, 113629430, 528533883)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 855930481, 113629430, 109680835)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 15:58:06', '2017-01-03 15:58:06', 67323622, 113629430, 831432788)
  [1m[36mFixture Delete (8.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (4.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 298486374)[0m
  [1m[35mFixture Delete (7.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (7.3ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 521374680)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 457863342)
  [1m[36mFixture Delete (13.2ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (8.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$kxpkl78og9Guqoy17UAzIehkMKqczaKd5T2lkf.OJyZgZOhAt7Fvy', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$xpniHSkJBPtltH9WUABI2OcqF.qpzARZfh/E8OODpcQuDwEghaTtG', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$uF2k05tlLI4b.iGvChIqSuXgdEvlBVWO7aPiPuJ7SUUNguddGyOEW', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 369664257)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('胡伟武', 'teacher5@test.com', 't', '计算机与控制学院', '$2a$04$2ItS5SRiyVn6kZ2Cb0Uyk.AErj9kTM610wnKcVpo8E4mjse/x3mXS', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 258535826)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user0', 'user0@example.com', '计算机与控制学院', '$2a$04$f9mipRHZCF3RSYMWt36HvuDwgr0R9W0uGmd4Rz3BPgygEqPGP3qyS', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 673255333)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user1', 'user1@example.com', '计算机与控制学院', '$2a$04$cTyHC0./bXTC4AT6CHzB9.IhhQYHX/WZKbJjw/qJVOompOiuKwfDG', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 522600246)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user2', 'user2@example.com', '计算机与控制学院', '$2a$04$aLyMgDrSKYaNNtB3WM2lpeZ7T/PBMh9N5CDVjzD6eBmcPEmE12Liu', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 103771790)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user3', 'user3@example.com', '计算机与控制学院', '$2a$04$gfMW0bsCJCGTKkUmkhN1WuPfB6VMiAEBFhIkeQzjy1Ncz7QZOxOX.', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 824729113)[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user4', 'user4@example.com', '计算机与控制学院', '$2a$04$NuUXaBpu/zFOt7d2oJNB.e58pIq.i9uZW6u4x75djge9N76aBlUHS', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 793562046)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user5', 'user5@example.com', '计算机与控制学院', '$2a$04$Vswi5qo.F1WFrAo38184QOuNh6E1mH9K5gvOvDW5J5l2FW5ewQTSG', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 407632687)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user6', 'user6@example.com', '计算机与控制学院', '$2a$04$oMggZrZHE8MaqbgopoEW/O/yuiErBskd1uPeCQs7khoOPM3W0dF/G', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 21146263)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user7', 'user7@example.com', '计算机与控制学院', '$2a$04$3WLOWnlmJW9r.NroeoeR5.z8N5yOGw3Bqi5MG9ANYLPyZFG0c2F4O', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 910531074)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user8', 'user8@example.com', '计算机与控制学院', '$2a$04$c9bkXQa9Ob7Ig4RgZ3./FeFwNp32OBKGB7mdRfwRD6E9b9FPmcT96', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 653952915)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user9', 'user9@example.com', '计算机与控制学院', '$2a$04$Z9VQczFSDzlCmeIauQ3lXOLuQOKgQZyZxA8HNsI4CblgPvYwhLuZe', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 301840136)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user10', 'user10@example.com', '计算机与控制学院', '$2a$04$TAqvDOY6u/ug/lWp0vaS/.XKe4nIESKRiJTR.Irnmc7dsHhxFIcR6', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 368053678)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user11', 'user11@example.com', '计算机与控制学院', '$2a$04$PeUIIXvMT0CDFF.3GyrA9.AF5y8o0GJh81aet9TRE5YtQ1B87tpW.', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 586628415)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user12', 'user12@example.com', '计算机与控制学院', '$2a$04$Ni7meoidLo./YvVGqZVXmOjjduPvKUxL0GQMoyzJ1wvR69NOhB09y', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 1006529671)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user13', 'user13@example.com', '计算机与控制学院', '$2a$04$/SrzgRjPCvPKNjgVlGnag.yYznZn8iToqMI5.CEcXGSjgYzxHbfFi', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 217668626)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user14', 'user14@example.com', '计算机与控制学院', '$2a$04$AHVXlJxXrlFimqiLG5/3veZ3mSdZUf8e.4/FUu9FFxY.dbDxUjT7C', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 312330677)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user15', 'user15@example.com', '计算机与控制学院', '$2a$04$/Mq4777f4LQ9UMouBFKJr.jYohyWxJX.Lfzgw6miJC7nBr0/WzHga', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 630913318)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user16', 'user16@example.com', '计算机与控制学院', '$2a$04$AFcAPwSd.A63eC1kH9m4A.i8oQjEnv2FaU6H4BecA/Ck0Z2wj0a3m', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 1016309918)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user17', 'user17@example.com', '计算机与控制学院', '$2a$04$hf6HS0RKMSbPnx2WpU2lsuo0BgA7R08xCENdexl3WNw0O30dYUDla', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 194287625)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user18', 'user18@example.com', '计算机与控制学院', '$2a$04$eV7bjnQTs2ZbeRcettW.Yu5limiXbgbKCTFn/TDkOzL7mr6yBSBPm', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 455837084)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user19', 'user19@example.com', '计算机与控制学院', '$2a$04$M4hGPWRcJoALxBWl.ibRLOiMwtw59.tXYx22v...sMVM8gJwYUqCK', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 741127441)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user20', 'user20@example.com', '计算机与控制学院', '$2a$04$DAlFZV5R4mBw3xYfLmL1HuDHrgl1swpvZgBYSuJkWI47qkWU/2E5S', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 1054695019)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user21', 'user21@example.com', '计算机与控制学院', '$2a$04$5l3RXl7RZFVR8yLGib9lU.92DkoEISsugZRO7d1EOqy0WkTNkgu8O', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 165310208)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user22', 'user22@example.com', '计算机与控制学院', '$2a$04$DPKnau6O9cYNsDEJURDxDeOT.M2EcErwRlhb7.5KMG25b5IROv5cW', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 282279748)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user23', 'user23@example.com', '计算机与控制学院', '$2a$04$DQQCAigrl.u3.0QaOKmlDOmzaOgpRVHyYfl5Wiiv6sxYAj0KepL1y', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 668209107)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user24', 'user24@example.com', '计算机与控制学院', '$2a$04$7DYJb/Qk.VHB4OM7aOS6m.jxI435Av0X1wKpJlsF6bGFTnMHucCv.', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 967875188)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user25', 'user25@example.com', '计算机与控制学院', '$2a$04$YGDiYckt/REmhbubT0vRVOOVeG/E2qYX9Q3IZxIfmqhdn0jlu5qFS', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 246917865)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user26', 'user26@example.com', '计算机与控制学院', '$2a$04$TlhK2hivhfpHvPhKZLzoQ.IETXc2oG5O9prIquLj75eOYKzDk7QB.', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 398392157)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user27', 'user27@example.com', '计算机与控制学院', '$2a$04$6LeGGLZ8XUuSusPslCAupOcj2qlRwGf1t0r5gUMfe/lWRZe4aKily', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 549047244)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user28', 'user28@example.com', '计算机与控制学院', '$2a$04$gyBvqCGxCANrnY82WJ6RueOAlVnPcY.E0xHHWSShIP9fxUGnZEae2', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 805754461)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user29', 'user29@example.com', '计算机与控制学院', '$2a$04$8DVPCeoxiYLT011dcK2iA.eszvs/OPRPut2361D5dUhIvUUyuj9ii', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 117565134)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user30', 'user30@example.com', '计算机与控制学院', '$2a$04$1QoNpX4/rxYPpISdH0wxxumUwNyv8pkQhIciO4JppPpUlU5ds.jKO', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 667316012)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user31', 'user31@example.com', '计算机与控制学院', '$2a$04$YI1UzX9SSCyM/Za..MATgeBeEIj9yRAYQYZYo75eyrcEFyhTCwMpG', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 281108417)[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user32', 'user32@example.com', '计算机与控制学院', '$2a$04$jV9xALb4mobMtF5SdekCjedlZ2QYfxxuwu38q/XsiBZVy1aHJYMdS', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 164105733)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user33', 'user33@example.com', '计算机与控制学院', '$2a$04$CpYs2pJzRgpnW58LrHaR..BhAZU4I1zKO3kH4wMNJ8mJKjmo1JWj.', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 1053769364)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user34', 'user34@example.com', '计算机与控制学院', '$2a$04$Cbb8lqLuiGnqXSvDuQdYnuRy8QlKa0iUJVB07v5tcVl6NUeS4r9Mu', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 548121395)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user35', 'user35@example.com', '计算机与控制学院', '$2a$04$vEgGpOTsbMr4ecW/IM71uOM3u0TsR4Bxt86Qc7s3UxGMOHQaDtlJ6', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 397188008)[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user36', 'user36@example.com', '计算机与控制学院', '$2a$04$WFXMZYI7069T9iyUke.MyuJs9TaC7trhfg1FJHDA/AKQyO2BdIV8y', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 245746204)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user37', 'user37@example.com', '计算机与控制学院', '$2a$04$08xbPFX6qL3d1SPsmuFGkeyi2DvJQIohF2UwUfgVIeflTYE6FDjtm', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 966982283)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user38', 'user38@example.com', '计算机与控制学院', '$2a$04$3rrXRHofgTPFkSWrPfGHbu5efra3KRwh104uRj7L5e7svCU4ASbuK', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 689825566)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user39', 'user39@example.com', '计算机与控制学院', '$2a$04$CGuk/bKyRP3TCFpn6SgRXO0UBEFCzcQQ5/vB0mYcJgZyjPylBV2Je', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 505075599)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user40', 'user40@example.com', '计算机与控制学院', '$2a$04$9iGnbmDeC1fq7k6DEvZcte0aXkTljsj9/Yjc.4Kn7Ok5RNxgwArtW', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 679999984)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user41', 'user41@example.com', '计算机与控制学院', '$2a$04$utOCTSwhXSB/kWHVgkPLCeW6h6370gVPCV6d8fEUFeW3l5sitEsaq', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 528533883)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user42', 'user42@example.com', '计算机与控制学院', '$2a$04$4snEE19mvR5M7fI.sC6gn.dIivXE7koIApSpQ3x2f4bc9SBEtaV2K', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 109680835)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user43', 'user43@example.com', '计算机与控制学院', '$2a$04$5emLGEE7uhaGIRsDzVl5ueHgnh2gh6.u78SZv4.5yRgixoGUF5Mye', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 831432788)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user44', 'user44@example.com', '计算机与控制学院', '$2a$04$AssSHnGOiMoJeXchOKZM.upqdafJ3xw2IavGR5fodcHNL8UULeBWG', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 803880441)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user45', 'user45@example.com', '计算机与控制学院', '$2a$04$6eufpNSLb5jWX//7g3u/wOhgCJb.O3/mWW97Iy.32K2E/LCkiG5x6', '2017-01-03 15:58:06', '2017-01-03 15:58:06', 418188644)[0m
  [1m[35m (4.8ms)[0m  COMMIT
  [1m[36m (0.6ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 23:58:06 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$JSa8fSqUluIp75GEVM6OYOG8egmHX309ZnSGNAT0HwZaYYaNmFIwG"], ["updated_at", "2017-01-03 15:58:06.686456"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 22ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-03 23:58:06 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2017-01-03 15:58:06.697484"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-03 23:58:06 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (16.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 1031ms (Views: 1030.8ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-03 23:58:07 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 3.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-03 23:58:07 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 52ms (Views: 51.4ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-03 23:58:07 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-03 23:58:07 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-03 23:58:07 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.4ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 23:58:07 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$12vZBZo.qLsnMhH8jCOh/e3FayJyaiIYF1QJPahpIhlnwmvng2PDK"], ["updated_at", "2017-01-03 15:58:07.851152"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-03 23:58:07 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-03 23:58:07 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-03 23:58:07 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.5ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.4ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-03 23:58:07 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-03 23:58:07 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-03 23:58:07 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-03 23:58:07 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-03 23:58:07 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$C855RPW5.BPPFHK7OJkfmuPtvhs83cE8RaASf4t1YSCeIku3QIaK6"], ["updated_at", "2017-01-03 15:58:07.911316"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$FzKu8WdDFHybF6XcCNoDVucA5F1y.dcAvymYHtXMfycIkDopa/x1q"], ["updated_at", "2017-01-03 15:58:07.915327"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$pcXIoQ7zWzzmkAsYJq2sp.AeRVACyxDa/J4w0v3p0iOWN3vezXx.m"], ["updated_at", "2017-01-03 15:58:07.921344"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[35mNotice Load (1.0ms)[0m  SELECT "notices".* FROM "notices"  ORDER BY updated_at DESC
  Rendered notices/index.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 64ms (Views: 62.8ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
CourseTest: test_class_room_should_be_valid
-------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------
CourseTest: test_credit_should_be_valid
---------------------------------------
  [1m[35mSemester Load (1.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CourseTest: test_teaching_type_should_be_valid
----------------------------------------------
  [1m[36mSemester Load (1.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_time_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (1.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_type_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
CourseTest: test_name_should_be_valid
-------------------------------------
  [1m[35mSemester Load (1.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------
CourseTest: test_exam_type_should_be_valid
------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_week_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 2.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (1.0ms)
  Rendered users/_form.html.erb (29.1ms)
  Rendered users/new.html.erb within layouts/application (67.2ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 113ms (Views: 112.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered users/_form.html.erb (6.0ms)
  Rendered users/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 21ms (Views: 7.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$t/w7DqrCmkwcG33hN8DKJegLbTPq2FjRnqL7XSMYtTXlNUBMaWULG"], ["updated_at", "2017-01-03 15:58:08.695893"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 35ms (Views: 33.4ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-03 15:58:08.741203"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$U0VsQ3csl0IdHtH2HfdGWuvIUwmLkqV0eKcO0bjf0gwE2jH0WqbRy"], ["updated_at", "2017-01-03 15:58:08.753727"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 3.0ms | ActiveRecord: 0.9ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_timetable_course_when_not_logged_in
------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/timetable" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by CoursesController#timetable as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_quit_course_when_not_logged_in
-------------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/quit" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_semester_when_not_logged_in
----------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/semester" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"762146111"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
CoursesControllerTest: test_should_get_new_by_teacher_not_student
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.9ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.7ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$mLhevg4VkoqBYRsTs3WMcetnAbDTRwgcJmxVWqzEXWYA0peHRyfGG"], ["updated_at", "2017-01-03 15:58:08.829986"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
Started GET "/courses/new" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by CoursesController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-03 15:58:08.839362"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.3ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (1.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$IocO5aLMkMtuGpE8XfooGOdYvMBxLKhq2s.HkXRPRKq3lG6OPvmZW"], ["updated_at", "2017-01-03 15:58:08.847508"], ["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 2.1ms)
Started GET "/courses/new" for 127.0.0.1 at 2017-01-03 23:58:08 +0800
Processing by CoursesController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  [1m[35mCourse Load (0.8ms)[0m  SELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1  [["teacher_id", 369664257]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 298486374], ["open", "f"]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 113629430], ["open", "f"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  Rendered shared/_sidenav.html.erb (23.8ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (32.7ms)
  Rendered courses/new.html.erb within layouts/application (133.7ms)
Completed 500 Internal Server Error in 178ms (ActiveRecord: 0.8ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_selected_when_not_logged_in
----------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/298486374/selected" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_select_course_when_not_logged_in
---------------------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.9ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.7ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/762146111/select" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
CoursesControllerTest: test_should_not_get_new_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/new" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by CoursesController#new as HTML
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_get_semester_by_teacher_not_student
----------------------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$uyrD0aL75/7Q0/lP.eAhP.7UrmF.Io8q.pQYJETvk3HhzNqaQSjPy"], ["updated_at", "2017-01-03 15:58:09.070155"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
Started GET "/courses/762146111/semester" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered shared/_sidenav.html.erb (1.0ms)
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1 AND "courses"."semester_id" = 762146111[0m  [["teacher_id", 762146111]]
  Rendered courses/semester.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.6ms | ActiveRecord: 1.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_get_selected_by_teacher_not_student
----------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.3ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.6ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$39ctkHMuuDUXrQc36EWOMOsD5n7CTQEF97SMeTjYpWbPRzsGvm8Rm"], ["updated_at", "2017-01-03 15:58:09.101426"], ["id", 762146111]]
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
Started GET "/courses/762146111/selected" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 1.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2017-01-03 15:58:09.109792"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 1.3ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$TyPamCLIt91P1aQyV2OitOCaIJP5w3y.7jQSVi9G.iqsRsuisQEBC"], ["updated_at", "2017-01-03 15:58:09.117330"], ["id", 369664257]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 2.5ms)
Started GET "/courses/298486374/selected" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mSemester Load (1.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  [1m[35mCourse Load (0.0ms)[0m  SELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1  [["teacher_id", 369664257]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 298486374], ["open", "f"]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 113629430], ["open", "f"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  Rendered shared/_sidenav.html.erb (6.0ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "grades" ON "users"."id" = "grades"."user_id" WHERE "grades"."course_id" = $1  [["course_id", 298486374]]
  Rendered courses/selected.html.erb within layouts/application (9.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 30ms (Views: 18.8ms | ActiveRecord: 1.9ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_courses_when_not_logged_in
---------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.6ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by CoursesController#index as HTML
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_chart_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-------------------------------------------------------------------
CoursesControllerTest: test_should_get_chart_by_teacher_not_student
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.6ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$zpfpns3jfjpw0Xm.7Q82ouuVJDdz7a.S3phKopBbBN1vs5JeaH3xe"], ["updated_at", "2017-01-03 15:58:09.183752"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-03 15:58:09.193779"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$Ic0Vaz7IXDusBfIkiILEpOpBPYE6weZFn1ia1w6O.lk7qaC/arJlW"], ["updated_at", "2017-01-03 15:58:09.200800"], ["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.0ms)
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "grades" ON "users"."id" = "grades"."user_id" WHERE "grades"."course_id" = $1  [["course_id", 298486374]]
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  [1m[35mCourse Load (1.0ms)[0m  SELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1  [["teacher_id", 369664257]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 298486374], ["open", "f"]]
  [1m[35mGrade Load (1.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 113629430], ["open", "f"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  Rendered shared/_sidenav.html.erb (6.0ms)
  Rendered courses/chart.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 34ms (Views: 28.6ms | ActiveRecord: 3.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$9dTxB.yZGSt8IWSwr7ObfuWkc4qMXMpiqgmYYg9daJNgEY/fm7hpS"], ["created_at", "2017-01-03 15:58:09.248006"], ["updated_at", "2017-01-03 15:58:09.248006"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$n5bxTPuwlNaADYYaLoCvNePKfIS2ZUlmr98gBmX5bkwvXpjsLsm.O"], ["updated_at", "2017-01-03 15:58:09.298642"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$wZ.gUBIH76cXqgP.etcpI.BRf53S8qZppgpEviTDY7FHc6IN41hhq"], ["updated_at", "2017-01-03 15:58:09.323711"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$xt08jEn/x53CeAF35ucowuN/mqbixzIHjO2XrAJgcePLas3HSp.EW"], ["updated_at", "2017-01-03 15:58:09.339795"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 1.4ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (2.0ms)
  Rendered users/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-03 23:58:09 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (2.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', 't', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 980190962, 258535826, 457863342)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4002H', '高级软件工程', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 298486374, 369664257, 457863342)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4003H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 113629430, 369664257, 457863342)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "grades"
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "grades" ("grade", "created_at", "updated_at", "id", "course_id", "user_id") VALUES (60, '2017-01-03 16:09:48', '2017-01-03 16:09:48', 573891180, 980190962, 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 160624384, 298486374, 430533587)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 897771008, 113629430, 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 275203981, 980190962, 673255333)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 660633374, 980190962, 522600246)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 1047078566, 980190962, 103771790)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 158209585, 980190962, 824729113)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 386565014, 980190962, 793562046)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 537768711, 980190962, 407632687)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 956621503, 980190962, 21146263)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 235131434, 980190962, 910531074)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 515690427, 980190962, 653952915)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 700186416, 980190962, 301840136)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 545121052, 980190962, 368053678)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 393925521, 980190962, 586628415)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 242450997, 980190962, 1006529671)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 963949220, 980190962, 217668626)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 655369987, 980190962, 312330677)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 269948824, 298486374, 630913318)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 152978988, 298486374, 1016309918)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 1041856187, 298486374, 194287625)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 782658350, 298486374, 455837084)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 430005183, 298486374, 741127441)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 189837533, 298486374, 1054695019)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 1012367438, 298486374, 165310208)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 626971126, 298486374, 282279748)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 307880289, 298486374, 668209107)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 205354182, 298486374, 967875188)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 993674327, 298486374, 246917865)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 573773295, 298486374, 398392157)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 355739002, 298486374, 549047244)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 93010155, 298486374, 805754461)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 306938270, 113629430, 667316012)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 625783055, 113629430, 281108417)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 1011212471, 113629430, 164105733)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 188928034, 113629430, 1053769364)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 354829701, 113629430, 548121395)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 572618006, 113629430, 397188008)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 992486574, 113629430, 245746204)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 204411961, 113629430, 966982283)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 479201708, 113629430, 689825566)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 731330881, 113629430, 505075599)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 487200606, 113629430, 679999984)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 705505229, 113629430, 528533883)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 855930481, 113629430, 109680835)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:09:48', '2017-01-03 16:09:48', 67323622, 113629430, 831432788)
  [1m[36mFixture Delete (1.4ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 298486374)[0m
  [1m[35mFixture Delete (1.4ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 521374680)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 457863342)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$Z.EijP4xBqObHO6SAhtAP..cyxs43RSmoWK3v38.qSk3X1ViVojqi', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$qxG5ClTefVATf68VcE4YVOEhoDEzd4OVjs8qU.bobZoTrSgyEEf22', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$HGj1W0gaku.6k92Um3AFs..r.E36Ov8.fCdYa1ZPLAjmSLcFqnF7K', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 369664257)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('胡伟武', 'teacher5@test.com', 't', '计算机与控制学院', '$2a$04$LLehe5WGcMNj7hQyC19unOLUTmTa5s13L8/gUDf0ttY4X2pq9d2fK', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 258535826)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user0', 'user0@example.com', '计算机与控制学院', '$2a$04$W2rkG8mnjmErNXBE18zSBekfWOhW6SBt2TmagTs3oiYQseezFOAX2', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 673255333)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user1', 'user1@example.com', '计算机与控制学院', '$2a$04$lAORFjVZSj0b3cFxAAWYIulR5KKPioohjLUNE9xl/1bUoh3i0SbA6', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 522600246)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user2', 'user2@example.com', '计算机与控制学院', '$2a$04$aunAWoqfOvb1ucgu.ALQFOZxBQBjyPqzeGfJvzMnE.N1.4FBJAv0e', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 103771790)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user3', 'user3@example.com', '计算机与控制学院', '$2a$04$UUAxceMINGyGm4QBU2TbM.QXwIUqBzFVumPaiWZYEpxnl/RWDx.Ei', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 824729113)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user4', 'user4@example.com', '计算机与控制学院', '$2a$04$mSWd30Weic.qj1yNk9BNIuzG8v.RhVjdQUuC39o8BGZmi400uuNT6', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 793562046)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user5', 'user5@example.com', '计算机与控制学院', '$2a$04$fDjI5UwxmDjMRDEDQhXI8uS9VlQ/o4/gHIoR0FH/jvQg5QYQa3iXG', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 407632687)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user6', 'user6@example.com', '计算机与控制学院', '$2a$04$4TV6H5x0/chVXUupM43K4e21HTm7zwvSSrX.r/auWW3SzoR5tjQlu', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 21146263)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user7', 'user7@example.com', '计算机与控制学院', '$2a$04$z.4AeqYvaOvpawS6AEXSbuq4PVjmuQvCK1WYL6Gighti9VmAehn1K', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 910531074)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user8', 'user8@example.com', '计算机与控制学院', '$2a$04$rWcDUNcVCcWWEO/mYgi7qeBwI9ps5wPuq5U0GFP8PW54xICHpB.pG', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 653952915)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user9', 'user9@example.com', '计算机与控制学院', '$2a$04$J6KIcluHtIBolMboIoIdReE0/eXrhPg2AgKoL9TyKjIQTryd8O8c2', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 301840136)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user10', 'user10@example.com', '计算机与控制学院', '$2a$04$0SWAPYnuq09iiyEK302ZeOTqgdaCsi4oT0/RD.v.31UEswRU2dqcK', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 368053678)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user11', 'user11@example.com', '计算机与控制学院', '$2a$04$F4lm1aQMGxqQJgcsCjMDz.doBm8a9cAcIcncUM02EYXAbOQRS0eJG', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 586628415)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user12', 'user12@example.com', '计算机与控制学院', '$2a$04$DQsVu4fq0vXfLs4W1wMTYOyGixfG4FjuW9fPDGMy915AZ.g90v0P.', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 1006529671)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user13', 'user13@example.com', '计算机与控制学院', '$2a$04$gHIMyAGPja4QOVEfDCub7.QKRKrF2jzKUJMJlXGt8itO7qIHOsdry', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 217668626)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user14', 'user14@example.com', '计算机与控制学院', '$2a$04$Em4wmJCXHCu7sncW9aTqTeiq5Y8fO46q.BGVnVQYLpvAA0s0lur66', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 312330677)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user15', 'user15@example.com', '计算机与控制学院', '$2a$04$MAemSNm2ZRP.iNZhH9oxnOj9FcPQ1rR4pKhwBn0xac6i5OQ/2apYu', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 630913318)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user16', 'user16@example.com', '计算机与控制学院', '$2a$04$GkxsIXBjImvc9DJZh8Tfhu5qgOD1GcD9ZyB69mp5m5duSMKKxbs1O', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 1016309918)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user17', 'user17@example.com', '计算机与控制学院', '$2a$04$g3B3FKczUlj29lrpSfKzJOq7QHJjCwfnovhX5bcr4LjcBX7ikMZ8C', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 194287625)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user18', 'user18@example.com', '计算机与控制学院', '$2a$04$6gvEfWqQP2XgynUfRVnJ3O3FrkvKa3bN4NGyD7z/hGL9c25lW4CiG', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 455837084)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user19', 'user19@example.com', '计算机与控制学院', '$2a$04$kaw160GPpGzfJUOKFMffNuNz8Zprj7v7pQs1Iylx050FOW1pU9z9q', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 741127441)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user20', 'user20@example.com', '计算机与控制学院', '$2a$04$CIW1G18Gmv2gqUk6kYhIM.YlRKd/01Lxaofu382FG9uAst.Ho.Um6', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 1054695019)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user21', 'user21@example.com', '计算机与控制学院', '$2a$04$se4xWJqT7DNs2KsbOnzZEe2JjqeUQUtTUSKYano9rqLtkp1fAr4mi', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 165310208)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user22', 'user22@example.com', '计算机与控制学院', '$2a$04$m2hUsCewSV7/yaV.9VlTJu9x114RAdzL5wW7KjJ8iaUion3gl3bou', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 282279748)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user23', 'user23@example.com', '计算机与控制学院', '$2a$04$BqojtVxKTpjwlxaOSl9YC.9K0ASbqOOibEiSUDx84m45ki9vhZklK', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 668209107)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user24', 'user24@example.com', '计算机与控制学院', '$2a$04$r7XtuWhTzCXrvo8zZa707uwuCSJOpYSY6RKOTGcHWIaEFtssiYajC', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 967875188)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user25', 'user25@example.com', '计算机与控制学院', '$2a$04$GZr1IgAIy3I0qmmCbGUiAOru70ncoPxvCO40vkpYQBk206Cxn43Qa', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 246917865)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user26', 'user26@example.com', '计算机与控制学院', '$2a$04$cefMiEL/.5zJlj3hroYuwunFfNji2fnqMOndCGctd1coWezFLkkK.', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 398392157)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user27', 'user27@example.com', '计算机与控制学院', '$2a$04$Y43PE654GU.YD4U5MTyofOiCfL9jI4zJT5xo54KeVp7RGQmlrRr3u', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 549047244)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user28', 'user28@example.com', '计算机与控制学院', '$2a$04$.O2Oaik/RfY7tmPgpUvPo.FRLkJKG45N6Po4x/EdArTIJhut1DMzi', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 805754461)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user29', 'user29@example.com', '计算机与控制学院', '$2a$04$WFl8/ar3vcN6CkjCuStdYeHeL2/zSty5bMtNLUY.FE7I8pvJsCjh.', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 117565134)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user30', 'user30@example.com', '计算机与控制学院', '$2a$04$UL9Dbt2lOCq/CCWSQ13NCeSGXK9ilbw3iWj6adf.4Y.5aHdyRNb4i', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 667316012)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user31', 'user31@example.com', '计算机与控制学院', '$2a$04$pU/8CGTy3JRE/z0ejAG4QOXNy..YdWXYKVvG8Mt3W61WUwCwi2eP2', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 281108417)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user32', 'user32@example.com', '计算机与控制学院', '$2a$04$FczEQoXU.NNX6..FUlxGie8AeRigOOGeTv1s10SLtip22eNw1uZFi', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 164105733)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user33', 'user33@example.com', '计算机与控制学院', '$2a$04$mDh4cT3meR.ChUmNaT8lueT0adKD5XyllKfHoJ7CqnGNdFot480zq', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 1053769364)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user34', 'user34@example.com', '计算机与控制学院', '$2a$04$.64ePz6/CuwDkWxpIe.BqOdqxyD2j8ASADO2cG7.8i.4..am6wthe', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 548121395)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user35', 'user35@example.com', '计算机与控制学院', '$2a$04$CiLzfzpbI0qbrekOu7..7e91BlvIG2q.1PbMose1uOPYQVRBUr6KK', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 397188008)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user36', 'user36@example.com', '计算机与控制学院', '$2a$04$kTP2ld0855q.n1uGPrOXKOyqoUfLvBA/EJhu5ay7TqC4jWXO7TuYG', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 245746204)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user37', 'user37@example.com', '计算机与控制学院', '$2a$04$cq/HQiwas1qQ2.7MJKSY9euDblmiCHv8rl6qNO1ilXer9ihVZgfRq', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 966982283)[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user38', 'user38@example.com', '计算机与控制学院', '$2a$04$tVFFjuidtE5nE95NdBpuceGSHpmpsg.tx1TVncGzihNKdp6R/AtEi', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 689825566)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user39', 'user39@example.com', '计算机与控制学院', '$2a$04$H56lddrKZsw61ZwlFI0F6egUMgzG4uI/E.jhhgV01ZvUssYltLy22', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 505075599)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user40', 'user40@example.com', '计算机与控制学院', '$2a$04$xfNpAwp7Aii8yV3dQ.owru9jgGL8P.XpYimsjqRaVihi14fOYUflm', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 679999984)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user41', 'user41@example.com', '计算机与控制学院', '$2a$04$1yTHmnLUWfChEN3ebLarreoWI0c8sJot.UX0f1dFPVDHhjL5kIJma', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 528533883)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user42', 'user42@example.com', '计算机与控制学院', '$2a$04$gRcjmPUQ.ZpL9JC9Sjv5TOuWKDDJs6XZ6zKeA.stKrAjUdi5lIBM.', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 109680835)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user43', 'user43@example.com', '计算机与控制学院', '$2a$04$yC0OEQDm.lhvDm0bTT3wM.yiIC64zaQ2vlcMU1y4qrD0y/yxLg5C.', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 831432788)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user44', 'user44@example.com', '计算机与控制学院', '$2a$04$JLOUQNYWcz9OLK6dtvxqde2X3YXBA1LqO3hXZgqb81/9netVkhZie', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 803880441)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user45', 'user45@example.com', '计算机与控制学院', '$2a$04$fxtPmgpwvTKJTqQmBvi5we/xfSsl2QufpfGW403YbXkumSGocYXZ6', '2017-01-03 16:09:48', '2017-01-03 16:09:48', 418188644)[0m
  [1m[35m (1.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL[0m
  [1m[35m (0.5ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-04 00:09:48 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (796.6ms)
  Rendered layouts/_header.html.erb (5.1ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 907ms (Views: 897.3ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_timetable_course_when_not_logged_in
------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/timetable" for 127.0.0.1 at 2017-01-04 00:09:49 +0800
Processing by CoursesController#timetable as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_chart_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.7ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-04 00:09:49 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_selected_when_not_logged_in
----------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.7ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/298486374/selected" for 127.0.0.1 at 2017-01-04 00:09:49 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_courses_when_not_logged_in
---------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses" for 127.0.0.1 at 2017-01-04 00:09:49 +0800
Processing by CoursesController#index as HTML
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
CoursesControllerTest: test_should_get_new_by_teacher_not_student
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.2ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:09:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$3LVdyPuByIOz3ydK1Rw.zudNF5bad3aqUuCwlFYrbc6/b/dUYwtbi"], ["updated_at", "2017-01-03 16:09:49.530278"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.2ms)
Started GET "/courses/new" for 127.0.0.1 at 2017-01-04 00:09:49 +0800
Processing by CoursesController#new as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:09:49 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-03 16:09:49.543287"], ["id", 762146111]]
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:09:49 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$BdVC19JkyY62thx7HqYVCuwvLtvWj4ym.L2tN02nyNaUwg/kLzVze"], ["updated_at", "2017-01-03 16:09:49.557270"], ["id", 369664257]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.9ms)
Started GET "/courses/new" for 127.0.0.1 at 2017-01-04 00:09:49 +0800
Processing by CoursesController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mSemester Load (1.3ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  [1m[35mCourse Load (0.0ms)[0m  SELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1  [["teacher_id", 369664257]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 298486374], ["open", "f"]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 113629430], ["open", "f"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  Rendered shared/_sidenav.html.erb (34.0ms)
  Rendered shared/_error_messages.html.erb (3.0ms)
  Rendered courses/_form.html.erb (574.5ms)
  Rendered courses/new.html.erb within layouts/application (636.3ms)
Completed 500 Internal Server Error in 680ms (ActiveRecord: 1.3ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_select_course_when_not_logged_in
---------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/762146111/select" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_quit_course_when_not_logged_in
-------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/762146111/quit" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_semester_when_not_logged_in
----------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/762146111/semester" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"762146111"}
Completed 500 Internal Server Error in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
CoursesControllerTest: test_should_not_get_new_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/new" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by CoursesController#new as HTML
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_get_semester_by_teacher_not_student
----------------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$kYWrniFCNAMBa5Ei4fQ7U.9n713izausMaONcysagduloLIwgKpOG"], ["updated_at", "2017-01-03 16:09:50.317885"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 3.0ms)
Started GET "/courses/762146111/semester" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  Rendered shared/_sidenav.html.erb (0.0ms)
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1 AND "courses"."semester_id" = 762146111[0m  [["teacher_id", 762146111]]
  Rendered courses/semester.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 18ms (Views: 14.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
CoursesControllerTest: test_should_get_chart_by_teacher_not_student
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$dIm3.ed.RWonFRiuM7OWyOa0O95j/QqGBfblvNMh.dUSqbBuKFDPy"], ["updated_at", "2017-01-03 16:09:50.354886"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2017-01-03 16:09:50.364889"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 2.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$d6AhjUTs9/fqrl83weN9y.XHsMunfk0pIgDvc4AKXyQUlNJph0ZsG"], ["updated_at", "2017-01-03 16:09:50.373894"], ["id", 369664257]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "grades" ON "users"."id" = "grades"."user_id" WHERE "grades"."course_id" = $1[0m  [["course_id", 298486374]]
  [1m[35mSemester Load (1.0ms)[0m  SELECT "semesters".* FROM "semesters"
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1[0m  [["teacher_id", 369664257]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 298486374], ["open", "f"]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 113629430], ["open", "f"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  Rendered shared/_sidenav.html.erb (6.8ms)
  Rendered courses/chart.html.erb within layouts/application (7.8ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 38ms (Views: 19.7ms | ActiveRecord: 1.5ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------
CoursesControllerTest: test_should_get_selected_by_teacher_not_student
----------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$ioch99iSsei/aHg8RkfO4Oq9qE7kGsgY0MbDuyJCPn5/m8kClgkcG"], ["updated_at", "2017-01-03 16:09:50.432125"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.1ms)
Started GET "/courses/762146111/selected" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (2.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-03 16:09:50.441157"], ["id", 762146111]]
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 3.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$bhr1ZGb6L0KoIDGuXTTMve1mSxX03w04DFtclGf136B457oB2KNdu"], ["updated_at", "2017-01-03 16:09:50.450181"], ["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
Started GET "/courses/298486374/selected" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mSemester Load (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1[0m  [["teacher_id", 369664257]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 298486374], ["open", "f"]]
  [1m[36mGrade Load (0.5ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 113629430], ["open", "f"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  Rendered shared/_sidenav.html.erb (9.0ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "grades" ON "users"."id" = "grades"."user_id" WHERE "grades"."course_id" = $1[0m  [["course_id", 298486374]]
  Rendered courses/selected.html.erb within layouts/application (12.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 33ms (Views: 29.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$XzZm.5KHru2KCbGNnsUbe.QH81sKegzetWE9Kc5V7JxWDMCqShdfS"], ["updated_at", "2017-01-03 16:09:50.494339"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$HEyE.usFNeydU1CrS7oCa.sYrJfOc98wrhwGi4czh1H5Zg4hEN.e."], ["updated_at", "2017-01-03 16:09:50.501694"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$jBcbDInq68lEQadktDl8DeOpnwPYsbFYRPb7YYzhQvvYNr8o1nFjy"], ["updated_at", "2017-01-03 16:09:50.505581"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (9.5ms)
  Rendered users/new.html.erb within layouts/application (22.6ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 94ms (Views: 93.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/_form.html.erb (4.5ms)
  Rendered users/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 6.6ms | ActiveRecord: 1.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$I/REBhTxLSBXRZiD0LIetudFcQoit457ZaBSU3FVzUYKSGHzlWXRa"], ["updated_at", "2017-01-03 16:09:50.651488"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 19ms (Views: 16.4ms | ActiveRecord: 1.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-03 16:09:50.680962"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$QO.dpmgbbGHyPZOCyNcBAuGJ19PE9QBReGbWilNADpguEUIReMmJu"], ["updated_at", "2017-01-03 16:09:50.692906"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 1.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CourseTest: test_teaching_type_should_be_valid
----------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
CourseTest: test_exam_type_should_be_valid
------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_time_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (1.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_week_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.9ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
CourseTest: test_name_should_be_valid
-------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
CourseTest: test_class_room_should_be_valid
-------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_type_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.5ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------
CourseTest: test_credit_should_be_valid
---------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (7.0ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 71ms (Views: 71.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.5ms)
Completed 200 OK in 5ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.4ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 4.4ms | ActiveRecord: 0.6ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 2.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.8ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 3ms (Views: 3.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$.EeiMfdeqq2ehuJEKJskouC1GF0vNoVbIiKErB.O4zGTAyaI2Ll/6"], ["updated_at", "2017-01-03 16:09:50.920467"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2017-01-03 16:09:50.928497"], ["id", 430533587]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 2.5ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:09:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$1/eyz0zy13g43VOzOj4aMebyAj2lvP44F0x3J1OmEX8cP70fX9ntG"], ["updated_at", "2017-01-03 16:09:50.942541"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.5ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$Zy56MbWPCbzTYSKxFvLdvujAqw45Agqv1P.jFr/7EMiyw71Ued1Su"], ["created_at", "2017-01-03 16:09:50.955769"], ["updated_at", "2017-01-03 16:09:50.955769"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:09:51 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (1.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$.6xDHTYkI4rPz3Dn264hXuqbEe6jMccNHPppW62RXyzwoat4gE1Jm"], ["updated_at", "2017-01-03 16:09:51.012855"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 3.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 00:09:51 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-04 00:09:51 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 00:09:51 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:09:51 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$p26f3/qs91yMiG5oJ1KJ0u2RDCh9DPBfn1oo4hmrPGxwWQT.TuaLW"], ["updated_at", "2017-01-03 16:09:51.043972"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-04 00:09:51 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.9ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:09:51 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$L0sPuhuULgcawUU8hsHO3.wcDA4BwPpvQog7nZiU0JPPFv0F77jU."], ["updated_at", "2017-01-03 16:09:51.061414"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-04 00:09:51 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-04 00:09:51 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (2.0ms)
  Rendered users/new.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-04 00:09:51 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[35mNotice Load (0.0ms)[0m  SELECT "notices".* FROM "notices"  ORDER BY updated_at DESC
  Rendered notices/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 54ms (Views: 65.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (1.1ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', 't', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 980190962, 258535826, 457863342)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4002H', '高级软件工程', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 298486374, 369664257, 457863342)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4003H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 113629430, 369664257, 457863342)[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM "grades"
  [1m[36mFixture Insert (1.3ms)[0m  [1mINSERT INTO "grades" ("grade", "created_at", "updated_at", "id", "course_id", "user_id") VALUES (60, '2017-01-03 16:10:57', '2017-01-03 16:10:57', 573891180, 980190962, 430533587)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 160624384, 298486374, 430533587)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 897771008, 113629430, 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 275203981, 980190962, 673255333)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 660633374, 980190962, 522600246)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 1047078566, 980190962, 103771790)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 158209585, 980190962, 824729113)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 386565014, 980190962, 793562046)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 537768711, 980190962, 407632687)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 956621503, 980190962, 21146263)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 235131434, 980190962, 910531074)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 515690427, 980190962, 653952915)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 700186416, 980190962, 301840136)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 545121052, 980190962, 368053678)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 393925521, 980190962, 586628415)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 242450997, 980190962, 1006529671)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 963949220, 980190962, 217668626)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 655369987, 980190962, 312330677)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 269948824, 298486374, 630913318)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 152978988, 298486374, 1016309918)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 1041856187, 298486374, 194287625)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 782658350, 298486374, 455837084)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 430005183, 298486374, 741127441)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 189837533, 298486374, 1054695019)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 1012367438, 298486374, 165310208)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 626971126, 298486374, 282279748)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 307880289, 298486374, 668209107)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 205354182, 298486374, 967875188)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 993674327, 298486374, 246917865)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 573773295, 298486374, 398392157)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 355739002, 298486374, 549047244)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 93010155, 298486374, 805754461)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 306938270, 113629430, 667316012)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 625783055, 113629430, 281108417)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 1011212471, 113629430, 164105733)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 188928034, 113629430, 1053769364)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 354829701, 113629430, 548121395)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 572618006, 113629430, 397188008)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 992486574, 113629430, 245746204)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 204411961, 113629430, 966982283)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 479201708, 113629430, 689825566)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 731330881, 113629430, 505075599)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 487200606, 113629430, 679999984)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 705505229, 113629430, 528533883)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 855930481, 113629430, 109680835)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:10:57', '2017-01-03 16:10:57', 67323622, 113629430, 831432788)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 521374680)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 457863342)
  [1m[36mFixture Delete (1.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$DRn5qn6v1lArPahvXtpA9eQ1gOpvY1CreshzbKybDmm6Rh8N0RoD2', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 762146111)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$6ra33llp60lCkSobpUbC6.CgNPRgJIQT0rMM8DqZvXWqRHb91WO1u', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 430533587)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$ig2ri68czP4dRE1W7Xu2i.EMhPIzmAM7C5Ki7UhuZ1H9GQd4sGTIm', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 369664257)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('胡伟武', 'teacher5@test.com', 't', '计算机与控制学院', '$2a$04$C48.9494dtfHrdk3Hq5jJ.4VV0yH400VcezYw6v6uw0v84GVNIqNy', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 258535826)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user0', 'user0@example.com', '计算机与控制学院', '$2a$04$BZEn5q3tkGPiELVV7X0D3.ZstQGSzVLXHchOdY9oZbT4WHa.csuEy', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 673255333)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user1', 'user1@example.com', '计算机与控制学院', '$2a$04$H89/UoCeohfzm3zJb9/1h.75EPtZnHycZ5aHQ1RFs.rie2K230Hfq', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 522600246)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user2', 'user2@example.com', '计算机与控制学院', '$2a$04$iWoBU/3uMnuMGLaQcSuHuuJ5yXnQ3vlCO0Rbt/qy0oWNUqYdjkSqi', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 103771790)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user3', 'user3@example.com', '计算机与控制学院', '$2a$04$Phucuf3/1IFFa/VRgZSoT.LuURRVKDawFFLIG/ZEGVBHIFCv0EG4u', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 824729113)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user4', 'user4@example.com', '计算机与控制学院', '$2a$04$3iE3kC0uLI4B9nHcpUQr0ewqsLjBYyIPfeXeDakRNsjDwZQNbdKZq', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 793562046)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user5', 'user5@example.com', '计算机与控制学院', '$2a$04$yrRIfQkqbuohtQ/GA0rKFuOSocRv7ogt/xc0vAlzTqzu2ZYRO.B7u', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 407632687)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user6', 'user6@example.com', '计算机与控制学院', '$2a$04$NFAlwRhmZ3OJIDgFm1/HEeU1YzeF7wBki2i1XpduAH7tgzRUy1T0y', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 21146263)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user7', 'user7@example.com', '计算机与控制学院', '$2a$04$I2.H0/J7K01YNnAoNMIuu.HlSHITUQLutSS38M0lFjiN7TqxKTtaO', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 910531074)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user8', 'user8@example.com', '计算机与控制学院', '$2a$04$BmiKuFBclK5zhdIqaJ67vOT121lUUO5aL1ZWKgrhZp22hoIAdY5c6', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 653952915)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user9', 'user9@example.com', '计算机与控制学院', '$2a$04$tUP2a5s4Jvmtj4wIMhIOluqhP79zhRWz0HdwlKps3Z16U//Xtqxwq', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 301840136)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user10', 'user10@example.com', '计算机与控制学院', '$2a$04$KXYP8jWrKtZdpPr1jn.dEu8YgRbbvI4PPomuJ27l6v4bAUzscusUG', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 368053678)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user11', 'user11@example.com', '计算机与控制学院', '$2a$04$djLyOgkX6xSwdvgC6UzGsOjryf/9vWtuwJYf.4rr.D8CP1x326F0O', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 586628415)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user12', 'user12@example.com', '计算机与控制学院', '$2a$04$JQf/xC0jxs.bj7KDI0iUluuD9keKHhQLrvkYiS6gQe3WM8U0Xq6QO', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 1006529671)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user13', 'user13@example.com', '计算机与控制学院', '$2a$04$EiKWRaLuBzxGfsEB3jYh2.IKZsgXOkGb2rbxJzekBFiAzfrCJ0Qwe', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 217668626)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user14', 'user14@example.com', '计算机与控制学院', '$2a$04$x/iTdtwYuqNrGri7PsBDH.pB.wTx.u32r35equczjOW5/QMXJEJSW', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 312330677)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user15', 'user15@example.com', '计算机与控制学院', '$2a$04$tkfXpHEYl3sTuv.9aEvxoeOoQx96m4ksfhztIWM/zoXhL/i4Brfj6', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 630913318)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user16', 'user16@example.com', '计算机与控制学院', '$2a$04$7R8fm4GDu7KOWTPU0C0EeOjg1KaCvLh2GCoDzmb6gBxLhI5AypDi2', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 1016309918)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user17', 'user17@example.com', '计算机与控制学院', '$2a$04$IFqGZyWvRNt2ok.dIh8WDOVhfT269eLadQgeUPYL9CzNpyKkiDD4G', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 194287625)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user18', 'user18@example.com', '计算机与控制学院', '$2a$04$Jq4BD7hnsycsqApMBXUf7O2KLn.tEZilkxufbvBqVXaqMDWinRZ5S', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 455837084)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user19', 'user19@example.com', '计算机与控制学院', '$2a$04$Slyk1f6szB3v8m6S5vcya.xmOZssScPEEeuDj4FWO1tMmk1OSsrPW', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 741127441)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user20', 'user20@example.com', '计算机与控制学院', '$2a$04$UP5z8dkyr4oXoWZ59BsR6exyfz9wQxBGdSmXqgP1sT65xtrcztKsa', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 1054695019)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user21', 'user21@example.com', '计算机与控制学院', '$2a$04$DsFsFL0FaobCsY71q8SGXuaFtociU56olcFafGyM6j/VN3VqweLRy', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 165310208)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user22', 'user22@example.com', '计算机与控制学院', '$2a$04$WMlHN9XDh7Ge7lTMZ/6Zw.vr1xfW7El/Z/J/e0npjfoz7/Pu0QQiu', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 282279748)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user23', 'user23@example.com', '计算机与控制学院', '$2a$04$hSsevqmObw2Q6zxTD.im/eZoh4r/zGiXObXw2IFH.PX996xwHtJKm', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 668209107)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user24', 'user24@example.com', '计算机与控制学院', '$2a$04$tKIdZp7jYD6IDYxACtnzceAS0OxXn0C/XjujE5TajVcNTxxRODX5i', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 967875188)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user25', 'user25@example.com', '计算机与控制学院', '$2a$04$rHOvYKV9CBYSKiAaIQiTtOJ9OAJ7TF5EMHev7XJg2M9i00g4uoeA.', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 246917865)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user26', 'user26@example.com', '计算机与控制学院', '$2a$04$rZ8tvL64uMCy0HIAbGJtmO7szbq6NaHEZFaesiwVvyFiXb5JvsykS', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 398392157)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user27', 'user27@example.com', '计算机与控制学院', '$2a$04$SzBZtBWzKkpUmWdiNUCYPO4dwzzt0OdSP/Wg6UCb5C78eEQi1OM5i', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 549047244)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user28', 'user28@example.com', '计算机与控制学院', '$2a$04$ZN5wAnu/oJn.t3fgoG0ideN8PbnL6wdRqIfLNkaI6MV4ZW.oJnFQG', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 805754461)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user29', 'user29@example.com', '计算机与控制学院', '$2a$04$SOEp5QV62rem9J5aT0jkxO4xCcG7yn8uBpqrzWf0vInmR1SMai5KW', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 117565134)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user30', 'user30@example.com', '计算机与控制学院', '$2a$04$o6BlCdivQyh6w4gvQs/K1.Kk.FKTld.kSUgg5Es.I8mxOOttFL40u', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 667316012)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user31', 'user31@example.com', '计算机与控制学院', '$2a$04$rYFffeP614r8O/Ba5XhiGOJydeOTplc/msC6yV70yxi5xt6.SqyBu', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 281108417)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user32', 'user32@example.com', '计算机与控制学院', '$2a$04$s.2ALd6mvM5LzVvi7nPLu.ub83KYxyX9hQbPhbwtLcyc5vANRJ3qy', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 164105733)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user33', 'user33@example.com', '计算机与控制学院', '$2a$04$7urUpflIIY1YLfOl.UJg8u3GgS6xvFt1fsnwW8azHb7OFHoVuuUXS', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 1053769364)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user34', 'user34@example.com', '计算机与控制学院', '$2a$04$rS3t.1GsU5JXU9NxdMpPa.FABmI.xa5DQep.SX0foh5b6PzVcGrhW', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 548121395)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user35', 'user35@example.com', '计算机与控制学院', '$2a$04$utm/BaNnt/1T9vdVA1TapeZVsNeKGXNdH0BCyTTaEydfuTqsqO67C', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 397188008)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user36', 'user36@example.com', '计算机与控制学院', '$2a$04$k093yBqRHstJVju7mhSiveUSO5yJPXX4JHteCAQy/Eu7Fpae3RrDm', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 245746204)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user37', 'user37@example.com', '计算机与控制学院', '$2a$04$evjoKTn6DC11jbIwmli3EeVudfPglflmhV/2NWHn5PI1uWx0xvjsS', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 966982283)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user38', 'user38@example.com', '计算机与控制学院', '$2a$04$NTHErsIwl0HkzKvCMmKz3uvnAW.TD3aws9c60CyCpeeiD/t4i5eFu', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 689825566)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user39', 'user39@example.com', '计算机与控制学院', '$2a$04$pfx8WiP2tG7RFTAv9FgXTe0DcEic2sKsWkPFwUzEPiXXPvwnIlmnG', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 505075599)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user40', 'user40@example.com', '计算机与控制学院', '$2a$04$Y8jlG2rbUac3gr1GJis51eO8ZYAqCaIVAeeisBZTeBAneHFy5qBBK', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 679999984)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user41', 'user41@example.com', '计算机与控制学院', '$2a$04$Qop7ICmLXOC3u4hoetG.Q.t5ivUmkcI6obJvP2pZ4s.93YkX75G5K', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 528533883)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user42', 'user42@example.com', '计算机与控制学院', '$2a$04$kCVMQOmV8HGolhxL6.eece2hBBi/yIf0GTvnShkitybPGPRhWjsoi', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 109680835)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user43', 'user43@example.com', '计算机与控制学院', '$2a$04$/lwVVwfj5Iey5LCuSNp4h.9Jx1RojfPcOE63TREV5xrcT33Vng83m', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 831432788)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user44', 'user44@example.com', '计算机与控制学院', '$2a$04$jEKITbolEjPcUkJPHcMbsuPccn5oKpMpx/2FYFsdrQXUcNLMks4KO', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 803880441)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user45', 'user45@example.com', '计算机与控制学院', '$2a$04$JeFNEwcToqfH2uO1pZvNTuVGt/.89wcf.xPzoDNaVman/NLhdFGRO', '2017-01-03 16:10:57', '2017-01-03 16:10:57', 418188644)[0m
  [1m[35m (13.1ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL[0m
  [1m[35m (1.0ms)[0m  BEGIN
----------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_semester_when_not_logged_in
----------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/semester" for 127.0.0.1 at 2017-01-04 00:10:57 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"762146111"}
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_quit_course_when_not_logged_in
-------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/quit" for 127.0.0.1 at 2017-01-04 00:10:57 +0800
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_timetable_course_when_not_logged_in
------------------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/timetable" for 127.0.0.1 at 2017-01-04 00:10:57 +0800
Processing by CoursesController#timetable as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_courses_when_not_logged_in
---------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses" for 127.0.0.1 at 2017-01-04 00:10:57 +0800
Processing by CoursesController#index as HTML
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_chart_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.7ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-04 00:10:57 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
CoursesControllerTest: test_should_get_chart_by_teacher_not_student
-------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.9ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:10:57 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$thMc.mE5QJaEVZxvSKuYT.YLTQoaPVd.k9rQbhsOdL8lhWR9sIZBi"], ["updated_at", "2017-01-03 16:10:57.519155"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 10ms (ActiveRecord: 0.0ms)
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-04 00:10:57 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:10:57 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-03 16:10:57.530657"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:10:57 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$3/5QLNFNgRYccFk.86wMJe0.pKMYKuYJUKsDgenc1UtIlS8HCNyMK"], ["updated_at", "2017-01-03 16:10:57.538678"], ["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.8ms)
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-04 00:10:57 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "grades" ON "users"."id" = "grades"."user_id" WHERE "grades"."course_id" = $1  [["course_id", 298486374]]
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  [1m[35mCourse Load (0.0ms)[0m  SELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1  [["teacher_id", 369664257]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 298486374], ["open", "f"]]
  [1m[35mGrade Load (1.1ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 113629430], ["open", "f"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  Rendered shared/_sidenav.html.erb (20.9ms)
  Rendered courses/chart.html.erb within layouts/application (40.2ms)
  Rendered layouts/_header.html.erb (3.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 865ms (Views: 827.8ms | ActiveRecord: 1.2ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
CoursesControllerTest: test_should_get_new_by_teacher_not_student
-----------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (1.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:10:58 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$/Pl/yXCB7AVUE4XAJfwrP.EVQdQKkI6lwlTaRP3iflqK1ebAmo5D6"], ["updated_at", "2017-01-03 16:10:58.428945"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 8ms (ActiveRecord: 0.0ms)
Started GET "/courses/new" for 127.0.0.1 at 2017-01-04 00:10:58 +0800
Processing by CoursesController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:10:58 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2017-01-03 16:10:58.443433"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.5ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:10:58 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$L97a0Z90LAqpiilvYL9Uzeuq6qtzm3TUurAorBZ5SsclDL20h9UNe"], ["updated_at", "2017-01-03 16:10:58.453912"], ["id", 369664257]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started GET "/courses/new" for 127.0.0.1 at 2017-01-04 00:10:58 +0800
Processing by CoursesController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mSemester Load (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1[0m  [["teacher_id", 369664257]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 298486374], ["open", "f"]]
  [1m[36mGrade Load (1.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 113629430], ["open", "f"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  Rendered shared/_sidenav.html.erb (9.9ms)
  Rendered shared/_error_messages.html.erb (15.6ms)
  Rendered courses/_form.html.erb (412.9ms)
  Rendered courses/new.html.erb within layouts/application (433.9ms)
Completed 500 Internal Server Error in 446ms (ActiveRecord: 2.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
CoursesControllerTest: test_should_not_get_new_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/new" for 127.0.0.1 at 2017-01-04 00:10:58 +0800
Processing by CoursesController#new as HTML
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------
CoursesControllerTest: test_should_get_semester_by_teacher_not_student
----------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:10:58 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$P8eKyhyDQkgd00lJoK0IhuHXBlYC2VkSYVH3IKnr//QpFVOM9yE.."], ["updated_at", "2017-01-03 16:10:58.934851"], ["id", 762146111]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
Started GET "/courses/762146111/semester" for 127.0.0.1 at 2017-01-04 00:10:58 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  Rendered shared/_sidenav.html.erb (0.0ms)
  [1m[35mCourse Load (0.0ms)[0m  SELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1 AND "courses"."semester_id" = 762146111  [["teacher_id", 762146111]]
  Rendered courses/semester.html.erb within layouts/application (3.1ms)
  Rendered layouts/_header.html.erb (0.2ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.4ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_selected_when_not_logged_in
----------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.7ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.6ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/298486374/selected" for 127.0.0.1 at 2017-01-04 00:10:58 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_select_course_when_not_logged_in
---------------------------------------------------------------------------
  [1m[36mUser Load (0.9ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/select" for 127.0.0.1 at 2017-01-04 00:10:58 +0800
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------
CoursesControllerTest: test_should_get_selected_by_teacher_not_student
----------------------------------------------------------------------
  [1m[36mUser Load (1.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:10:58 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$ZExFpee1w3E6lpQ9kLuZyuVgU01cdl42JpBVumPVqwls.52c54xdu"], ["updated_at", "2017-01-03 16:10:58.991424"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.3ms)
Started GET "/courses/762146111/selected" for 127.0.0.1 at 2017-01-04 00:10:58 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:10:58 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-03 16:10:59.000115"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:10:59 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$Ivt8EV8rOmcb3zvAObd.PeJ/QmCewEC4xNxCdntfsKjhUHJgRzjce"], ["updated_at", "2017-01-03 16:10:59.009113"], ["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
Started GET "/courses/298486374/selected" for 127.0.0.1 at 2017-01-04 00:10:59 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mSemester Load (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  [1m[36mCourse Load (1.1ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1[0m  [["teacher_id", 369664257]]
  [1m[35mGrade Load (1.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 298486374], ["open", "f"]]
  [1m[36mGrade Load (0.7ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 113629430], ["open", "f"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  Rendered shared/_sidenav.html.erb (6.8ms)
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "grades" ON "users"."id" = "grades"."user_id" WHERE "grades"."course_id" = $1[0m  [["course_id", 298486374]]
  Rendered courses/selected.html.erb within layouts/application (8.3ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 22ms (Views: 17.0ms | ActiveRecord: 3.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', 't', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 980190962, 258535826, 457863342)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4002H', '高级软件工程', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 298486374, 369664257, 457863342)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4003H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 113629430, 369664257, 457863342)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "grades"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("grade", "created_at", "updated_at", "id", "course_id", "user_id") VALUES (60, '2017-01-03 16:15:10', '2017-01-03 16:15:10', 573891180, 980190962, 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 160624384, 298486374, 430533587)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 897771008, 113629430, 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 275203981, 980190962, 673255333)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 660633374, 980190962, 522600246)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 1047078566, 980190962, 103771790)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 158209585, 980190962, 824729113)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 386565014, 980190962, 793562046)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 537768711, 980190962, 407632687)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 956621503, 980190962, 21146263)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 235131434, 980190962, 910531074)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 515690427, 980190962, 653952915)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 700186416, 980190962, 301840136)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 545121052, 980190962, 368053678)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 393925521, 980190962, 586628415)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 242450997, 980190962, 1006529671)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 963949220, 980190962, 217668626)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 655369987, 980190962, 312330677)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 269948824, 298486374, 630913318)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 152978988, 298486374, 1016309918)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 1041856187, 298486374, 194287625)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 782658350, 298486374, 455837084)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 430005183, 298486374, 741127441)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 189837533, 298486374, 1054695019)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 1012367438, 298486374, 165310208)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 626971126, 298486374, 282279748)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 307880289, 298486374, 668209107)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 205354182, 298486374, 967875188)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 993674327, 298486374, 246917865)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 573773295, 298486374, 398392157)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 355739002, 298486374, 549047244)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 93010155, 298486374, 805754461)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 306938270, 113629430, 667316012)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 625783055, 113629430, 281108417)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 1011212471, 113629430, 164105733)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 188928034, 113629430, 1053769364)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 354829701, 113629430, 548121395)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 572618006, 113629430, 397188008)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 992486574, 113629430, 245746204)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 204411961, 113629430, 966982283)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 479201708, 113629430, 689825566)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 731330881, 113629430, 505075599)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 487200606, 113629430, 679999984)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 705505229, 113629430, 528533883)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 855930481, 113629430, 109680835)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:15:10', '2017-01-03 16:15:10', 67323622, 113629430, 831432788)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 521374680)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 457863342)
  [1m[36mFixture Delete (0.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$o/txft3xEk7/nAl/azixW.U9bAuX/DktVydO11o1ckSDREqX4KE7W', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$MwNtOaAotk19ol9E6aTRE.COHQ1pzKQyObyM8tFVixxEjwNkJyHFu', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$.AUn.LYgPiMoInw6ZSiUEOP5.Ur.Q8hbTdqMuM5Y8zvN5rMeFa6H.', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 369664257)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('胡伟武', 'teacher5@test.com', 't', '计算机与控制学院', '$2a$04$mltHA/qsQFC2wFI.30W6e.nlid5fvIIxD96cQLLHivKsMbipxIvFG', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 258535826)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user0', 'user0@example.com', '计算机与控制学院', '$2a$04$17lRztaxc1LUdrN737GpDeBRCGyfwcdPEn74ZaZczW6GPFagmRR9C', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 673255333)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user1', 'user1@example.com', '计算机与控制学院', '$2a$04$EFjN6RRwf1tqxxZsSDDsrur1MsTyVXUxSx0vFQCpBUKbDJGInADUa', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 522600246)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user2', 'user2@example.com', '计算机与控制学院', '$2a$04$uXvkAFuuq4RluPxI0VKFYeMDvfrzoTxgvUST0E3a5Mhs55f8wrmbm', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 103771790)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user3', 'user3@example.com', '计算机与控制学院', '$2a$04$9M9Gkszksc.bAAcCyBR8P.abAz.mYBDW8ocKjCP0Tq45.y6dFIoFS', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 824729113)[0m
  [1m[35mFixture Insert (12.8ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user4', 'user4@example.com', '计算机与控制学院', '$2a$04$qoZq6.XL/uDsYSfKwMv5jeVs/M9w3OMG2BDdHI3eRLNUGBJoLV0YC', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 793562046)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user5', 'user5@example.com', '计算机与控制学院', '$2a$04$hXWcAepMd/omM59H8IhHOugLhmmCweBjQRnYPGh2SLLVe.EBF9eJ.', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 407632687)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user6', 'user6@example.com', '计算机与控制学院', '$2a$04$FHZwSc3/vOUOEY7weV8LdOsQX7zIfzWSked2NJo31nei7asH3KKQC', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 21146263)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user7', 'user7@example.com', '计算机与控制学院', '$2a$04$vk2aWgCjwyUa5h7wNU/m5..gcW66FZpcoP105KAh4OURRH/mNUJhm', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 910531074)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user8', 'user8@example.com', '计算机与控制学院', '$2a$04$NmaiZEzlB0L/fBnT.IGtZuctVM82YE1LXcvmg/9mevse9D0PB7ATK', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 653952915)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user9', 'user9@example.com', '计算机与控制学院', '$2a$04$kcl0MrfpOIf4SAPBMUUl/.I3SDItZfLa5b33Tu3QV3fDxL8GeRL7C', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 301840136)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user10', 'user10@example.com', '计算机与控制学院', '$2a$04$i7rftzDTQCl56eyJuErwtecphUUvnEaYUjW8ffI3vEtB2qV1vH96q', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 368053678)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user11', 'user11@example.com', '计算机与控制学院', '$2a$04$v2DdrdWpKHVUx4DbDE7PkOHx4mI5uL/EowYvM6KjcjSSA69czXUFG', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 586628415)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user12', 'user12@example.com', '计算机与控制学院', '$2a$04$S70uZKl5/vHIMFODkdb3guZN5vl7taUV/8UtvB6EfZDElES.RoGrq', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 1006529671)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user13', 'user13@example.com', '计算机与控制学院', '$2a$04$AbW5FQdxSIXZlHX4e5Waxebrypgup9wFqkyWuTrGcej0iSkoEkeFK', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 217668626)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user14', 'user14@example.com', '计算机与控制学院', '$2a$04$VltbCtQPUWq95rNJaKR8tO/9.Mj6j8TfaKREZZljaWHjhvLdntb0S', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 312330677)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user15', 'user15@example.com', '计算机与控制学院', '$2a$04$Yd2za0VCF8vO09wmEnu2TeMQ8A6LbDX8fHgon.tiSkaLBQDr/dsnC', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 630913318)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user16', 'user16@example.com', '计算机与控制学院', '$2a$04$XjmoEfAt9N84w.qwJz1VBuq0iZ8j0vDyjjpDq1gIm9voVUrL8bq2q', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 1016309918)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user17', 'user17@example.com', '计算机与控制学院', '$2a$04$WShqGJV.74i0j5/3xu5sbOQn63hhhHZbMQStX/W96/J9HxVS2dA7u', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 194287625)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user18', 'user18@example.com', '计算机与控制学院', '$2a$04$YG.xVNLVG/ZkGrJXNt.GdutPg4Ryfw87kmF5w/ZxxIkq4pIBKU19G', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 455837084)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user19', 'user19@example.com', '计算机与控制学院', '$2a$04$l6iNmDmoDAJZwcjMzq2a8uxsBDBfl5sv8VulVdHOS4Y8EfeByQRei', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 741127441)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user20', 'user20@example.com', '计算机与控制学院', '$2a$04$R..HlCJg/shRg1u6nFkkoO3IvVO8ds9KowS6iM40pkSMsjIoXfdo6', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 1054695019)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user21', 'user21@example.com', '计算机与控制学院', '$2a$04$/eDebDG68Pqp56Xo2FYlze2L2Gye9vhXoj1rDcn3bSjg6SUsyrt3W', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 165310208)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user22', 'user22@example.com', '计算机与控制学院', '$2a$04$uPvyzGNoQTgejUV4BfcNcOaFrIEf0LyavMmyhIzUZJzCahXie2dHS', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 282279748)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user23', 'user23@example.com', '计算机与控制学院', '$2a$04$1qA0.m2I3UMnlGc5bgphWeyCnxjjoxVd.LaLGt9h8tjpmGBf0Gtii', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 668209107)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user24', 'user24@example.com', '计算机与控制学院', '$2a$04$G12mVroYonWljSCQXtGKS.qtXCTZ6TbPWp9rKOeTn0ufbpStENql2', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 967875188)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user25', 'user25@example.com', '计算机与控制学院', '$2a$04$mzHHXt50DnlJCNiTsaXhyu466VzJe6.dLLQW/vcn8eiNRQi.bmF6e', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 246917865)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user26', 'user26@example.com', '计算机与控制学院', '$2a$04$83WAOz8FnyfEvd5PE5TKuOG/fEiwz7s4INasv.LsaszxP7AzfZUTK', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 398392157)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user27', 'user27@example.com', '计算机与控制学院', '$2a$04$kB307tJhPZqfx01Ozx1dZeL3v6IU8tuzwiygKS1VdZcLfsi1PCcfa', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 549047244)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user28', 'user28@example.com', '计算机与控制学院', '$2a$04$FXpJp9d4GsLFZgb24hWy/eoeNN/1Cuo89q.v03dpZ42SAI2/uXbuW', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 805754461)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user29', 'user29@example.com', '计算机与控制学院', '$2a$04$L85StQ00xMct32yooZiqau/C25uLQhv246EyDpB9odXRd85rg5/JW', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 117565134)[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user30', 'user30@example.com', '计算机与控制学院', '$2a$04$HBKy8vTNBLsJ91BzhudlNOtltdj8OyS.LRrGlnuFkttlces1MP6oO', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 667316012)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user31', 'user31@example.com', '计算机与控制学院', '$2a$04$nea8aAI/ftx.iYmHV26DhufUhD.bcsurv4FQejcoN3NBzKhVZpZG2', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 281108417)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user32', 'user32@example.com', '计算机与控制学院', '$2a$04$XRtmhyjYqWy0nbdKGrbYyeoOCQQyavBHGNsmuPeEg0E5MsABkR63m', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 164105733)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user33', 'user33@example.com', '计算机与控制学院', '$2a$04$XRSIslHimO8oGTDiNW.qseXwH1xZ2QKgiYh8IUNkT8pwLTj7CoYaO', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 1053769364)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user34', 'user34@example.com', '计算机与控制学院', '$2a$04$ntMuzA1fkvlJfS7dUSnGzONLFU3auhhztiJFgkScQEvYDfkz4QTNO', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 548121395)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user35', 'user35@example.com', '计算机与控制学院', '$2a$04$Oi7BzqM/AGBp6BR7u6JnyuskT5UqcdYxB8HOZMUljezWFlEiAyHDe', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 397188008)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user36', 'user36@example.com', '计算机与控制学院', '$2a$04$EhEUwOX/xc2/GP2VdnNCCuWCSNSxIYhETwXm5dqVMQEfmki4VqAJ6', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 245746204)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user37', 'user37@example.com', '计算机与控制学院', '$2a$04$Jzx5MjFpEhFXWXr/mHjT3eYMXxADhImZtE6jrEx2ytBSbggytactO', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 966982283)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user38', 'user38@example.com', '计算机与控制学院', '$2a$04$Citsw.ehP6NgNnspP2rCMOSopTdf0T/pzKA6BwXlHsosayergPso2', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 689825566)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user39', 'user39@example.com', '计算机与控制学院', '$2a$04$aZTLuLwWEYxzWsuuVgveMeVOwbQp7nUY7ORtmZFcFa2zwx5J3F39K', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 505075599)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user40', 'user40@example.com', '计算机与控制学院', '$2a$04$Dbv/xNlWFYAwGy0uhQM.o.OoWmdeqkNAhVrTD.WLkviJVsuPLyS9a', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 679999984)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user41', 'user41@example.com', '计算机与控制学院', '$2a$04$yol0zGLAVgmrdEiYisY9GeTrfBt6UcKhm9EL7NSNgJFCsWB0iB00a', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 528533883)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user42', 'user42@example.com', '计算机与控制学院', '$2a$04$2JhrLh2woTWWUMDEraZAy.P4isyZ/d.OHDRrCbq1vjpjs3q4XyYvm', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 109680835)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user43', 'user43@example.com', '计算机与控制学院', '$2a$04$Pi58bdgx4E4mP/WsFLb88u3.wCFruRD9q.PaTGJ7Gb7l0StdGJLzu', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 831432788)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user44', 'user44@example.com', '计算机与控制学院', '$2a$04$4wkYxoxGX4QAibJAvWOpYea.Rs46dTpoQiUF/k.1lZ0wnp0putz1K', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 803880441)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user45', 'user45@example.com', '计算机与控制学院', '$2a$04$EoIbsKdXR1epmr4l5UOOUOyGQu/SHuyroSIyw3wcqznb0a9Ri.b/a', '2017-01-03 16:15:10', '2017-01-03 16:15:10', 418188644)[0m
  [1m[35m (11.4ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL[0m
  [1m[35m (1.0ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_type_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
CourseTest: test_exam_type_should_be_valid
------------------------------------------
  [1m[35mSemester Load (0.8ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
CourseTest: test_class_room_should_be_valid
-------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_week_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CourseTest: test_teaching_type_should_be_valid
----------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
CourseTest: test_name_should_be_valid
-------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------
CourseTest: test_credit_should_be_valid
---------------------------------------
  [1m[35mSemester Load (1.1ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_time_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:15:10 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$T0HVnD5AcYHTikv90lCtVeSb2OIKHn7T/g.RyVUxJWN7r/PMawi0e"], ["updated_at", "2017-01-03 16:15:10.752467"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 23ms (ActiveRecord: 0.4ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 00:15:10 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:15:10 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$E9eL82Fpg7jHRkjiuYFFoeZAZV7B2zwwibMD8qI3mwJzDFrNNJ6bK"], ["updated_at", "2017-01-03 16:15:10.784618"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-04 00:15:10 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.1ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-04 00:15:10 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (22.0ms)
  Rendered users/new.html.erb within layouts/application (35.9ms)
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 790ms (Views: 790.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$kyvff4CS/Gr6TWmj/b0a6O3SPW9k0rUnp2J7cL7aogX69AZjVzjp."], ["updated_at", "2017-01-03 16:15:11.601718"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.1ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.4ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[36m (1.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$zyAIphIn5kTOPGfn3qLBueYsgShDD9ApaBo61118feBiOFXcPL.CO"], ["created_at", "2017-01-03 16:15:11.644233"], ["updated_at", "2017-01-03 16:15:11.644233"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$o3beNy0LUhj5f/zQV9XL9eidkUU8Zz6dYXrK6nybsNd.sjDQsUF1S"], ["updated_at", "2017-01-03 16:15:11.701911"], ["id", 762146111]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.1ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 1.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-03 16:15:11.726100"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$cTZI/UUZGzZslZAjhlF52.CqrPudqcBWBOcVu/ERF7YRi6rb3Fzae"], ["updated_at", "2017-01-03 16:15:11.739468"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.5ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 27ms (Views: 25.7ms | ActiveRecord: 0.9ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_timetable_course_when_not_logged_in
------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/timetable" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by CoursesController#timetable as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
CoursesControllerTest: test_should_not_get_new_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (1.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/new" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by CoursesController#new as HTML
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
CoursesControllerTest: test_should_get_new_by_teacher_not_student
-----------------------------------------------------------------
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.7ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.6ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$mtq4P6s5tWSd/a92BBWaHeQiElkknIMKnB.rpmbfYlweOeIIvcJwu"], ["updated_at", "2017-01-03 16:15:11.819251"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.8ms)
Started GET "/courses/new" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by CoursesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-03 16:15:11.827623"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 2.1ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$lVDBr3ywAZWC1X6MyMcKkedPtCRLZGsgYXHaL4ZhbPlWQ.Bnhq4Lq"], ["updated_at", "2017-01-03 16:15:11.834411"], ["id", 369664257]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.6ms)
Started GET "/courses/new" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by CoursesController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  [1m[35mCourse Load (0.4ms)[0m  SELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1  [["teacher_id", 369664257]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 298486374], ["open", "f"]]
  [1m[35mGrade Load (1.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 113629430], ["open", "f"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  Rendered shared/_sidenav.html.erb (24.1ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (28.1ms)
  Rendered courses/new.html.erb within layouts/application (70.8ms)
Completed 500 Internal Server Error in 112ms (ActiveRecord: 1.7ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_get_semester_by_teacher_not_student
----------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.6ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.6ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.6ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$acc1PXytpCOPkscFehfl4OM8.7fF8xCyJSPohfVpKHUilFkiMyWAK"], ["updated_at", "2017-01-03 16:15:11.963899"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 3.0ms)
Started GET "/courses/762146111/semester" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2017-01-03 16:15:11.971993"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$yphtDGxEgYfgVHMgIQXGPuI.YsfCz/Rwy.bRDTL73a5P7h3inocFi"], ["updated_at", "2017-01-03 16:15:11.979203"], ["id", 369664257]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/courses/369664257/semester" for 127.0.0.1 at 2017-01-04 00:15:11 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"369664257"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mSemester Load (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1[0m  [["teacher_id", 369664257]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 298486374], ["open", "f"]]
  [1m[36mGrade Load (0.9ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 113629430], ["open", "f"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  Rendered shared/_sidenav.html.erb (6.0ms)
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1 AND "courses"."semester_id" = 369664257[0m  [["teacher_id", 369664257]]
  Rendered courses/semester.html.erb within layouts/application (8.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 17.0ms | ActiveRecord: 2.9ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_courses_when_not_logged_in
---------------------------------------------------------------------
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.8ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by CoursesController#index as HTML
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_semester_when_not_logged_in
----------------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.1ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/762146111/semester" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_selected_when_not_logged_in
----------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/298486374/selected" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
CoursesControllerTest: test_should_get_chart_by_teacher_not_student
-------------------------------------------------------------------
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.3ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$579BHHvunRFhi6Gu/I9BYeYQRBFn6./REYgqrOVdp5aiubEgPDAoy"], ["updated_at", "2017-01-03 16:15:12.047473"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.5ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2017-01-03 16:15:12.056319"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 1.3ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$zPRjwSqSZjSM9zPqgAi/pOSHafR9twuXMknCokFwblFFu/1dS9FQO"], ["updated_at", "2017-01-03 16:15:12.063987"], ["id", 369664257]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.0ms)
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.9ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "grades" ON "users"."id" = "grades"."user_id" WHERE "grades"."course_id" = $1[0m  [["course_id", 298486374]]
  [1m[35mSemester Load (1.0ms)[0m  SELECT "semesters".* FROM "semesters"
  [1m[36mCourse Load (0.4ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1[0m  [["teacher_id", 369664257]]
  [1m[35mGrade Load (1.2ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 298486374], ["open", "f"]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 113629430], ["open", "f"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  Rendered shared/_sidenav.html.erb (5.7ms)
  Rendered courses/chart.html.erb within layouts/application (7.1ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 30ms (Views: 15.3ms | ActiveRecord: 4.7ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_chart_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_select_course_when_not_logged_in
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.6ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.6ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/select" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_quit_course_when_not_logged_in
-------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/quit" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------
CoursesControllerTest: test_should_get_selected_by_teacher_not_student
----------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$roRovfABGgq2Pwo6CI3iKuvK4ywmJzfnq51QH5jmKfQHxqv2JqtIu"], ["updated_at", "2017-01-03 16:15:12.142603"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
Started GET "/courses/762146111/selected" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.2ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-03 16:15:12.152532"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$zfF9RfAulwzCnYjvXfKIXO2r57w7RpoGfGpi05Tu7ISEv2.P4mL/u"], ["updated_at", "2017-01-03 16:15:12.162263"], ["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
Started GET "/courses/298486374/selected" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mSemester Load (1.1ms)[0m  SELECT "semesters".* FROM "semesters"
  [1m[36mCourse Load (0.7ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1[0m  [["teacher_id", 369664257]]
  [1m[35mGrade Load (0.3ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 298486374], ["open", "f"]]
  [1m[36mGrade Load (1.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 113629430], ["open", "f"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  Rendered shared/_sidenav.html.erb (7.2ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "grades" ON "users"."id" = "grades"."user_id" WHERE "grades"."course_id" = $1[0m  [["course_id", 298486374]]
  Rendered courses/selected.html.erb within layouts/application (9.4ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 25ms (Views: 18.9ms | ActiveRecord: 4.1ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$WOcXOXKd0tWfQbFrarhnre/5qYNTETRftcmWfi.PkefvAMMplWsDa"], ["updated_at", "2017-01-03 16:15:12.203299"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.1ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 54ms (Views: 54.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (3.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 46ms (Views: 46.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.6ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.2ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.1ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (2.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 7ms (Views: 5.3ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$PLD01Flk.suKOycZgQjXcO2HbtLyBqVoZ..J7yV8lUoh3qBhHt/cO"], ["updated_at", "2017-01-03 16:15:12.437997"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-03 16:15:12.447520"], ["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (0.0ms)
  Rendered users/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (2.2ms)
  Rendered users/_form.html.erb (4.5ms)
  Rendered users/new.html.erb within layouts/application (4.5ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 14ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$CCi0BQAO7NuClBcot76IBewdahUojacmo13Fk/6YUbFgUNZ.dvwDS"], ["updated_at", "2017-01-03 16:15:12.493412"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$b1spb4hwXK06YyevKSuoKOkDbxPtqlb.WD0YXKmk5.fhUCR96887O"], ["updated_at", "2017-01-03 16:15:12.496420"], ["id", 430533587]]
  [1m[36m (1.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$TiJUlrBg1Ipj5Zyc8d7BVuiEA2VGnyUJvcdLTAycFvQHopCuC50nW"], ["updated_at", "2017-01-03 16:15:12.503684"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-04 00:15:12 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[35mNotice Load (0.0ms)[0m  SELECT "notices".* FROM "notices"  ORDER BY updated_at DESC
  Rendered notices/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 74ms (Views: 73.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', 't', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 980190962, 258535826, 457863342)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4002H', '高级软件工程', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 298486374, 369664257, 457863342)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4003H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 113629430, 369664257, 457863342)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "grades"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "grades" ("grade", "created_at", "updated_at", "id", "course_id", "user_id") VALUES (60, '2017-01-03 16:17:32', '2017-01-03 16:17:32', 573891180, 980190962, 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 160624384, 298486374, 430533587)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 897771008, 113629430, 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 275203981, 980190962, 673255333)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 660633374, 980190962, 522600246)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 1047078566, 980190962, 103771790)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 158209585, 980190962, 824729113)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 386565014, 980190962, 793562046)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 537768711, 980190962, 407632687)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 956621503, 980190962, 21146263)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 235131434, 980190962, 910531074)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 515690427, 980190962, 653952915)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 700186416, 980190962, 301840136)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 545121052, 980190962, 368053678)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 393925521, 980190962, 586628415)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 242450997, 980190962, 1006529671)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 963949220, 980190962, 217668626)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 655369987, 980190962, 312330677)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 269948824, 298486374, 630913318)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 152978988, 298486374, 1016309918)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 1041856187, 298486374, 194287625)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 782658350, 298486374, 455837084)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 430005183, 298486374, 741127441)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 189837533, 298486374, 1054695019)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 1012367438, 298486374, 165310208)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 626971126, 298486374, 282279748)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 307880289, 298486374, 668209107)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 205354182, 298486374, 967875188)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 993674327, 298486374, 246917865)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 573773295, 298486374, 398392157)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 355739002, 298486374, 549047244)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 93010155, 298486374, 805754461)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 306938270, 113629430, 667316012)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 625783055, 113629430, 281108417)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 1011212471, 113629430, 164105733)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 188928034, 113629430, 1053769364)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 354829701, 113629430, 548121395)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 572618006, 113629430, 397188008)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 992486574, 113629430, 245746204)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 204411961, 113629430, 966982283)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 479201708, 113629430, 689825566)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 731330881, 113629430, 505075599)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 487200606, 113629430, 679999984)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 705505229, 113629430, 528533883)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 855930481, 113629430, 109680835)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:17:32', '2017-01-03 16:17:32', 67323622, 113629430, 831432788)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 980190962)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 521374680)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 457863342)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (1.3ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$iJ2QonJUW7PKquRXcarFyubL13zGkgf1DyBAf0cUjqOk4BCUqYuEe', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 762146111)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$h9ATL4e1cnqlsfIyDLyrEef0rG7qSBxEzy2UjDagcDDOaBwaUvK3.', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$zGRnGF/SEW49FZz35nv2COR3RTdu8pMfU2ZqS4sjosPIrUXvxrj/y', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 369664257)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('胡伟武', 'teacher5@test.com', 't', '计算机与控制学院', '$2a$04$LtFpOsl0jz2pjn5SSb1/g.mE/kDbuuLRyyWCOoTBjrtZz6bQMAYKC', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 258535826)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user0', 'user0@example.com', '计算机与控制学院', '$2a$04$VR/PYCKwGWy4AQZUUJAXZuB.I3erwRjq1cGXZz3LfOsqoeBjuKrfe', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 673255333)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user1', 'user1@example.com', '计算机与控制学院', '$2a$04$U.TO/sPWnJKw2riNBuCTiut.ESr1H7nOjKlquK5TxSQDbCWSRiq8a', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 522600246)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user2', 'user2@example.com', '计算机与控制学院', '$2a$04$VrRYjWAn1MZYXa16S06QFeprPoW/VRAPbm73B48IMaRUfbzmK8hMa', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 103771790)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user3', 'user3@example.com', '计算机与控制学院', '$2a$04$wEUkitb2Op1IU0WpR645EOKecwQbbd281YFbB70mCnFH642qrW9uO', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 824729113)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user4', 'user4@example.com', '计算机与控制学院', '$2a$04$.VadIxCObRisgDq0Qq.doulDDbTIDHo3NFTY0fzOO/aEw30bhZ41.', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 793562046)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user5', 'user5@example.com', '计算机与控制学院', '$2a$04$6imbsq6fm/HjS67Kwk7qjOejF.564Svx17oh0e/amuwZBuvtXYhTO', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 407632687)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user6', 'user6@example.com', '计算机与控制学院', '$2a$04$sbF4UiRB9a50DCpuW4Xj1uOXD0Gvd7IZZXqRqjW/9E65jMNMM7y0.', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 21146263)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user7', 'user7@example.com', '计算机与控制学院', '$2a$04$.pdNsVA9S92OtJLIJL2cHO8DlhE/ZnIEbbQWoGFAkat/qcPVlPsbe', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 910531074)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user8', 'user8@example.com', '计算机与控制学院', '$2a$04$vrBpvJGHCFUPz6iId8apAeYi0E3NJ5Z0gTF4U/2Feqmci.qBnZXHW', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 653952915)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user9', 'user9@example.com', '计算机与控制学院', '$2a$04$Ji/BTd9cKTpQNjpSG2Jd5e5lpk8yPjw5333Gk85bkA4o6HlPHVVNG', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 301840136)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user10', 'user10@example.com', '计算机与控制学院', '$2a$04$b9JPQP.VOjZUaWAOJsThl.RdNJJQUcAhZk/lDCZqk5LUe0UfvE0GS', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 368053678)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user11', 'user11@example.com', '计算机与控制学院', '$2a$04$mCq6CkRqccpQdbjV/ThGnevr4G8QniOl.M.rMCbeWv/zapW2dRlQS', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 586628415)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user12', 'user12@example.com', '计算机与控制学院', '$2a$04$NB6oYh0/2/iv/mqOdd0KS.iWT3B37k7buFo7NEOQYcMuitMgloa8S', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 1006529671)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user13', 'user13@example.com', '计算机与控制学院', '$2a$04$HoSZmBqNYX2pvWjBdsd8e.i2ixrYoohT5Qmi.t9.Qz6BonOqGx4Aa', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 217668626)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user14', 'user14@example.com', '计算机与控制学院', '$2a$04$W2bb64/Vi0vrH1qwO6EixuA5v6Z1JA.zgsx0UIpmZcR7MbdIH4d7y', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 312330677)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user15', 'user15@example.com', '计算机与控制学院', '$2a$04$QmbFylICPr2Nlm46AhhQruSA6Fmw9tLZF3Bil5k9BdKoqDZH8i5tm', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 630913318)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user16', 'user16@example.com', '计算机与控制学院', '$2a$04$WGm.Z9A8dqiuJfmrZqC0kO1lPUzO4Xmvw4ok6l4DaF1aKXKWMucyK', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 1016309918)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user17', 'user17@example.com', '计算机与控制学院', '$2a$04$5.xsO5wIZoq3yOlEJFKi5O1FqAVHflPFAOfKL0r/BwO6keRGu0136', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 194287625)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user18', 'user18@example.com', '计算机与控制学院', '$2a$04$DnYYHgm/fqQIKBMjLGIpGO75wYFVn1BCGxNLamzTMtIK9VTCUG2pG', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 455837084)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user19', 'user19@example.com', '计算机与控制学院', '$2a$04$7hJkLQTmmw1CneyjlEkcJ.YMfRcbyx3H6wLgh7WvPvK5MDh/2pCwK', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 741127441)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user20', 'user20@example.com', '计算机与控制学院', '$2a$04$YjffeA6Z7n7IUTEp0YfjHeJXNof/gMqBgbE1vaqA3NQxge6ZCtmqa', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 1054695019)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user21', 'user21@example.com', '计算机与控制学院', '$2a$04$y0GRAim9prYE6PCK6EeEQOZ6zFQoh0V9hCsvqw2wSu8hFqXo0YyQu', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 165310208)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user22', 'user22@example.com', '计算机与控制学院', '$2a$04$EJ1ghplI8kuRZXkKD27Htuihz3fkXxDgNZX6juTPjHhIvJ2iZrF0a', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 282279748)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user23', 'user23@example.com', '计算机与控制学院', '$2a$04$Co3eHjCTGsYVObfjRx2zoOomrBz5bIo0EBCKcYlHkqh3UbkZLWjnm', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 668209107)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user24', 'user24@example.com', '计算机与控制学院', '$2a$04$G8WZ70OlLbzqeriw7gJCZu5UBHq8pJY1ETQC5xrLSEG4UIlPlCxYK', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 967875188)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user25', 'user25@example.com', '计算机与控制学院', '$2a$04$9bbNwlaztVPWrL8TZ0bZieomHu8Cas3jVmZWmLgqX7a3sm4s4NHJ2', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 246917865)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user26', 'user26@example.com', '计算机与控制学院', '$2a$04$8yxLJ3tYO3CgVIaWZ02vrOuLWfOLsuoAkF8SkFmqnUzvveg27bEHK', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 398392157)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user27', 'user27@example.com', '计算机与控制学院', '$2a$04$zoIOqZo1fcstgl0iPMygCuE4LjPQgilr2al155uarF4nAHzqPGxXe', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 549047244)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user28', 'user28@example.com', '计算机与控制学院', '$2a$04$nc2izPlbakugmaB0HslV4.VmNEtxz8NrJopAf1lK8ejKftiwgJxGe', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 805754461)
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user29', 'user29@example.com', '计算机与控制学院', '$2a$04$jCLKRSUrzaSg937KqmdPFOutk4gumFL1P5Fbpmgx31yZfcl9EU.4e', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 117565134)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user30', 'user30@example.com', '计算机与控制学院', '$2a$04$typsh6RyunN9IhBmPQZdyeQBz89JETSA58vQdZF2OOdDBR1nBVWHa', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 667316012)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user31', 'user31@example.com', '计算机与控制学院', '$2a$04$39Mh9/IBOxp9dQDHtlAlAu2p8IfhbtyOPXZ9iiTd8dNmSZ1uZhabe', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 281108417)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user32', 'user32@example.com', '计算机与控制学院', '$2a$04$oFUIYQo/WvQQLy6ZcDT94edlCIxTkmXUREbeTEiNdRp51WBaTlvti', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 164105733)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user33', 'user33@example.com', '计算机与控制学院', '$2a$04$fLAfge3tsPnXb4bEbgNPC.kTvj1x5bzJFcOblt2Y/nikfEez0Zsy6', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 1053769364)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user34', 'user34@example.com', '计算机与控制学院', '$2a$04$/KDrqyiTlljEt3h6JBjlruqcR7br20VsUPW7LOAK0HWXWooGsEW4e', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 548121395)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user35', 'user35@example.com', '计算机与控制学院', '$2a$04$ZVwyx1evwH9UEwKd5KeNGej4Wr6z.HPxgFX9eJM55llVH0HjnYDve', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 397188008)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user36', 'user36@example.com', '计算机与控制学院', '$2a$04$LOyd6iQwTCXLrh3TaaPb0eh4QDh.Jjs8atjn0oai2GjCwOv3dFmJy', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 245746204)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user37', 'user37@example.com', '计算机与控制学院', '$2a$04$fdGY5yXJSNPDQ0XKte7N1eTTKRvY8F96gsu66WJxUEJ60KRZ9tDPe', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 966982283)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user38', 'user38@example.com', '计算机与控制学院', '$2a$04$PvHg1QxarH7ISusxFLjLgOeDOg/njnyyIQmlDB6iGAgpl1.T5dFHG', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 689825566)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user39', 'user39@example.com', '计算机与控制学院', '$2a$04$48bmoijVIjqXRDAiIZnChuYvCP4Lf152GuG6TMgD.vyofBCsUQ9Aa', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 505075599)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user40', 'user40@example.com', '计算机与控制学院', '$2a$04$39tmLcSiQ/qGs46YG0kDaO1gq43vhDw8lrDfEhFVN8NmRWvdibMJW', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 679999984)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user41', 'user41@example.com', '计算机与控制学院', '$2a$04$UyP5SIFQ860Yf9cUU.mBbO50l1O7SU8jCJ0Z3.XreUVVFXdwrdpJK', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 528533883)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user42', 'user42@example.com', '计算机与控制学院', '$2a$04$RUYfamYV6x72LPEvq.lCpuPzPheMXyHrFqljtZ9AtM4Qnf1FAINcy', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 109680835)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user43', 'user43@example.com', '计算机与控制学院', '$2a$04$bdmdN26.umn9Tn1Xk9GQbeMyK5/Fs9bAlLWf5b05J6Nn3oxP7084m', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 831432788)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user44', 'user44@example.com', '计算机与控制学院', '$2a$04$c7cdOX3kydtQkLmOBK3e9uacEOwv/db77B52JEFQVf52wRfERUwuC', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 803880441)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user45', 'user45@example.com', '计算机与控制学院', '$2a$04$52QgP38p/8IrxTPVS2B.I.v2svV16tKGjA2m3Crn5h0iICHKM9ZDq', '2017-01-03 16:17:32', '2017-01-03 16:17:32', 418188644)[0m
  [1m[35m (13.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$bInGOKGQH4Zq8u.0OXV3EeSiYxYwX./zJmZKLRfCfilEnGbE0NbMi"], ["updated_at", "2017-01-03 16:17:33.043517"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$kSf/ZdVQTENGLQmTINcHdOW987wzNRDHNcqMbuVyMlQ9liMMqNiQ."], ["updated_at", "2017-01-03 16:17:33.056407"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$iwXw4pvQU3aigVoleXfG/eeIIuRoJmv9cDO1I0odfG/PXDTo5D.EK"], ["updated_at", "2017-01-03 16:17:33.080888"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.5ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', 't', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 980190962, 258535826, 457863342)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4002H', '高级软件工程', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 298486374, 369664257, 457863342)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4003H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 113629430, 369664257, 457863342)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "grades"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("grade", "created_at", "updated_at", "id", "course_id", "user_id") VALUES (60, '2017-01-03 16:20:48', '2017-01-03 16:20:48', 573891180, 980190962, 430533587)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 160624384, 298486374, 430533587)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 897771008, 113629430, 430533587)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 275203981, 980190962, 673255333)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 660633374, 980190962, 522600246)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 1047078566, 980190962, 103771790)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 158209585, 980190962, 824729113)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 386565014, 980190962, 793562046)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 537768711, 980190962, 407632687)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 956621503, 980190962, 21146263)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 235131434, 980190962, 910531074)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 515690427, 980190962, 653952915)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 700186416, 980190962, 301840136)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 545121052, 980190962, 368053678)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 393925521, 980190962, 586628415)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 242450997, 980190962, 1006529671)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 963949220, 980190962, 217668626)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 655369987, 980190962, 312330677)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 269948824, 298486374, 630913318)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 152978988, 298486374, 1016309918)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 1041856187, 298486374, 194287625)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 782658350, 298486374, 455837084)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 430005183, 298486374, 741127441)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 189837533, 298486374, 1054695019)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 1012367438, 298486374, 165310208)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 626971126, 298486374, 282279748)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 307880289, 298486374, 668209107)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 205354182, 298486374, 967875188)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 993674327, 298486374, 246917865)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 573773295, 298486374, 398392157)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 355739002, 298486374, 549047244)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 93010155, 298486374, 805754461)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 306938270, 113629430, 667316012)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 625783055, 113629430, 281108417)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 1011212471, 113629430, 164105733)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 188928034, 113629430, 1053769364)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 354829701, 113629430, 548121395)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 572618006, 113629430, 397188008)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 992486574, 113629430, 245746204)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 204411961, 113629430, 966982283)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 479201708, 113629430, 689825566)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 731330881, 113629430, 505075599)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 487200606, 113629430, 679999984)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 705505229, 113629430, 528533883)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 855930481, 113629430, 109680835)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-03 16:20:48', '2017-01-03 16:20:48', 67323622, 113629430, 831432788)
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 521374680)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 457863342)
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$EQ6MaPAv/PhaoMhNVOTOreDE91zV755z4GYKdsbOTFXmdFXR6hlTS', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 762146111)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$.suxYG9VHYh.8UlxXtF4vete1rrneUv7WGvvO.4K6WiVjlV6S3gAO', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 430533587)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$QsVkbeAFM3lgzsIMbTPTnOXYQckGd241UblFTB1a2dDyPLNtg/jMW', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 369664257)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('胡伟武', 'teacher5@test.com', 't', '计算机与控制学院', '$2a$04$ll17xB4ZIC93rrbdpCBosuglN82KnuYVxKQmDU7ErgfKe0kQ2yV2K', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 258535826)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user0', 'user0@example.com', '计算机与控制学院', '$2a$04$pMjM9GYZapVF.1ynZGy5J.Bi4riI2SaKdtvbPGuMMLb8nyhFP8y/2', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 673255333)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user1', 'user1@example.com', '计算机与控制学院', '$2a$04$KskfvQEkpSSON8fEjOawze8SjziLcylraW/Z7aAjDVj7p0r1xzdvK', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 522600246)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user2', 'user2@example.com', '计算机与控制学院', '$2a$04$7yMtCGTjRp9uHn5gw6F2g.RfIiBUkO.Nkzpvn5sG4ajmpeorenWN6', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 103771790)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user3', 'user3@example.com', '计算机与控制学院', '$2a$04$E3Br4rs16Fe6smzQ5GffCOnGzwewD2afxNlJxQGC5fCyMlcnFINVK', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 824729113)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user4', 'user4@example.com', '计算机与控制学院', '$2a$04$hgU/lDXO37mijQRGQEysTehtcDjhOAUKk4HKjJdwafoZJAlBOHexS', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 793562046)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user5', 'user5@example.com', '计算机与控制学院', '$2a$04$ErTmu7JnJ7VMfZdCy6FNb.s5bYhgvWhCbR/q4UNLizdJ2mO2pFryq', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 407632687)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user6', 'user6@example.com', '计算机与控制学院', '$2a$04$Y4i9FRNM7qzznk3P./PURuHt18QibGNI7nwBrcqk9WRjik6/PqAfu', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 21146263)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user7', 'user7@example.com', '计算机与控制学院', '$2a$04$RsQ0Vddyus5ZoGdIoiDh4OYuD4wesMPWhiUIa8/I7toWYYkqrsJMq', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 910531074)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user8', 'user8@example.com', '计算机与控制学院', '$2a$04$ecdMJ.D23uFFhqHiYHmmDeH/FZ2QoXaBNzSRJyZzpcNTGZXMvrBSK', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 653952915)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user9', 'user9@example.com', '计算机与控制学院', '$2a$04$TRlEh2tQh7aqbolkFhBg8eRCFqW96m47LopGsZQ28/hXijuyHjv4K', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 301840136)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user10', 'user10@example.com', '计算机与控制学院', '$2a$04$JVq1ike/Sq.WlS4fF.KBWu.B3hhxgnuFcc.JCP2EWvmLF4/4VDsxe', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 368053678)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user11', 'user11@example.com', '计算机与控制学院', '$2a$04$IWWngi3Ijp4aT9mGvKKjIuCmN.X8X4dCFEG1ZaJk0B7zr387QOJ9a', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 586628415)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user12', 'user12@example.com', '计算机与控制学院', '$2a$04$artMeJ9L84PqTe2Y4YCQ5.XK5QHQSlNrmLByx1O6/dIVqt1uRUjma', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 1006529671)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user13', 'user13@example.com', '计算机与控制学院', '$2a$04$.D0MFYR/F3n6SG34N5KjNe9J0il0Q5bzxpb6Tw6uVnXMlAFlAmfqS', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 217668626)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user14', 'user14@example.com', '计算机与控制学院', '$2a$04$gjCMg1HaO96889GGBLT/OeKFfa7t64pb1NWJwQmtGi90W/YQU.JuK', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 312330677)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user15', 'user15@example.com', '计算机与控制学院', '$2a$04$C7GXazEGEsrR7xfXKqIOwegULw.SdgqJa7ucXY7Td8BIVw.Vix7f.', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 630913318)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user16', 'user16@example.com', '计算机与控制学院', '$2a$04$/yDiUqKr2j8Lx9gKkbr1UOZLB4cDj4HrOIFqE8awWG4gEBZlRRpQC', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 1016309918)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user17', 'user17@example.com', '计算机与控制学院', '$2a$04$eOb1XxwhnxmM2LNo/q15fOuj1upYyVyAeUxx0WTVjS4.sMwmtr1bW', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 194287625)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user18', 'user18@example.com', '计算机与控制学院', '$2a$04$m7Cd8wSheD6ZfPpUUS/QeOADCegfnGOiQjfRPfjPHg/VXtTwcEI0e', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 455837084)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user19', 'user19@example.com', '计算机与控制学院', '$2a$04$XbhRMfrK1/rt3LUlJiv2OOrK6CJP0hOjlhcVgKAB3WfpAnr.6UCxG', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 741127441)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user20', 'user20@example.com', '计算机与控制学院', '$2a$04$UYVGq3zlgkqrsPqw3/yokuGeyFrPIJQ1tWGqRGGXn3Pkq216VeDfa', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 1054695019)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user21', 'user21@example.com', '计算机与控制学院', '$2a$04$zSWnGVGVtzM1Waphun9W3e9hqQMaKSZRJ1AfdRkZhZwAi0L3dmLIS', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 165310208)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user22', 'user22@example.com', '计算机与控制学院', '$2a$04$/BSwTjHFzXyyuAxkee4r3Ol4yEf1JR/9fDoHCNDnosSuhSPcmDPyS', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 282279748)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user23', 'user23@example.com', '计算机与控制学院', '$2a$04$p6uG0ysg8eGsmtHADIsNQuOfdk98EhejluSiebZfVBhGWp5Mqxrdq', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 668209107)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user24', 'user24@example.com', '计算机与控制学院', '$2a$04$HSChFyCCt23RodoZ9hhy4egTB99II6sBYeyuT6zKW.BhH.n4Pfjhe', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 967875188)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user25', 'user25@example.com', '计算机与控制学院', '$2a$04$kXL5VBuwBwN32rLX0wKVg.js9Fp8l/npFCxbd7Jloqexat/nDYwdG', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 246917865)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user26', 'user26@example.com', '计算机与控制学院', '$2a$04$RdcfrNuQO0zCDdO.rMN9AuzCm4ELA6u.4zbMlZiAyeul2t1Epauyy', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 398392157)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user27', 'user27@example.com', '计算机与控制学院', '$2a$04$9T3wc7JRbThkC45rcJiCsODsQwDvqIgTNf7rP/Fn.RQfLCXIzlrU.', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 549047244)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user28', 'user28@example.com', '计算机与控制学院', '$2a$04$JKyOG9yOHD4QI1r7.r5/4eveCz02tu8XdMc7kaRuWy.yvhLTtB6R6', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 805754461)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user29', 'user29@example.com', '计算机与控制学院', '$2a$04$jvsC/R/RxUO4TwXMOR2AGuVPsv4MWuXcH5Ik0ZV1bIpGjJCR5Jsu2', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 117565134)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user30', 'user30@example.com', '计算机与控制学院', '$2a$04$NE76BAA1dc3geq84x/CFDecxN6nGsYIZC5MBTgIwFDRPD3/DFo2MC', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 667316012)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user31', 'user31@example.com', '计算机与控制学院', '$2a$04$VFI25IDJpJp/FI/ap3EFQOC.NqLvQn2FYMuNkVG8uBkwfLZTlXgGG', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 281108417)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user32', 'user32@example.com', '计算机与控制学院', '$2a$04$5TzD2IZWVk/Lh6Jr6zsaq.Q/lAMIt2dc1g2VsrJXyT9./k3SD06wO', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 164105733)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user33', 'user33@example.com', '计算机与控制学院', '$2a$04$OhYcJEeoFMrue0zxnSrar.isx97N477iIcnCaYKEdDqJqB55UKmPK', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 1053769364)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user34', 'user34@example.com', '计算机与控制学院', '$2a$04$GSfcGjyFq7P0ctafLDlE2eLvleSP1Cet8zWfhXsy6LzmaaXRJFNu2', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 548121395)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user35', 'user35@example.com', '计算机与控制学院', '$2a$04$Oe4J7iaacJ1b/gUvk2hqWuMyUgzNdaujg.1Z1LVjQUOW1jSZYRfLe', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 397188008)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user36', 'user36@example.com', '计算机与控制学院', '$2a$04$HbWvB8aUE35r9uOP3shqfeDtGvPQy7kRBuXhMvPspDzJoxLLW2XHe', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 245746204)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user37', 'user37@example.com', '计算机与控制学院', '$2a$04$9hK.AqRko/aPeeuPpCFzg.AZecbJ65ki6HOAPmKPJ6oAPQreAEZNS', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 966982283)[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user38', 'user38@example.com', '计算机与控制学院', '$2a$04$J0rX.mkLF2Q2QU.x9feop.iHvDUl74ufm/Ry8MqIi9And.SX9WDNG', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 689825566)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user39', 'user39@example.com', '计算机与控制学院', '$2a$04$G4tSiWRDLDTtkWc9f68FtepybGB0SOBTayV3Bk/219cgtA.8Ym/Um', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 505075599)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user40', 'user40@example.com', '计算机与控制学院', '$2a$04$EdyW9LSY0eHzWsBIEe2NUebwJRtpGqBKZxoHkmkhOUX.Fy1VymZkO', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 679999984)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user41', 'user41@example.com', '计算机与控制学院', '$2a$04$mylfYEZkIaiay94aFNtuO.ojPOFZZcLDfH9CzbPhjPAyqaf0pey8y', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 528533883)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user42', 'user42@example.com', '计算机与控制学院', '$2a$04$Ot4642TtIcdDS/fALQ7yw.CcFrfSXdKnJEtJvxZHdp4NC.QYgDYcK', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 109680835)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user43', 'user43@example.com', '计算机与控制学院', '$2a$04$EQ8En32335oDvkqR5Gd50OG4ErE50gG763XDIqdQ4HZDl/MvmxmS.', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 831432788)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user44', 'user44@example.com', '计算机与控制学院', '$2a$04$DNMb0LqkOS/GKUrVuzWpdeHOF.B2BKQaoNh.yR3S9c36h3okidEia', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 803880441)
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user45', 'user45@example.com', '计算机与控制学院', '$2a$04$q.nXbb1pYTV4.EuAAKqM1OQkyykukdZG7oUTxe91JbvxfTFk6Gl56', '2017-01-03 16:20:48', '2017-01-03 16:20:48', 418188644)[0m
  [1m[35m (13.2ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-04 00:20:48 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (2.0ms)
  Rendered users/_form.html.erb (306.3ms)
  Rendered users/new.html.erb within layouts/application (321.8ms)
  Rendered layouts/_header.html.erb (4.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.1ms)
Completed 200 OK in 1094ms (Views: 1079.1ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered shared/_error_messages.html.erb (2.1ms)
  Rendered users/_form.html.erb (4.0ms)
  Rendered users/new.html.erb within layouts/application (4.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 20ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[35mNotice Load (0.0ms)[0m  SELECT "notices".* FROM "notices"  ORDER BY updated_at DESC
  Rendered notices/index.html.erb within layouts/application (5.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 54ms (Views: 54.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$5nLCRwPKdXfN3bo23jG1w.scPmr/us1SOz/nW4UF6MKD1Ep0Hxqua"], ["updated_at", "2017-01-03 16:20:50.182134"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 11ms (ActiveRecord: 0.5ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (2.0ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 19ms (Views: 15.4ms | ActiveRecord: 1.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$.G3aFrErbPzXGYuoLM.m/uOtlWC0sId9XwqMUCLgTgnsqunVl82bO"], ["updated_at", "2017-01-03 16:20:50.228070"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.8ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.0ms | ActiveRecord: 0.5ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  [1m[35m (0.8ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  UPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-03 16:20:50.242776"], ["id", 762146111]]
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 3.4ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (6.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 49ms (Views: 48.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (2.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 44ms (Views: 43.4ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.1ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (1.0ms)
Completed 200 OK in 3ms (Views: 2.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$VL2n9EGYRImWmkBUdNgqeum6zojkcdoHBBuOdwT5tXdkWc4ZFiSPC"], ["updated_at", "2017-01-03 16:20:50.388640"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-03 16:20:50.395657"], ["id", 430533587]]
  [1m[36m (1.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 5ms (ActiveRecord: 2.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.5ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 26ms (Views: 26.1ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 2ms (Views: 2.6ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$ZBFR7mhJ5PqIEIlNjr8VvevztoRm35hC6iF4Kss/LRMjVeCCByC0m"], ["updated_at", "2017-01-03 16:20:50.472203"], ["id", 430533587]]
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.9ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.5ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (2.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$7wjC2xqyv.ObETBaG/QuCeCp6/frY.ncK3CXDEh84qjonArdfHRBO"], ["updated_at", "2017-01-03 16:20:50.508027"], ["id", 430533587]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$60ZhgkGYx1sEb.PTTXzmXu/iJle7sPJFc9RnWj//v.iNXyVPVym06"], ["updated_at", "2017-01-03 16:20:50.511917"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$TqNWV/7sJ4cHJNHIkiv0jOpwRT/Nv2pl8BoDhbCvKEw4sf5jtaQAa"], ["updated_at", "2017-01-03 16:20:50.520442"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$iF74strJkvgweJkQICGYoOcq7PIZ/zAWPu4pdJaEx3aLJGwmdNYMm"], ["updated_at", "2017-01-03 16:20:50.555239"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 1.0ms)
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (1.8ms)
  Rendered users/new.html.erb within layouts/application (2.8ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 5ms (Views: 4.5ms | ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.8ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.0ms)[0m  BEGIN
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$/RsC3v6IS1MYfaF9XZR3b.a7dsKc9wPT8tSg.sKrnhw/lTQFuQnWS"], ["updated_at", "2017-01-03 16:20:50.596767"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$WzWkgsZX0h.UtiGoQ5WOA.0cr9MVd3jR21F5zzjpyseBc0MDohg0C"], ["updated_at", "2017-01-03 16:20:50.616828"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (1.0ms)
  Rendered layouts/_header.html.erb (1.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 4ms (Views: 4.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_chart_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_select_course_when_not_logged_in
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.8ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (1.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/select" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------
CoursesControllerTest: test_should_get_semester_by_teacher_not_student
----------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (1.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$o.37u08wPDXIh6upbKXa4.3echfvMgyNqncJ6p74dRJMKtnCmbMrK"], ["updated_at", "2017-01-03 16:20:50.687075"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
Started GET "/courses/762146111/semester" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (1.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 1.1ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-03 16:20:50.696030"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$dKLwwayQX85gEWuQp5U2/ulTiMeJdi65TQAbRiMn/MHThTqJTeEU6"], ["updated_at", "2017-01-03 16:20:50.704193"], ["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.6ms)
Started GET "/courses/369664257/semester" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"369664257"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  [1m[35mCourse Load (0.0ms)[0m  SELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1  [["teacher_id", 369664257]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 298486374], ["open", "f"]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 113629430], ["open", "f"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  Rendered shared/_sidenav.html.erb (21.1ms)
  [1m[35mCourse Load (0.6ms)[0m  SELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1 AND "courses"."semester_id" = 369664257  [["teacher_id", 369664257]]
  Rendered courses/semester.html.erb within layouts/application (33.9ms)
  Rendered layouts/_header.html.erb (0.5ms)
  Rendered layouts/_content.html.erb (0.5ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 102ms (Views: 85.5ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_quit_course_when_not_logged_in
-------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/quit" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_semester_when_not_logged_in
----------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (1.1ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (1.2ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/semester" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
CoursesControllerTest: test_should_get_new_by_teacher_not_student
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$rUslqkfSA9EILDcP9l/VbuEIzSx5iGrK53qbRPc.NouiPGV1eODdW"], ["updated_at", "2017-01-03 16:20:50.845709"], ["id", 762146111]]
  [1m[35m (1.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
Started GET "/courses/new" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by CoursesController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-03 16:20:50.862342"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$kqIw.qO3Sw.THyGZjEBiU.P2R8q9MwS7aC9yuTxEftty1sIqtvozi"], ["updated_at", "2017-01-03 16:20:50.871546"], ["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 1.1ms)
Started GET "/courses/new" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by CoursesController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  [1m[35mCourse Load (1.0ms)[0m  SELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1  [["teacher_id", 369664257]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 298486374], ["open", "f"]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 113629430], ["open", "f"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  Rendered shared/_sidenav.html.erb (8.0ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (34.7ms)
  Rendered courses/new.html.erb within layouts/application (54.2ms)
Completed 500 Internal Server Error in 65ms (ActiveRecord: 1.0ms)
  [1m[35m (1.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
CoursesControllerTest: test_should_not_get_new_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/new" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by CoursesController#new as HTML
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_timetable_course_when_not_logged_in
------------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/762146111/timetable" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by CoursesController#timetable as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_courses_when_not_logged_in
---------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by CoursesController#index as HTML
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_selected_when_not_logged_in
----------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/298486374/selected" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_get_selected_by_teacher_not_student
----------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:20:50 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$Qbogws0Ji6Wconov1UrW4.CHFfpX3f6bnEnwYKUK9TbuTXP/Dikem"], ["updated_at", "2017-01-03 16:20:51.003463"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.6ms)
Started GET "/courses/762146111/selected" for 127.0.0.1 at 2017-01-04 00:20:51 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.5ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:20:51 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2017-01-03 16:20:51.014494"], ["id", 762146111]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 1.2ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:20:51 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$PHaxOW2088fw81cifclC0.nT0HSQSpW6QNhZMJw5HxKRm9j8wX/nu"], ["updated_at", "2017-01-03 16:20:51.024128"], ["id", 369664257]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 6ms (ActiveRecord: 0.0ms)
Started GET "/courses/298486374/selected" for 127.0.0.1 at 2017-01-04 00:20:51 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  [1m[35mCourse Load (0.0ms)[0m  SELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1  [["teacher_id", 369664257]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 298486374], ["open", "f"]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 113629430], ["open", "f"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  Rendered shared/_sidenav.html.erb (8.0ms)
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "grades" ON "users"."id" = "grades"."user_id" WHERE "grades"."course_id" = $1  [["course_id", 298486374]]
  Rendered courses/selected.html.erb within layouts/application (12.0ms)
  Rendered layouts/_header.html.erb (0.9ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 37ms (Views: 25.0ms | ActiveRecord: 1.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
CoursesControllerTest: test_should_get_chart_by_teacher_not_student
-------------------------------------------------------------------
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:20:51 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$1yZTWjo733TnCC1cDMgWmuMlH4ShM9sB6MeKGRfx76fUNN0o1R/7e"], ["updated_at", "2017-01-03 16:20:51.083149"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.0ms)
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-04 00:20:51 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 00:20:51 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (1.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-03 16:20:51.094201"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 1.1ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 00:20:51 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$k7EeTBHm6N1Vw88YnkkTOevRDd1PSnSL/klS36ZnOYE77lTzXPNJm"], ["updated_at", "2017-01-03 16:20:51.103640"], ["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 7ms (ActiveRecord: 0.5ms)
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-04 00:20:51 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.5ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" INNER JOIN "grades" ON "users"."id" = "grades"."user_id" WHERE "grades"."course_id" = $1  [["course_id", 298486374]]
  [1m[36mSemester Load (1.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  [1m[35mCourse Load (0.6ms)[0m  SELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1  [["teacher_id", 369664257]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 298486374], ["open", "f"]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 113629430], ["open", "f"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  Rendered shared/_sidenav.html.erb (7.7ms)
  Rendered courses/chart.html.erb within layouts/application (8.7ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (1.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 26ms (Views: 20.7ms | ActiveRecord: 2.6ms)
  [1m[35m (0.9ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (1.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$E2bRJmcaVvwCz2jP/Xv4JecVUq0uyHf9cl93WRVAhfO0BDAf9Zefa"], ["created_at", "2017-01-03 16:20:51.140329"], ["updated_at", "2017-01-03 16:20:51.140329"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1[0m
  [1m[35mUser Exists (1.1ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1[0m
  [1m[35mUser Exists (0.8ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
CourseTest: test_exam_type_should_be_valid
------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_type_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_week_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.5ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------
CourseTest: test_class_room_should_be_valid
-------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[35mSemester Load (0.5ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_time_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------
CourseTest: test_credit_should_be_valid
---------------------------------------
  [1m[35mSemester Load (1.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------
CourseTest: test_name_should_be_valid
-------------------------------------
  [1m[36mSemester Load (1.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
----------------------------------------------
CourseTest: test_teaching_type_should_be_valid
----------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (15.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  ALTER TABLE "schema_migrations" DISABLE TRIGGER ALL;ALTER TABLE "users" DISABLE TRIGGER ALL;ALTER TABLE "courses" DISABLE TRIGGER ALL;ALTER TABLE "semesters" DISABLE TRIGGER ALL;ALTER TABLE "notices" DISABLE TRIGGER ALL;ALTER TABLE "grades" DISABLE TRIGGER ALL;ALTER TABLE "comments" DISABLE TRIGGER ALL
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (15.6ms)[0m  DELETE FROM "courses"
  [1m[36mFixture Insert (15.6ms)[0m  [1mINSERT INTO "courses" ("name", "course_code", "course_type", "teaching_type", "credit", "limit_num", "course_week", "course_time", "class_room", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('计算机体系结构', '091M4001H', '专业核心课', '课堂讲授为主', '60/3.0', NULL, '第2-20周', '周一(9-11)', '教1-107', '闭卷笔试', 't', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 980190962, 258535826, 457863342)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4002H', '高级软件工程', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 298486374, 369664257, 457863342)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "courses" ("course_code", "name", "course_type", "credit", "limit_num", "course_week", "course_time", "class_room", "teaching_type", "exam_type", "open", "created_at", "updated_at", "id", "teacher_id", "semester_id") VALUES ('091M4003H', '计算机网络', '专业核心课', '60/3.0', NULL, '第2-20周', '周五(2-4)', '教1-107', '课堂讲授为主', '闭卷笔试', 't', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 113629430, 369664257, 457863342)[0m
  [1m[35mFixture Delete (33.3ms)[0m  DELETE FROM "grades"
  [1m[36mFixture Insert (7.9ms)[0m  [1mINSERT INTO "grades" ("grade", "created_at", "updated_at", "id", "course_id", "user_id") VALUES (60, '2017-01-04 01:15:36', '2017-01-04 01:15:36', 573891180, 980190962, 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 160624384, 298486374, 430533587)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 897771008, 113629430, 430533587)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 275203981, 980190962, 673255333)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 660633374, 980190962, 522600246)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 1047078566, 980190962, 103771790)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 158209585, 980190962, 824729113)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 386565014, 980190962, 793562046)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 537768711, 980190962, 407632687)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 956621503, 980190962, 21146263)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 235131434, 980190962, 910531074)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 515690427, 980190962, 653952915)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 700186416, 980190962, 301840136)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 545121052, 980190962, 368053678)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 393925521, 980190962, 586628415)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 242450997, 980190962, 1006529671)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 963949220, 980190962, 217668626)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 655369987, 980190962, 312330677)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 269948824, 298486374, 630913318)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 152978988, 298486374, 1016309918)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 1041856187, 298486374, 194287625)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 782658350, 298486374, 455837084)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 430005183, 298486374, 741127441)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 189837533, 298486374, 1054695019)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 1012367438, 298486374, 165310208)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 626971126, 298486374, 282279748)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 307880289, 298486374, 668209107)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 205354182, 298486374, 967875188)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 993674327, 298486374, 246917865)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 573773295, 298486374, 398392157)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 355739002, 298486374, 549047244)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 93010155, 298486374, 805754461)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 306938270, 113629430, 667316012)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 625783055, 113629430, 281108417)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 1011212471, 113629430, 164105733)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 188928034, 113629430, 1053769364)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 354829701, 113629430, 548121395)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 572618006, 113629430, 397188008)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 992486574, 113629430, 245746204)[0m
  [1m[35mFixture Insert (15.7ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 204411961, 113629430, 966982283)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 479201708, 113629430, 689825566)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 731330881, 113629430, 505075599)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 487200606, 113629430, 679999984)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 705505229, 113629430, 528533883)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 855930481, 113629430, 109680835)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "grades" ("created_at", "updated_at", "id", "course_id", "user_id") VALUES ('2017-01-04 01:15:36', '2017-01-04 01:15:36', 67323622, 113629430, 831432788)
  [1m[36mFixture Delete (15.6ms)[0m  [1mDELETE FROM "notices"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 980190962)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "notices" ("title", "text", "department", "created_at", "updated_at", "id") VALUES ('MyString', 'MyText', 'MyString', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 298486374)[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "semesters"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年春季学期', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 521374680)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "semesters" ("info", "created_at", "updated_at", "id") VALUES ('2016年秋季学期', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 457863342)
  [1m[36mFixture Delete (15.6ms)[0m  [1mDELETE FROM "users"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "admin", "password_digest", "created_at", "updated_at", "id") VALUES ('彭兆卿', 'student1@test.com', 't', '$2a$04$aqsjVaWSETgHmaUwiGHQY.b3FN.vBaBxyXiiO0O.OoQmtfgqEBPhC', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 762146111)
  [1m[36mFixture Insert (15.6ms)[0m  [1mINSERT INTO "users" ("name", "email", "num", "major", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('金融通', 'rongtongjin@gmail.com', '201628015007', '计算机软件与理论', '软件研究所', '$2a$04$dPLJvlRCT.8eSvXYLep49.3i.5fNYsy5x9/3pmn000WSQCZ39Xi8.', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 430533587)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('罗铁坚', 'teacher4@test.com', 't', '计算机与控制学院', '$2a$04$ffYmWQl8NXj7TACxnJNCDeJrvG.uyYtwaxetYpJe8AJt4B4Udd.Xq', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 369664257)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "teacher", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('胡伟武', 'teacher5@test.com', 't', '计算机与控制学院', '$2a$04$Dsl5a4cXiy5Q.4P5HYxNuOH8gP4n0sSRrJ4nC0flxXFPGeOAitUda', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 258535826)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user0', 'user0@example.com', '计算机与控制学院', '$2a$04$vQ7srAmnHmV7REmMC1Orse3kM40fGFV62Nh4Fvu6yG7ug2DOamYLq', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 673255333)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user1', 'user1@example.com', '计算机与控制学院', '$2a$04$G1FYPE.zAwzql/VRFNa1u.q5aalmgUnFfcEFx737WMxQLJqUunz8m', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 522600246)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user2', 'user2@example.com', '计算机与控制学院', '$2a$04$WXk3LFiBLPnTu.Rayl9YV.5cg4u2CeBzsiJU6f2QL8xFA6evjppp2', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 103771790)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user3', 'user3@example.com', '计算机与控制学院', '$2a$04$EZSGsJaoGedNjcDBftVSx.WgZvFCCIT1iT6zMkoram7X2xSkMiwq6', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 824729113)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user4', 'user4@example.com', '计算机与控制学院', '$2a$04$OKKTwfHVYz3gVrXEVnLhhOs4HrYNkkrVFdh1Ujh.wUm4dUweikDMi', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 793562046)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user5', 'user5@example.com', '计算机与控制学院', '$2a$04$bpkgQQQ.hLblhe.GxsLr2.CgLnB7IoAMuWFdCXVuSIJvja6PbEsKe', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 407632687)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user6', 'user6@example.com', '计算机与控制学院', '$2a$04$GzeP1VGVQKQVpxeZeoXBCe2g.R2cBWcUGz8NCrONd3gFb1SQ3UYoW', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 21146263)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user7', 'user7@example.com', '计算机与控制学院', '$2a$04$5Gr9P1Plr3GDzZLMwdXYxu4uXMD3OesYHFc3XzKTajWZWOitFSkw.', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 910531074)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user8', 'user8@example.com', '计算机与控制学院', '$2a$04$Y6nmnRaFGZDT0bPI/VkqBOFmxEnSWhbwkP68nY7YGt95IitE0U8hi', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 653952915)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user9', 'user9@example.com', '计算机与控制学院', '$2a$04$EB5iYIMW4mk.RtS4jRJ9tei2xyYfBf3kX1aYUBW0O.wa/1vqH/cBO', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 301840136)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user10', 'user10@example.com', '计算机与控制学院', '$2a$04$IV8QtU9F3RCz2hpH29HwQ.ldBMIpiMvXCaDGZMVdJm9osdmER23Fy', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 368053678)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user11', 'user11@example.com', '计算机与控制学院', '$2a$04$pvRiZl4y1/T/lx1vGnwGhOay56hte.pdyvd6N5F/wwu6wtLZT5Nse', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 586628415)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user12', 'user12@example.com', '计算机与控制学院', '$2a$04$9otEJFrOzOy3/DKReAjX8.UKmyrqnQkkJPxN5/VKonB0JIuXdrNKi', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 1006529671)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user13', 'user13@example.com', '计算机与控制学院', '$2a$04$GbPxZrNPeXl3ecLW4dA38OjDglEh/dJzHJg81lryQ.OioxME.xMwG', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 217668626)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user14', 'user14@example.com', '计算机与控制学院', '$2a$04$46JLsqsaIAfJ31v9h1BQZO8O3mS8yKrxR8M7goglhJECu/ooh9nXO', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 312330677)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user15', 'user15@example.com', '计算机与控制学院', '$2a$04$rydouvb8PxwdUPJ.oT63me4QhJnrdHLunag3eJujewadzG3ZPM8DO', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 630913318)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user16', 'user16@example.com', '计算机与控制学院', '$2a$04$e6ZcrJ4SrnUqy33.vQR1zesUPGG8OqxgdA1kE95wHMxtle6Mo.Ttu', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 1016309918)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user17', 'user17@example.com', '计算机与控制学院', '$2a$04$.Kdp3Ord7DM0mvo7tSZFieQFBGkDr.SpoVqST7d7FUF4p8LTdyxe.', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 194287625)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user18', 'user18@example.com', '计算机与控制学院', '$2a$04$cdnjxxUjrHG5OdJR10Tgre3wV4vzncQn3thEHk3rYset2Ry/.xLGa', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 455837084)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user19', 'user19@example.com', '计算机与控制学院', '$2a$04$Cq4zbBAm8lD2UcYWZa3c2e8DiNh/cYI4HIFSwXxu6SzBMHu/AjcbK', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 741127441)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user20', 'user20@example.com', '计算机与控制学院', '$2a$04$CGgWnVuv4wydXWMd8zwzK.RL9asKL3X/35Hyjc.ePa93xau5eGXpm', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 1054695019)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user21', 'user21@example.com', '计算机与控制学院', '$2a$04$gDMVtzT7bBrXxy0mKd9VUO.YyJ3HijwjWbPq2i73C2pCwLBI8GCDW', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 165310208)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user22', 'user22@example.com', '计算机与控制学院', '$2a$04$pBDbLs34Q3EH35TqGo/6teBv8eIz8kBpKOQIRged/yglLR47FY8KO', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 282279748)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user23', 'user23@example.com', '计算机与控制学院', '$2a$04$FltjNS2fQGSxQSKlxdxocukrkukSOUeKdJ3hELo6cZ.arvqiTNGWG', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 668209107)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user24', 'user24@example.com', '计算机与控制学院', '$2a$04$ta1WU198ZOWJ0ZnhVcu5.eKQ55rjM2vXdFnlg9ThBYIvMQYKlA6AK', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 967875188)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user25', 'user25@example.com', '计算机与控制学院', '$2a$04$aEDYHLYt5roMWafluCMnX.wiDaYtGLo/SmA4dAh05tm.ftMIdqBSu', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 246917865)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user26', 'user26@example.com', '计算机与控制学院', '$2a$04$mjpNCY83dryY2IFlKu0gK.8zJcraB3dx7zKBU7kYtk2WmFF6m.nJ.', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 398392157)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user27', 'user27@example.com', '计算机与控制学院', '$2a$04$a.dQfXhxpUHKGhotkT5gSeILLqCI8hDji9YPX6p7Tu28uwB5Z9C7q', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 549047244)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user28', 'user28@example.com', '计算机与控制学院', '$2a$04$H8J2YNWex1RR3y0v1rzRpeQvqSDoxmsJODFNfD3B54HhSWfE6Jbx2', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 805754461)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user29', 'user29@example.com', '计算机与控制学院', '$2a$04$yL8EkBw3hKr/aaN/t/X05.wQ7rqMrkC61nGDCqcDeUZGliy4kQzuS', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 117565134)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user30', 'user30@example.com', '计算机与控制学院', '$2a$04$hDWcPUsCTwERZ6QBmI11jOOkaHzhDx8xnKLbLDq14HojwqdlGWrs.', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 667316012)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user31', 'user31@example.com', '计算机与控制学院', '$2a$04$5DgVTyosn36RE9uZ9wI7XeRNNNcyAbu7iLaFkM8RUPjpB9yPysyty', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 281108417)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user32', 'user32@example.com', '计算机与控制学院', '$2a$04$KDH/Jn9AO.b06hfOOjJuTeOpnGZ2Igo1IdQg0/4PA557r3uxRTa3S', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 164105733)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user33', 'user33@example.com', '计算机与控制学院', '$2a$04$RRoAVlaUNMSWuzdFxUSzoenicvwcDgzu.n7d96pwdGHbU26USkc02', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 1053769364)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user34', 'user34@example.com', '计算机与控制学院', '$2a$04$RVt9EJcEfSum4RjIMoPUGOPUDlS8B44rFdwn5/g50LFJvg9pQNqMe', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 548121395)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user35', 'user35@example.com', '计算机与控制学院', '$2a$04$BtJmq2/lWUB2C5sQU89OaeAIjgRunj93oyjf3bMjvMGjxlYOF36Oi', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 397188008)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user36', 'user36@example.com', '计算机与控制学院', '$2a$04$66nIJU2ajyHGyYAh0qU.6eilLXyWQbjxXkHq4FGhDZb1X.mR38hi.', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 245746204)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user37', 'user37@example.com', '计算机与控制学院', '$2a$04$9ZW3Gy6TYChx3Bg5O2paou7CBgJa3KtzeInwZp1tElZnTUA.906t2', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 966982283)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user38', 'user38@example.com', '计算机与控制学院', '$2a$04$Qk.KNmRu7flaDz1KnR5q1emz9c.0kFYj6BPAlaMiPIHI8wkhKMnLe', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 689825566)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user39', 'user39@example.com', '计算机与控制学院', '$2a$04$vwLDSUbN/Ipu9phTWoQ8jOTKNLgQWQo0OrVKInjJRYKrSeUZgA9em', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 505075599)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user40', 'user40@example.com', '计算机与控制学院', '$2a$04$1Nv2nx2.HwYLRbCbGycz7.lKvXYIgtFEu9Gsl.cp1TjMgIdYGAAc.', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 679999984)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user41', 'user41@example.com', '计算机与控制学院', '$2a$04$n8IoIxsmIULwyYSXL7XBLusCeKn/zE6oSUuCKIP03jPporYv4eP1S', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 528533883)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user42', 'user42@example.com', '计算机与控制学院', '$2a$04$HQeQc80zAO7SdAX/6IaMGOOxpzdHu.tk3MYYZy.M8CcakkbiteKV2', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 109680835)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user43', 'user43@example.com', '计算机与控制学院', '$2a$04$ZnyDOTtAWafiKobEg4X4O.ydfrn6dwz5BoeSFBpZG79r2m7G1hS0q', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 831432788)[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user44', 'user44@example.com', '计算机与控制学院', '$2a$04$ix3lUKdqzdEl1c3NPWAB7uNxeq97z0ywnMKNNBP68FkPczy2CRssa', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 803880441)
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "users" ("name", "email", "department", "password_digest", "created_at", "updated_at", "id") VALUES ('user45', 'user45@example.com', '计算机与控制学院', '$2a$04$Sukmv3/6cTo0QzECIfOQk.R.cxLoFqWzQbaXnp8ZOFMAUtDsVskqC', '2017-01-04 01:15:36', '2017-01-04 01:15:36', 418188644)[0m
  [1m[35m (0.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mALTER TABLE "schema_migrations" ENABLE TRIGGER ALL;ALTER TABLE "users" ENABLE TRIGGER ALL;ALTER TABLE "courses" ENABLE TRIGGER ALL;ALTER TABLE "semesters" ENABLE TRIGGER ALL;ALTER TABLE "notices" ENABLE TRIGGER ALL;ALTER TABLE "grades" ENABLE TRIGGER ALL;ALTER TABLE "comments" ENABLE TRIGGER ALL[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------
CoursesControllerTest: test_should_get_selected_by_teacher_not_student
----------------------------------------------------------------------
  [1m[36mUser Load (15.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 09:15:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$w77G0rzvehZtJ8jJ9EGPje0MRhCPG.zvoZES1Mmo.DCS9XTWVwZ8i"], ["updated_at", "2017-01-04 01:15:36.460566"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 38ms (ActiveRecord: 0.0ms)
Started GET "/courses/762146111/selected" for 127.0.0.1 at 2017-01-04 09:15:36 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 09:15:36 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-04 01:15:36.495292"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 09:15:36 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$Y35e1aEttrD8dWFOCH7HgeTDyxI8n7pGJ9SxPGbYhooUPMph5PnsK"], ["updated_at", "2017-01-04 01:15:36.495292"], ["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/courses/298486374/selected" for 127.0.0.1 at 2017-01-04 09:15:36 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mSemester Load (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  [1m[36mCourse Load (1.0ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1[0m  [["teacher_id", 369664257]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 298486374], ["open", "f"]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 113629430], ["open", "f"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  Rendered shared/_sidenav.html.erb (81.1ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "grades" ON "users"."id" = "grades"."user_id" WHERE "grades"."course_id" = $1[0m  [["course_id", 298486374]]
  Rendered courses/selected.html.erb within layouts/application (131.2ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 1263ms (Views: 1200.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_timetable_course_when_not_logged_in
------------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/762146111/timetable" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by CoursesController#timetable as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_selected_when_not_logged_in
----------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/298486374/selected" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by CoursesController#selected as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_get_semester_by_teacher_not_student
----------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$JcDTrZE21H/TissnrxifzeHot174rwBdm8gLqM9BGv/0STEdg4qKq"], ["updated_at", "2017-01-04 01:15:37.792098"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/courses/762146111/semester" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1 WHERE "users"."id" = $2[0m  [["remember_digest", nil], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$rEq3n99sohY3OkWS01awi.xN21bc/4n2kwKMq/c8p4Q4ybHiTD.6W"], ["updated_at", "2017-01-04 01:15:37.807724"], ["id", 369664257]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/courses/369664257/semester" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"369664257"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mSemester Load (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1[0m  [["teacher_id", 369664257]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 298486374], ["open", "f"]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 113629430], ["open", "f"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  Rendered shared/_sidenav.html.erb (0.0ms)
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1 AND "courses"."semester_id" = 369664257[0m  [["teacher_id", 369664257]]
  Rendered courses/semester.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 32.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_chart_when_not_logged_in
-------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (15.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_courses_when_not_logged_in
---------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by CoursesController#index as HTML
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 1ms (ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_semester_when_not_logged_in
----------------------------------------------------------------------
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/762146111/semester" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by CoursesController#semester as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
CoursesControllerTest: test_should_not_get_new_when_not_logged_in
-----------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started GET "/courses/new" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by CoursesController#new as HTML
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (16.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------------
CoursesControllerTest: test_should_get_new_by_teacher_not_student
-----------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 980190962]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 298486374]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "student1@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$kEn.mdxDtySkDJdVzgXWJ.3yjzKOwKZpYNe3gkL//mJuVcy7GT5eK"], ["updated_at", "2017-01-04 01:15:37.892342"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/courses/new" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by CoursesController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2017-01-04 01:15:37.907969"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$9Ytfqa.DS2NkJVmacy7Eau1InDtsDwWysj5KS5TIDhpZRZ0t.5bkG"], ["updated_at", "2017-01-04 01:15:37.907969"], ["id", 369664257]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/courses/new" for 127.0.0.1 at 2017-01-04 09:15:37 +0800
Processing by CoursesController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mSemester Load (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1[0m  [["teacher_id", 369664257]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 298486374], ["open", "f"]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 113629430], ["open", "f"]]
  [1m[35mCACHE (0.0ms)[0m  SELECT "semesters".* FROM "semesters"
  Rendered shared/_sidenav.html.erb (15.6ms)
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered courses/_form.html.erb (533.0ms)
  Rendered courses/new.html.erb within layouts/application (648.8ms)
Completed 500 Internal Server Error in 664ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_quit_course_when_not_logged_in
-------------------------------------------------------------------------
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.5ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/quit" for 127.0.0.1 at 2017-01-04 09:15:38 +0800
Processing by CoursesController#quit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------------------
CoursesControllerTest: test_should_not_get_select_course_when_not_logged_in
---------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started GET "/courses/762146111/select" for 127.0.0.1 at 2017-01-04 09:15:38 +0800
Processing by CoursesController#select as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :student_logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
CoursesControllerTest: test_should_get_chart_by_teacher_not_student
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 980190962]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mCourse Load (0.0ms)[0m  SELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1  [["id", 113629430]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 09:15:38 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$O/m0Ab9b5HVAVNQYFREyhuXLSMT5NAozmSf.KW3pL4LUD5xGw96oK"], ["updated_at", "2017-01-04 01:15:38.593140"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-04 09:15:38 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :teacher_logged_in rendered or redirected
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 09:15:38 +0800
Processing by SessionsController#destroy as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", nil], ["updated_at", "2017-01-04 01:15:38.608768"], ["id", 762146111]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 09:15:38 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "teacher4@test.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$kRuW5LEhQe/PpqzkzYTiFe0mmDv7Uxd4qWNzvoA6MxZLP58jfDYEO"], ["updated_at", "2017-01-04 01:15:38.608768"], ["id", 369664257]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/courses/298486374/chart" for 127.0.0.1 at 2017-01-04 09:15:38 +0800
Processing by CoursesController#chart as HTML
  Parameters: {"id"=>"298486374"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  [1m[36mCourse Load (0.0ms)[0m  [1mSELECT  "courses".* FROM "courses" WHERE "courses"."id" = $1 LIMIT 1[0m  [["id", 298486374]]
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "grades" ON "users"."id" = "grades"."user_id" WHERE "grades"."course_id" = $1  [["course_id", 298486374]]
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  [1m[35mCourse Load (0.0ms)[0m  SELECT "courses".* FROM "courses" WHERE "courses"."teacher_id" = $1  [["teacher_id", 369664257]]
  [1m[36mGrade Load (0.0ms)[0m  [1mSELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2[0m  [["course_id", 298486374], ["open", "f"]]
  [1m[35mGrade Load (0.0ms)[0m  SELECT "grades".* FROM "grades" WHERE "grades"."course_id" = $1 AND "grades"."open" = $2  [["course_id", 113629430], ["open", "f"]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "semesters".* FROM "semesters"[0m
  Rendered shared/_sidenav.html.erb (0.0ms)
  Rendered courses/chart.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 25.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
UserTest: test_email_should_not_be_too_long
-------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------------------------------
UserTest: test_authenticated?_should_return_false_for_a_user_with_nil_digest
----------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------------
UserTest: test_password_should_be_present_(nonblank)
----------------------------------------------------
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
------------------------------
UserTest: test_should_be_valid
------------------------------
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------
UserTest: test_email_validation_should_accept_valid_addresses
-------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@foo.COM') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('A_US-ER@foo.bar.org') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('first.last@foo.jp') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('alice+bob@baz.cn') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------------------------------------------
UserTest: test_email_addresses_should_be_unique_and_the_uppercase_will_be_converted_to_lowercase
------------------------------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("name", "email", "password_digest", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["name", "Example User"], ["email", "user@example.com"], ["password_digest", "$2a$04$fRjqIEXjhjJpM89ZfDimFuqHjSkXj3PcS/z51uhzTZnlpN.ish6TS"], ["created_at", "2017-01-04 01:15:38.677795"], ["updated_at", "2017-01-04 01:15:38.677795"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('USER@EXAMPLE.COM') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------------------------
UserTest: test_email_validation_should_reject_invalid_addresses
---------------------------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example,com') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user_at_foo.org') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user.name@example.') LIMIT 1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar_baz.com') LIMIT 1
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('foo@bar+baz.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------
UserTest: test_password_should_have_a_minimum_length
----------------------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------
UserTest: test_email_should_be_present
--------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('     ') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UserTest: test_name_should_be_present
-------------------------------------
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserTest: test_name_should_not_be_too_long
------------------------------------------
  [1m[36mUser Exists (0.0ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@example.com') LIMIT 1[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------
SiteLayoutTest: test_homepage_layout_links
------------------------------------------
Started GET "/" for 127.0.0.1 at 2017-01-04 09:15:38 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 53ms (Views: 53.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
NoticesControllerTest: test_should_get_index
--------------------------------------------
Processing by NoticesController#index as HTML
  [1m[35mNotice Load (0.0ms)[0m  SELECT "notices".* FROM "notices"  ORDER BY updated_at DESC
  Rendered notices/index.html.erb within layouts/application (15.6ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 51.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------
CourseTest: test_credit_should_be_valid
---------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------
CourseTest: test_should_be_valid
--------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_type_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
CourseTest: test_name_should_be_valid
-------------------------------------
  [1m[35mSemester Load (0.5ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
--------------------------------------------
CourseTest: test_course_time_should_be_valid
--------------------------------------------
  [1m[36mSemester Load (0.5ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------
CourseTest: test_class_room_should_be_valid
-------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
CourseTest: test_exam_type_should_be_valid
------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------
CourseTest: test_course_week_should_be_valid
--------------------------------------------
  [1m[35mSemester Load (0.0ms)[0m  SELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1  [["id", 457863342]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------------
CourseTest: test_teaching_type_should_be_valid
----------------------------------------------
  [1m[36mSemester Load (0.0ms)[0m  [1mSELECT  "semesters".* FROM "semesters" WHERE "semesters"."id" = $1 LIMIT 1[0m  [["id", 457863342]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------------------
UsersEditTest: test_successful_edit_with_friendly_forwarding
------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 09:15:38 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$JAGREagGSTPAVYh9O7Jm2.hCkqDxCId2CkHq95T4rHeBxO00xGVtS"], ["updated_at", "2017-01-04 01:15:38.893594"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 09:15:38 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (15.6ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 85ms (Views: 66.0ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40bar.com&user%5Bname%5D=Foo+Bar&user%5Bpassword%5D=&user%5Bpassword_confirmation%5D=" for 127.0.0.1 at 2017-01-04 09:15:38 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@bar.com", "name"=>"Foo Bar", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@bar.com') AND "users"."id" != 762146111) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "name" = $1, "email" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["name", "Foo Bar"], ["email", "foo@bar.com"], ["updated_at", "2017-01-04 01:15:38.993929"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------
UsersEditTest: test_unsuccessful_edit
-------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Started POST "/sessions/login?session%5Bemail%5D=student1%40test.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"student1@test.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "student1@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$Z9SqdcOJ5vjUuFaC2tdyfeV/b1f4VsVcjbYQDv6ctCJX4tqu1SIga"], ["updated_at", "2017-01-04 01:15:39.009557"], ["id", 762146111]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "762146111"]]
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/edit.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 4.0ms | ActiveRecord: 0.0ms)
Started PATCH "/users/762146111?user%5Bemail%5D=foo%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by UsersController#update as HTML
  Parameters: {"user"=>{"email"=>"foo@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "762146111"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE (LOWER("users"."email") = LOWER('foo@invalid') AND "users"."id" != 762146111) LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
------------------------------------------------
UsersSignupTest: test_invalid_signup_information
------------------------------------------------
Started GET "/users/new" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (15.7ms)
  Rendered users/new.html.erb within layouts/application (53.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 69ms (Views: 60.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started POST "/users?user%5Bemail%5D=user%40invalid&user%5Bname%5D=&user%5Bpassword%5D=[FILTERED]&user%5Bpassword_confirmation%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by UsersController#create as HTML
  Parameters: {"user"=>{"email"=>"user@invalid", "name"=>"", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}}
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mUser Exists (0.0ms)[0m  SELECT  1 AS one FROM "users" WHERE LOWER("users"."email") = LOWER('user@invalid') LIMIT 1
  [1m[36m (0.0ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered shared/_error_messages.html.erb (15.7ms)
  Rendered users/_form.html.erb (15.7ms)
  Rendered users/new.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
----------------------------------------
UsersControllerTest: test_should_get_new
----------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/new" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by UsersController#new as HTML
  Rendered shared/_error_messages.html.erb (0.0ms)
  Rendered users/_form.html.erb (0.0ms)
  Rendered users/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_logged_in_as_wrong_user
-----------------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$n2hoVMskUk.W.w0Ro0XWTOQS6N25DiB.DB31K0GYXNV9ADfxYGJK."], ["updated_at", "2017-01-04 01:15:39.125029"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_not_logged_in
-----------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UsersControllerTest: test_should_redirect_update_when_not_logged_in
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Started PATCH "/users/762146111" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by UsersController#update as HTML
  Parameters: {"params"=>{"user"=>{"name"=>"彭兆卿", "email"=>"student1@test.com"}}, "id"=>"762146111"}
Redirected to http://www.example.com/
Filter chain halted as :logged_in rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
--------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_not_logged_in
--------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_destroy_when_logged_in_as_a_non-admin
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$Jov/NQ5ciNFS7chyUB6S4e0EfIj66q75dvkkGgMxzuqXA02t5TF.C"], ["updated_at", "2017-01-04 01:15:39.178428"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)
  [1m[35m (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Started DELETE "/users/762146111" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"762146111"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
---------------------------------------------------------------------------
UsersControllerTest: test_should_redirect_edit_when_logged_in_as_wrong_user
---------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 762146111]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$gq0q023LPGVroVBtEia6iuIPO7t3MjH5khEcZwPfS3q7Fn1EaeLR."], ["updated_at", "2017-01-04 01:15:39.194092"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
Started GET "/users/762146111/edit" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by UsersController#edit as HTML
  Parameters: {"id"=>"762146111"}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 762146111]]
Redirected to http://www.example.com/
Filter chain halted as :correct_user rendered or redirected
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-------------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_nil_when_remember_digest_is_wrong
-------------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$457OONTfI11C1KxKiNG8nOp/mA6obv5jcyYv2qihTVp9nLQVLRqGG"], ["updated_at", "2017-01-04 01:15:39.194092"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$A5IkIlaDmbewCQYsEasTLuXo18gXVDDS.B5nPLCRszu96RDXREc3u"], ["updated_at", "2017-01-04 01:15:39.209718"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
----------------------------------------------------------------------------
SessionsHelperTest: test_current_user_returns_right_user_when_session_is_nil
----------------------------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  UPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3  [["remember_digest", "$2a$04$yjc7BftVe/Tyy4RlbwdvaOdDi2z8h9lZ/x7O5Vj1Oi0uwtGsEZOca"], ["updated_at", "2017-01-04 01:15:39.209718"], ["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
---------------------------------------------
UserLoginTest: test_login_without_remembering
---------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$R1EYKSJLo.jLZSzRoHaPU.7HPxk32Lq.QC1xD//KBuPvU3H3YVP8e"], ["updated_at", "2017-01-04 01:15:39.225309"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=0" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.0ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", nil], ["updated_at", "2017-01-04 01:15:39.240936"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-------------------------------------------------------------------
UserLoginTest: test_login_with_valid_information_followed_by_logout
-------------------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (15.7ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 84ms (Views: 83.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#destroy as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started DELETE "/sessions/logout" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#destroy as HTML
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 3.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_student
-----------------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 2.7ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", "rongtongjin@gmail.com"]]
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 4ms (ActiveRecord: 0.5ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 3.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.0ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
--------------------------------------------------
UserLoginTest: test_login_with_invalid_information
--------------------------------------------------
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 430533587]]
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 4.2ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=&session%5Bpassword%5D=" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1  [["email", ""]]
Redirected to http://www.example.com/
Completed 302 Found in 0ms (ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
------------------------------------------
UserLoginTest: test_login_with_remembering
------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started POST "/sessions/login?session%5Bemail%5D=rongtongjin%40gmail.com&session%5Bpassword%5D=[FILTERED]&session%5Bremember_me%5D=1" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"rongtongjin@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"1"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "rongtongjin@gmail.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (15.6ms)[0m  [1mUPDATE "users" SET "remember_digest" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["remember_digest", "$2a$04$3mw0BA8jttyNojGXknHUpuwkcvVoXJVwzOIlr9BCjr1jDbR9VJ9rK"], ["updated_at", "2017-01-04 01:15:39.394243"], ["id", 430533587]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 15.6ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
-----------------------------------------------------------
UserLoginTest: test_login_with_valid_information_by_teacher
-----------------------------------------------------------
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 430533587]]
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
Started GET "/sessions/login" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#new as HTML
  Rendered sessions/new.html.erb within layouts/application (0.0ms)
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 2.9ms | ActiveRecord: 0.0ms)
Started POST "/sessions/login?session%5Bemail%5D=teacher4%40test.com&session%5Bpassword%5D=[FILTERED]" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by SessionsController#create as HTML
  Parameters: {"session"=>{"email"=>"teacher4@test.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 LIMIT 1[0m  [["email", "teacher4@test.com"]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36m (15.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/
Completed 302 Found in 16ms (ActiveRecord: 15.6ms)
Started GET "/" for 127.0.0.1 at 2017-01-04 09:15:39 +0800
Processing by HomesController#index as HTML
  Rendered homes/index.html.erb within layouts/application (0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 369664257]]
  Rendered layouts/_header.html.erb (0.0ms)
  Rendered layouts/_content.html.erb (0.0ms)
  Rendered layouts/_footer.html.erb (0.0ms)
Completed 200 OK in 0ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
